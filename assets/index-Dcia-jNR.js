var Zf=Object.defineProperty;var th=(e,t,s)=>t in e?Zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Q=(e,t,s)=>th(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pa(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ft={},bn=[],Xe=()=>{},Au=()=>!1,Po=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ma=e=>e.startsWith("onUpdate:"),ie=Object.assign,ga=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},eh=Object.prototype.hasOwnProperty,Pt=(e,t)=>eh.call(e,t),mt=Array.isArray,xn=e=>Si(e)==="[object Map]",Lo=e=>Si(e)==="[object Set]",el=e=>Si(e)==="[object Date]",vt=e=>typeof e=="function",Kt=e=>typeof e=="string",Qe=e=>typeof e=="symbol",Dt=e=>e!==null&&typeof e=="object",Su=e=>(Dt(e)||vt(e))&&vt(e.then)&&vt(e.catch),Tu=Object.prototype.toString,Si=e=>Tu.call(e),sh=e=>Si(e).slice(8,-1),Cu=e=>Si(e)==="[object Object]",ba=e=>Kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kn=pa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},nh=/-\w/g,Oe=Oo(e=>e.replace(nh,t=>t.slice(1).toUpperCase())),ih=/\B([A-Z])/g,un=Oo(e=>e.replace(ih,"-$1").toLowerCase()),Ro=Oo(e=>e.charAt(0).toUpperCase()+e.slice(1)),nr=Oo(e=>e?`on${Ro(e)}`:""),Rs=(e,t)=>!Object.is(e,t),Ki=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Mu=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Do=e=>{const t=parseFloat(e);return isNaN(t)?e:t},oh=e=>{const t=Kt(e)?Number(e):NaN;return isNaN(t)?e:t};let sl;const No=()=>sl||(sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ie(e){if(mt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Kt(n)?ch(n):Ie(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Kt(e)||Dt(e))return e}const rh=/;(?![^(]*\))/g,ah=/:([^]+)/,lh=/\/\*[^]*?\*\//g;function ch(e){const t={};return e.replace(lh,"").split(rh).forEach(s=>{if(s){const n=s.split(ah);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Nt(e){let t="";if(Kt(e))t=e;else if(mt(e))for(let s=0;s<e.length;s++){const n=Nt(e[s]);n&&(t+=n+" ")}else if(Dt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const uh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dh=pa(uh);function Eu(e){return!!e||e===""}function fh(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Fo(e[n],t[n]);return s}function Fo(e,t){if(e===t)return!0;let s=el(e),n=el(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Qe(e),n=Qe(t),s||n)return e===t;if(s=mt(e),n=mt(t),s||n)return s&&n?fh(e,t):!1;if(s=Dt(e),n=Dt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!Fo(e[r],t[r]))return!1}}return String(e)===String(t)}function hh(e,t){return e.findIndex(s=>Fo(s,t))}const Iu=e=>!!(e&&e.__v_isRef===!0),N=e=>Kt(e)?e:e==null?"":mt(e)||Dt(e)&&(e.toString===Tu||!vt(e.toString))?Iu(e)?N(e.value):JSON.stringify(e,Pu,2):String(e),Pu=(e,t)=>Iu(t)?Pu(e,t.value):xn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[ir(n,o)+" =>"]=i,s),{})}:Lo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>ir(s))}:Qe(t)?ir(t):Dt(t)&&!mt(t)&&!Cu(t)?String(t):t,ir=(e,t="")=>{var s;return Qe(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ye;class ph{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ye;try{return ye=this,t()}finally{ye=s}}}on(){++this._on===1&&(this.prevScope=ye,ye=this)}off(){this._on>0&&--this._on===0&&(ye=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function mh(){return ye}let Bt;const or=new WeakSet;class Lu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,or.has(this)&&(or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ru(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nl(this),Du(this);const t=Bt,s=De;Bt=this,De=!0;try{return this.fn()}finally{Nu(this),Bt=t,De=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ya(t);this.deps=this.depsTail=void 0,nl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dr(this)&&this.run()}get dirty(){return Dr(this)}}let Ou=0,Xn,Jn;function Ru(e,t=!1){if(e.flags|=8,t){e.next=Jn,Jn=e;return}e.next=Xn,Xn=e}function xa(){Ou++}function va(){if(--Ou>0)return;if(Jn){let t=Jn;for(Jn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Xn;){let t=Xn;for(Xn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Du(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Nu(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),ya(n),gh(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Dr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===li)||(e.globalVersion=li,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Dr(e))))return;e.flags|=2;const t=e.dep,s=Bt,n=De;Bt=e,De=!0;try{Du(e);const i=e.fn(e._value);(t.version===0||Rs(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Bt=s,De=n,Nu(e),e.flags&=-3}}function ya(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ya(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function gh(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let De=!0;const $u=[];function gs(){$u.push(De),De=!1}function bs(){const e=$u.pop();De=e===void 0?!0:e}function nl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Bt;Bt=void 0;try{t()}finally{Bt=s}}}let li=0;class bh{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _a{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Bt||!De||Bt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Bt)s=this.activeLink=new bh(Bt,this),Bt.deps?(s.prevDep=Bt.depsTail,Bt.depsTail.nextDep=s,Bt.depsTail=s):Bt.deps=Bt.depsTail=s,Bu(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Bt.depsTail,s.nextDep=void 0,Bt.depsTail.nextDep=s,Bt.depsTail=s,Bt.deps===s&&(Bt.deps=n)}return s}trigger(t){this.version++,li++,this.notify(t)}notify(t){xa();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{va()}}}function Bu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Bu(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Nr=new WeakMap,sn=Symbol(""),Fr=Symbol(""),ci=Symbol("");function ae(e,t,s){if(De&&Bt){let n=Nr.get(e);n||Nr.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new _a),i.map=n,i.key=s),i.track()}}function cs(e,t,s,n,i,o){const r=Nr.get(e);if(!r){li++;return}const a=l=>{l&&l.trigger()};if(xa(),t==="clear")r.forEach(a);else{const l=mt(e),c=l&&ba(s);if(l&&s==="length"){const u=Number(n);r.forEach((d,h)=>{(h==="length"||h===ci||!Qe(h)&&h>=u)&&a(d)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(ci)),t){case"add":l?c&&a(r.get("length")):(a(r.get(sn)),xn(e)&&a(r.get(Fr)));break;case"delete":l||(a(r.get(sn)),xn(e)&&a(r.get(Fr)));break;case"set":xn(e)&&a(r.get(sn));break}}va()}function fn(e){const t=Et(e);return t===e?t:(ae(t,"iterate",ci),Le(e)?t:t.map($e))}function $o(e){return ae(e=Et(e),"iterate",ci),e}function Ss(e,t){return xs(e)?nn(e)?kn($e(t)):kn(t):$e(t)}const xh={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,e=>Ss(this,e))},concat(...e){return fn(this).concat(...e.map(t=>mt(t)?fn(t):t))},entries(){return rr(this,"entries",e=>(e[1]=Ss(this,e[1]),e))},every(e,t){return Ze(this,"every",e,t,void 0,arguments)},filter(e,t){return Ze(this,"filter",e,t,s=>s.map(n=>Ss(this,n)),arguments)},find(e,t){return Ze(this,"find",e,t,s=>Ss(this,s),arguments)},findIndex(e,t){return Ze(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ze(this,"findLast",e,t,s=>Ss(this,s),arguments)},findLastIndex(e,t){return Ze(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ze(this,"forEach",e,t,void 0,arguments)},includes(...e){return ar(this,"includes",e)},indexOf(...e){return ar(this,"indexOf",e)},join(e){return fn(this).join(e)},lastIndexOf(...e){return ar(this,"lastIndexOf",e)},map(e,t){return Ze(this,"map",e,t,void 0,arguments)},pop(){return Ln(this,"pop")},push(...e){return Ln(this,"push",e)},reduce(e,...t){return il(this,"reduce",e,t)},reduceRight(e,...t){return il(this,"reduceRight",e,t)},shift(){return Ln(this,"shift")},some(e,t){return Ze(this,"some",e,t,void 0,arguments)},splice(...e){return Ln(this,"splice",e)},toReversed(){return fn(this).toReversed()},toSorted(e){return fn(this).toSorted(e)},toSpliced(...e){return fn(this).toSpliced(...e)},unshift(...e){return Ln(this,"unshift",e)},values(){return rr(this,"values",e=>Ss(this,e))}};function rr(e,t,s){const n=$o(e),i=n[t]();return n!==e&&!Le(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=s(o.value)),o}),i}const vh=Array.prototype;function Ze(e,t,s,n,i,o){const r=$o(e),a=r!==e&&!Le(e),l=r[t];if(l!==vh[t]){const d=l.apply(e,o);return a?$e(d):d}let c=s;r!==e&&(a?c=function(d,h){return s.call(this,Ss(e,d),h,e)}:s.length>2&&(c=function(d,h){return s.call(this,d,h,e)}));const u=l.call(r,c,n);return a&&i?i(u):u}function il(e,t,s,n){const i=$o(e);let o=s;return i!==e&&(Le(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,Ss(e,a),l,e)}),i[t](o,...n)}function ar(e,t,s){const n=Et(e);ae(n,"iterate",ci);const i=n[t](...s);return(i===-1||i===!1)&&Aa(s[0])?(s[0]=Et(s[0]),n[t](...s)):i}function Ln(e,t,s=[]){gs(),xa();const n=Et(e)[t].apply(e,s);return va(),bs(),n}const yh=pa("__proto__,__v_isRef,__isVue"),ju=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qe));function _h(e){Qe(e)||(e=String(e));const t=Et(this);return ae(t,"has",e),t.hasOwnProperty(e)}class Vu{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Ph:Wu:o?Uu:Hu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=mt(t);if(!i){let l;if(r&&(l=xh[s]))return l;if(s==="hasOwnProperty")return _h}const a=Reflect.get(t,s,ue(t)?t:n);if((Qe(s)?ju.has(s):yh(s))||(i||ae(t,"get",s),o))return a;if(ue(a)){const l=r&&ba(s)?a:a.value;return i&&Dt(l)?Br(l):l}return Dt(a)?i?Br(a):Bo(a):a}}class zu extends Vu{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];const r=mt(t)&&ba(s);if(!this._isShallow){const c=xs(o);if(!Le(n)&&!xs(n)&&(o=Et(o),n=Et(n)),!r&&ue(o)&&!ue(n))return c||(o.value=n),!0}const a=r?Number(s)<t.length:Pt(t,s),l=Reflect.set(t,s,n,ue(t)?t:i);return t===Et(i)&&(a?Rs(n,o)&&cs(t,"set",s,n):cs(t,"add",s,n)),l}deleteProperty(t,s){const n=Pt(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&cs(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Qe(s)||!ju.has(s))&&ae(t,"has",s),n}ownKeys(t){return ae(t,"iterate",mt(t)?"length":sn),Reflect.ownKeys(t)}}class wh extends Vu{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const kh=new zu,Ah=new wh,Sh=new zu(!0);const $r=e=>e,Pi=e=>Reflect.getPrototypeOf(e);function Th(e,t,s){return function(...n){const i=this.__v_raw,o=Et(i),r=xn(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),u=s?$r:t?kn:$e;return!t&&ae(o,"iterate",l?Fr:sn),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Li(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ch(e,t){const s={get(i){const o=this.__v_raw,r=Et(o),a=Et(i);e||(Rs(i,a)&&ae(r,"get",i),ae(r,"get",a));const{has:l}=Pi(r),c=t?$r:e?kn:$e;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&ae(Et(i),"iterate",sn),i.size},has(i){const o=this.__v_raw,r=Et(o),a=Et(i);return e||(Rs(i,a)&&ae(r,"has",i),ae(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=Et(a),c=t?$r:e?kn:$e;return!e&&ae(l,"iterate",sn),a.forEach((u,d)=>i.call(o,c(u),c(d),r))}};return ie(s,e?{add:Li("add"),set:Li("set"),delete:Li("delete"),clear:Li("clear")}:{add(i){!t&&!Le(i)&&!xs(i)&&(i=Et(i));const o=Et(this);return Pi(o).has.call(o,i)||(o.add(i),cs(o,"add",i,i)),this},set(i,o){!t&&!Le(o)&&!xs(o)&&(o=Et(o));const r=Et(this),{has:a,get:l}=Pi(r);let c=a.call(r,i);c||(i=Et(i),c=a.call(r,i));const u=l.call(r,i);return r.set(i,o),c?Rs(o,u)&&cs(r,"set",i,o):cs(r,"add",i,o),this},delete(i){const o=Et(this),{has:r,get:a}=Pi(o);let l=r.call(o,i);l||(i=Et(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&cs(o,"delete",i,void 0),c},clear(){const i=Et(this),o=i.size!==0,r=i.clear();return o&&cs(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Th(i,e,t)}),s}function wa(e,t){const s=Ch(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Pt(s,i)&&i in n?s:n,i,o)}const Mh={get:wa(!1,!1)},Eh={get:wa(!1,!0)},Ih={get:wa(!0,!1)};const Hu=new WeakMap,Uu=new WeakMap,Wu=new WeakMap,Ph=new WeakMap;function Lh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oh(e){return e.__v_skip||!Object.isExtensible(e)?0:Lh(sh(e))}function Bo(e){return xs(e)?e:ka(e,!1,kh,Mh,Hu)}function qu(e){return ka(e,!1,Sh,Eh,Uu)}function Br(e){return ka(e,!0,Ah,Ih,Wu)}function ka(e,t,s,n,i){if(!Dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Oh(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function nn(e){return xs(e)?nn(e.__v_raw):!!(e&&e.__v_isReactive)}function xs(e){return!!(e&&e.__v_isReadonly)}function Le(e){return!!(e&&e.__v_isShallow)}function Aa(e){return e?!!e.__v_raw:!1}function Et(e){const t=e&&e.__v_raw;return t?Et(t):e}function Rh(e){return!Pt(e,"__v_skip")&&Object.isExtensible(e)&&Mu(e,"__v_skip",!0),e}const $e=e=>Dt(e)?Bo(e):e,kn=e=>Dt(e)?Br(e):e;function ue(e){return e?e.__v_isRef===!0:!1}function ct(e){return Gu(e,!1)}function Dh(e){return Gu(e,!0)}function Gu(e,t){return ue(e)?e:new Nh(e,t)}class Nh{constructor(t,s){this.dep=new _a,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Et(t),this._value=s?t:$e(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Le(t)||xs(t);t=n?t:Et(t),Rs(t,s)&&(this._rawValue=t,this._value=n?t:$e(t),this.dep.trigger())}}function Ct(e){return ue(e)?e.value:e}const Fh={get:(e,t,s)=>t==="__v_raw"?e:Ct(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ue(i)&&!ue(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Yu(e){return nn(e)?e:new Proxy(e,Fh)}class $h{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new _a(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=li-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return Ru(this,!0),!0}get value(){const t=this.dep.track();return Fu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Bh(e,t,s=!1){let n,i;return vt(e)?n=e:(n=e.get,i=e.set),new $h(n,i,s)}const Oi={},co=new WeakMap;let Ks;function jh(e,t=!1,s=Ks){if(s){let n=co.get(s);n||co.set(s,n=[]),n.push(e)}}function Vh(e,t,s=Ft){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=S=>i?S:Le(S)||i===!1||i===0?us(S,1):us(S);let u,d,h,p,m=!1,g=!1;if(ue(e)?(d=()=>e.value,m=Le(e)):nn(e)?(d=()=>c(e),m=!0):mt(e)?(g=!0,m=e.some(S=>nn(S)||Le(S)),d=()=>e.map(S=>{if(ue(S))return S.value;if(nn(S))return c(S);if(vt(S))return l?l(S,2):S()})):vt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){gs();try{h()}finally{bs()}}const S=Ks;Ks=u;try{return l?l(e,3,[p]):e(p)}finally{Ks=S}}:d=Xe,t&&i){const S=d,E=i===!0?1/0:i;d=()=>us(S(),E)}const x=mh(),v=()=>{u.stop(),x&&x.active&&ga(x.effects,u)};if(o&&t){const S=t;t=(...E)=>{S(...E),v()}}let _=g?new Array(e.length).fill(Oi):Oi;const C=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const E=u.run();if(i||m||(g?E.some((B,$)=>Rs(B,_[$])):Rs(E,_))){h&&h();const B=Ks;Ks=u;try{const $=[E,_===Oi?void 0:g&&_[0]===Oi?[]:_,p];_=E,l?l(t,3,$):t(...$)}finally{Ks=B}}}else u.run()};return a&&a(C),u=new Lu(d),u.scheduler=r?()=>r(C,!1):C,p=S=>jh(S,!1,u),h=u.onStop=()=>{const S=co.get(u);if(S){if(l)l(S,4);else for(const E of S)E();co.delete(u)}},t?n?C(!0):_=u.run():r?r(C.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function us(e,t=1/0,s){if(t<=0||!Dt(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,ue(e))us(e.value,t,s);else if(mt(e))for(let n=0;n<e.length;n++)us(e[n],t,s);else if(Lo(e)||xn(e))e.forEach(n=>{us(n,t,s)});else if(Cu(e)){for(const n in e)us(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&us(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(e,t,s,n){try{return n?e(...n):e()}catch(i){jo(i,t,s)}}function Be(e,t,s,n){if(vt(e)){const i=Ti(e,t,s,n);return i&&Su(i)&&i.catch(o=>{jo(o,t,s)}),i}if(mt(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Be(e[o],t,s,n));return i}}function jo(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Ft;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(o){gs(),Ti(o,null,10,[e,l,c]),bs();return}}zh(e,s,i,n,r)}function zh(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const me=[];let Ge=-1;const vn=[];let Ts=null,mn=0;const Ku=Promise.resolve();let uo=null;function Ci(e){const t=uo||Ku;return e?t.then(this?e.bind(this):e):t}function Hh(e){let t=Ge+1,s=me.length;for(;t<s;){const n=t+s>>>1,i=me[n],o=ui(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function Sa(e){if(!(e.flags&1)){const t=ui(e),s=me[me.length-1];!s||!(e.flags&2)&&t>=ui(s)?me.push(e):me.splice(Hh(t),0,e),e.flags|=1,Xu()}}function Xu(){uo||(uo=Ku.then(Qu))}function Uh(e){mt(e)?vn.push(...e):Ts&&e.id===-1?Ts.splice(mn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),Xu()}function ol(e,t,s=Ge+1){for(;s<me.length;s++){const n=me[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;me.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ju(e){if(vn.length){const t=[...new Set(vn)].sort((s,n)=>ui(s)-ui(n));if(vn.length=0,Ts){Ts.push(...t);return}for(Ts=t,mn=0;mn<Ts.length;mn++){const s=Ts[mn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ts=null,mn=0}}const ui=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Qu(e){try{for(Ge=0;Ge<me.length;Ge++){const t=me[Ge];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ti(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ge<me.length;Ge++){const t=me[Ge];t&&(t.flags&=-2)}Ge=-1,me.length=0,Ju(),uo=null,(me.length||vn.length)&&Qu()}}let Te=null,Zu=null;function fo(e){const t=Te;return Te=e,Zu=e&&e.type.__scopeId||null,t}function Qt(e,t=Te,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&go(-1);const o=fo(t);let r;try{r=e(...i)}finally{fo(o),n._d&&go(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function zt(e,t){if(Te===null)return e;const s=Wo(Te),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=Ft]=t[i];o&&(vt(o)&&(o={mounted:o,updated:o}),o.deep&&us(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Vs(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(gs(),Be(l,s,8,[e.el,a,e,t]),bs())}}function Xi(e,t){if(le){let s=le.provides;const n=le.parent&&le.parent.provides;n===s&&(s=le.provides=Object.create(n)),s[e]=t}}function Ne(e,t,s=!1){const n=Od();if(n||yn){let i=yn?yn._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&vt(t)?t.call(n&&n.proxy):t}}const Wh=Symbol.for("v-scx"),qh=()=>Ne(Wh);function ms(e,t,s){return td(e,t,s)}function td(e,t,s=Ft){const{immediate:n,deep:i,flush:o,once:r}=s,a=ie({},s),l=t&&n||!t&&o!=="post";let c;if(hi){if(o==="sync"){const p=qh();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Xe,p.resume=Xe,p.pause=Xe,p}}const u=le;a.call=(p,m,g)=>Be(p,u,m,g);let d=!1;o==="post"?a.scheduler=p=>{Ae(p,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():Sa(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=Vh(e,t,a);return hi&&(c?c.push(h):l&&h()),h}function Gh(e,t,s){const n=this.proxy,i=Kt(e)?e.includes(".")?ed(n,e):()=>n[e]:e.bind(n,n);let o;vt(t)?o=t:(o=t.handler,s=t);const r=Mi(this),a=td(i,o.bind(n),s);return r(),a}function ed(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Yh=Symbol("_vte"),sd=e=>e.__isTeleport,rs=Symbol("_leaveCb"),Ri=Symbol("_enterCb");function Kh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ve(()=>{e.isMounted=!0}),dd(()=>{e.isUnmounting=!0}),e}const Me=[Function,Array],nd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},id=e=>{const t=e.subTree;return t.component?id(t.component):t},Xh={name:"BaseTransition",props:nd,setup(e,{slots:t}){const s=Od(),n=Kh();return()=>{const i=t.default&&ad(t.default(),!0);if(!i||!i.length)return;const o=od(i),r=Et(e),{mode:a}=r;if(n.isLeaving)return lr(o);const l=rl(o);if(!l)return lr(o);let c=jr(l,r,n,s,d=>c=d);l.type!==ge&&di(l,c);let u=s.subTree&&rl(s.subTree);if(u&&u.type!==ge&&!Qs(u,l)&&id(s).type!==ge){let d=jr(u,r,n,s);if(di(u,d),a==="out-in"&&l.type!==ge)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},lr(o);a==="in-out"&&l.type!==ge?d.delayLeave=(h,p,m)=>{const g=rd(n,u);g[String(u.key)]=u,h[rs]=()=>{p(),h[rs]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function od(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==ge){t=s;break}}return t}const Jh=Xh;function rd(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function jr(e,t,s,n,i){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:x,onAppear:v,onAfterAppear:_,onAppearCancelled:C}=t,S=String(e.key),E=rd(s,e),B=(V,K)=>{V&&Be(V,n,9,K)},$=(V,K)=>{const R=K[1];B(V,K),mt(V)?V.every(w=>w.length<=1)&&R():V.length<=1&&R()},j={mode:r,persisted:a,beforeEnter(V){let K=l;if(!s.isMounted)if(o)K=x||l;else return;V[rs]&&V[rs](!0);const R=E[S];R&&Qs(e,R)&&R.el[rs]&&R.el[rs](),B(K,[V])},enter(V){let K=c,R=u,w=d;if(!s.isMounted)if(o)K=v||c,R=_||u,w=C||d;else return;let Z=!1;const q=V[Ri]=dt=>{Z||(Z=!0,dt?B(w,[V]):B(R,[V]),j.delayedLeave&&j.delayedLeave(),V[Ri]=void 0)};K?$(K,[V,q]):q()},leave(V,K){const R=String(e.key);if(V[Ri]&&V[Ri](!0),s.isUnmounting)return K();B(h,[V]);let w=!1;const Z=V[rs]=q=>{w||(w=!0,K(),q?B(g,[V]):B(m,[V]),V[rs]=void 0,E[R]===e&&delete E[R])};E[R]=e,p?$(p,[V,Z]):Z()},clone(V){const K=jr(V,t,s,n,i);return i&&i(K),K}};return j}function lr(e){if(Vo(e))return e=Fs(e),e.children=null,e}function rl(e){if(!Vo(e))return sd(e.type)&&e.children?od(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&vt(s.default))return s.default()}}function di(e,t){e.shapeFlag&6&&e.component?(e.transition=t,di(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ad(e,t=!1,s){let n=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===rt?(r.patchFlag&128&&i++,n=n.concat(ad(r.children,t,a))):(t||r.type!==ge)&&n.push(a!=null?Fs(r,{key:a}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function ld(e,t){return vt(e)?ie({name:e.name},t,{setup:e}):e}function cd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ho=new WeakMap;function Qn(e,t,s,n,i=!1){if(mt(e)){e.forEach((m,g)=>Qn(m,t&&(mt(t)?t[g]:t),s,n,i));return}if(Zn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Qn(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?Wo(n.component):n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ft?a.refs={}:a.refs,d=a.setupState,h=Et(d),p=d===Ft?Au:m=>Pt(h,m);if(c!=null&&c!==l){if(al(t),Kt(c))u[c]=null,p(c)&&(d[c]=null);else if(ue(c)){c.value=null;const m=t;m.k&&(u[m.k]=null)}}if(vt(l))Ti(l,a,12,[r,u]);else{const m=Kt(l),g=ue(l);if(m||g){const x=()=>{if(e.f){const v=m?p(l)?d[l]:u[l]:l.value;if(i)mt(v)&&ga(v,o);else if(mt(v))v.includes(o)||v.push(o);else if(m)u[l]=[o],p(l)&&(d[l]=u[l]);else{const _=[o];l.value=_,e.k&&(u[e.k]=_)}}else m?(u[l]=r,p(l)&&(d[l]=r)):g&&(l.value=r,e.k&&(u[e.k]=r))};if(r){const v=()=>{x(),ho.delete(e)};v.id=-1,ho.set(e,v),Ae(v,s)}else al(e),x()}}}function al(e){const t=ho.get(e);t&&(t.flags|=8,ho.delete(e))}No().requestIdleCallback;No().cancelIdleCallback;const Zn=e=>!!e.type.__asyncLoader,Vo=e=>e.type.__isKeepAlive;function Qh(e,t){ud(e,"a",t)}function Zh(e,t){ud(e,"da",t)}function ud(e,t,s=le){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(zo(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Vo(i.parent.vnode)&&tp(n,t,s,i),i=i.parent}}function tp(e,t,s,n){const i=zo(t,e,n,!0);In(()=>{ga(n[t],i)},s)}function zo(e,t,s=le,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{gs();const a=Mi(s),l=Be(t,s,e,r);return a(),bs(),l});return n?i.unshift(o):i.push(o),o}}const vs=e=>(t,s=le)=>{(!hi||e==="sp")&&zo(e,(...n)=>t(...n),s)},ep=vs("bm"),Ve=vs("m"),sp=vs("bu"),np=vs("u"),dd=vs("bum"),In=vs("um"),ip=vs("sp"),op=vs("rtg"),rp=vs("rtc");function ap(e,t=le){zo("ec",e,t)}const fd="components";function po(e,t){return pd(fd,e,!0,t)||e}const hd=Symbol.for("v-ndc");function lp(e){return Kt(e)?pd(fd,e,!1)||e:e||hd}function pd(e,t,s=!0,n=!1){const i=Te||le;if(i){const o=i.type;{const a=qp(o,!1);if(a&&(a===t||a===Oe(t)||a===Ro(Oe(t))))return o}const r=ll(i[e]||o[e],t)||ll(i.appContext[e],t);return!r&&n?o:r}}function ll(e,t){return e&&(e[t]||e[Oe(t)]||e[Ro(Oe(t))])}function wt(e,t,s,n){let i;const o=s,r=mt(e);if(r||Kt(e)){const a=r&&nn(e);let l=!1,c=!1;a&&(l=!Le(e),c=xs(e),e=$o(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?kn($e(e[u])):$e(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(Dt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,o)}}else i=[];return i}const Vr=e=>e?Rd(e)?Wo(e):Vr(e.parent):null,ti=ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vr(e.parent),$root:e=>Vr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gd(e),$forceUpdate:e=>e.f||(e.f=()=>{Sa(e.update)}),$nextTick:e=>e.n||(e.n=Ci.bind(e.proxy)),$watch:e=>Gh.bind(e)}),cr=(e,t)=>e!==Ft&&!e.__isScriptSetup&&Pt(e,t),cp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;if(t[0]!=="$"){const h=r[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(cr(n,t))return r[t]=1,n[t];if(i!==Ft&&Pt(i,t))return r[t]=2,i[t];if(Pt(o,t))return r[t]=3,o[t];if(s!==Ft&&Pt(s,t))return r[t]=4,s[t];zr&&(r[t]=0)}}const c=ti[t];let u,d;if(c)return t==="$attrs"&&ae(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(s!==Ft&&Pt(s,t))return r[t]=4,s[t];if(d=l.config.globalProperties,Pt(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return cr(i,t)?(i[t]=s,!0):n!==Ft&&Pt(n,t)?(n[t]=s,!0):Pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,props:o,type:r}},a){let l;return!!(s[a]||e!==Ft&&a[0]!=="$"&&Pt(e,a)||cr(t,a)||Pt(o,a)||Pt(n,a)||Pt(ti,a)||Pt(i.config.globalProperties,a)||(l=r.__cssModules)&&l[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Pt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function cl(e){return mt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let zr=!0;function up(e){const t=gd(e),s=e.proxy,n=e.ctx;zr=!1,t.beforeCreate&&ul(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:x,beforeDestroy:v,beforeUnmount:_,destroyed:C,unmounted:S,render:E,renderTracked:B,renderTriggered:$,errorCaptured:j,serverPrefetch:V,expose:K,inheritAttrs:R,components:w,directives:Z,filters:q}=t;if(c&&dp(c,n,null),r)for(const O in r){const nt=r[O];vt(nt)&&(n[O]=nt.bind(s))}if(i){const O=i.call(s,s);Dt(O)&&(e.data=Bo(O))}if(zr=!0,o)for(const O in o){const nt=o[O],gt=vt(nt)?nt.bind(s,s):vt(nt.get)?nt.get.bind(s,s):Xe,qt=!vt(nt)&&vt(nt.set)?nt.set.bind(s):Xe,Y=_t({get:gt,set:qt});Object.defineProperty(n,O,{enumerable:!0,configurable:!0,get:()=>Y.value,set:I=>Y.value=I})}if(a)for(const O in a)md(a[O],n,s,O);if(l){const O=vt(l)?l.call(s):l;Reflect.ownKeys(O).forEach(nt=>{Xi(nt,O[nt])})}u&&ul(u,e,"c");function at(O,nt){mt(nt)?nt.forEach(gt=>O(gt.bind(s))):nt&&O(nt.bind(s))}if(at(ep,d),at(Ve,h),at(sp,p),at(np,m),at(Qh,g),at(Zh,x),at(ap,j),at(rp,B),at(op,$),at(dd,_),at(In,S),at(ip,V),mt(K))if(K.length){const O=e.exposed||(e.exposed={});K.forEach(nt=>{Object.defineProperty(O,nt,{get:()=>s[nt],set:gt=>s[nt]=gt,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===Xe&&(e.render=E),R!=null&&(e.inheritAttrs=R),w&&(e.components=w),Z&&(e.directives=Z),V&&cd(e)}function dp(e,t,s=Xe){mt(e)&&(e=Hr(e));for(const n in e){const i=e[n];let o;Dt(i)?"default"in i?o=Ne(i.from||n,i.default,!0):o=Ne(i.from||n):o=Ne(i),ue(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function ul(e,t,s){Be(mt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function md(e,t,s,n){let i=n.includes(".")?ed(s,n):()=>s[n];if(Kt(e)){const o=t[e];vt(o)&&ms(i,o)}else if(vt(e))ms(i,e.bind(s));else if(Dt(e))if(mt(e))e.forEach(o=>md(o,t,s,n));else{const o=vt(e.handler)?e.handler.bind(s):t[e.handler];vt(o)&&ms(i,o,e)}}function gd(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>mo(l,c,r,!0)),mo(l,t,r)),Dt(t)&&o.set(t,l),l}function mo(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&mo(e,o,s,!0),i&&i.forEach(r=>mo(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=fp[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const fp={data:dl,props:fl,emits:fl,methods:zn,computed:zn,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:zn,directives:zn,watch:pp,provide:dl,inject:hp};function dl(e,t){return t?e?function(){return ie(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function hp(e,t){return zn(Hr(e),Hr(t))}function Hr(e){if(mt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function zn(e,t){return e?ie(Object.create(null),e,t):t}function fl(e,t){return e?mt(e)&&mt(t)?[...new Set([...e,...t])]:ie(Object.create(null),cl(e),cl(t??{})):t}function pp(e,t){if(!e)return t;if(!t)return e;const s=ie(Object.create(null),e);for(const n in t)s[n]=fe(e[n],t[n]);return s}function bd(){return{app:null,config:{isNativeTag:Au,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mp=0;function gp(e,t){return function(n,i=null){vt(n)||(n=ie({},n)),i!=null&&!Dt(i)&&(i=null);const o=bd(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:mp++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Yp,get config(){return o.config},set config(u){},use(u,...d){return r.has(u)||(u&&vt(u.install)?(r.add(u),u.install(c,...d)):vt(u)&&(r.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||Tt(n,i);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(p,u,h),l=!0,c._container=u,u.__vue_app__=c,Wo(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Be(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=yn;yn=c;try{return u()}finally{yn=d}}};return c}}let yn=null;const bp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Oe(t)}Modifiers`]||e[`${un(t)}Modifiers`];function xp(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Ft;let i=s;const o=t.startsWith("update:"),r=o&&bp(n,t.slice(7));r&&(r.trim&&(i=s.map(u=>Kt(u)?u.trim():u)),r.number&&(i=s.map(Do)));let a,l=n[a=nr(t)]||n[a=nr(Oe(t))];!l&&o&&(l=n[a=nr(un(t))]),l&&Be(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Be(c,e,6,i)}}const vp=new WeakMap;function xd(e,t,s=!1){const n=s?vp:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!vt(e)){const l=c=>{const u=xd(c,t,!0);u&&(a=!0,ie(r,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Dt(e)&&n.set(e,null),null):(mt(o)?o.forEach(l=>r[l]=null):ie(r,o),Dt(e)&&n.set(e,r),r)}function Ho(e,t){return!e||!Po(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(e,t[0].toLowerCase()+t.slice(1))||Pt(e,un(t))||Pt(e,t))}function hl(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:m,inheritAttrs:g}=e,x=fo(e);let v,_;try{if(s.shapeFlag&4){const S=i||n,E=S;v=Ke(c.call(E,S,u,d,p,h,m)),_=a}else{const S=t;v=Ke(S.length>1?S(d,{attrs:a,slots:r,emit:l}):S(d,null)),_=t.props?a:yp(a)}}catch(S){ei.length=0,jo(S,e,1),v=Tt(ge)}let C=v;if(_&&g!==!1){const S=Object.keys(_),{shapeFlag:E}=C;S.length&&E&7&&(o&&S.some(ma)&&(_=_p(_,o)),C=Fs(C,_,!1,!0))}return s.dirs&&(C=Fs(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&di(C,s.transition),v=C,fo(x),v}const yp=e=>{let t;for(const s in e)(s==="class"||s==="style"||Po(s))&&((t||(t={}))[s]=e[s]);return t},_p=(e,t)=>{const s={};for(const n in e)(!ma(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function wp(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?pl(n,r,c):!!r;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==n[h]&&!Ho(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?pl(n,r,c):!0:!!r;return!1}function pl(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Ho(s,o))return!0}return!1}function kp({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const vd={},yd=()=>Object.create(vd),_d=e=>Object.getPrototypeOf(e)===vd;function Ap(e,t,s,n=!1){const i={},o=yd();e.propsDefaults=Object.create(null),wd(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:qu(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Sp(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=Et(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Ho(e.emitsOptions,h))continue;const p=t[h];if(l)if(Pt(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const m=Oe(h);i[m]=Ur(l,a,m,p,e,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{wd(e,t,i,o)&&(c=!0);let u;for(const d in a)(!t||!Pt(t,d)&&((u=un(d))===d||!Pt(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=Ur(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!Pt(t,d))&&(delete o[d],c=!0)}c&&cs(e.attrs,"set","")}function wd(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Kn(l))continue;const c=t[l];let u;i&&Pt(i,u=Oe(l))?!o||!o.includes(u)?s[u]=c:(a||(a={}))[u]=c:Ho(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=Et(s),c=a||Ft;for(let u=0;u<o.length;u++){const d=o[u];s[d]=Ur(i,l,d,c[d],e,!Pt(c,d))}}return r}function Ur(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=Pt(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&vt(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=Mi(i);n=c[s]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===un(s))&&(n=!0))}return n}const Tp=new WeakMap;function kd(e,t,s=!1){const n=s?Tp:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!vt(e)){const u=d=>{l=!0;const[h,p]=kd(d,t,!0);ie(r,h),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Dt(e)&&n.set(e,bn),bn;if(mt(o))for(let u=0;u<o.length;u++){const d=Oe(o[u]);ml(d)&&(r[d]=Ft)}else if(o)for(const u in o){const d=Oe(u);if(ml(d)){const h=o[u],p=r[d]=mt(h)||vt(h)?{type:h}:ie({},h),m=p.type;let g=!1,x=!0;if(mt(m))for(let v=0;v<m.length;++v){const _=m[v],C=vt(_)&&_.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(x=!1)}else g=vt(m)&&m.name==="Boolean";p[0]=g,p[1]=x,(g||Pt(p,"default"))&&a.push(d)}}const c=[r,a];return Dt(e)&&n.set(e,c),c}function ml(e){return e[0]!=="$"&&!Kn(e)}const Ta=e=>e==="_"||e==="_ctx"||e==="$stable",Ca=e=>mt(e)?e.map(Ke):[Ke(e)],Cp=(e,t,s)=>{if(t._n)return t;const n=Qt((...i)=>Ca(t(...i)),s);return n._c=!1,n},Ad=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Ta(i))continue;const o=e[i];if(vt(o))t[i]=Cp(i,o,n);else if(o!=null){const r=Ca(o);t[i]=()=>r}}},Sd=(e,t)=>{const s=Ca(t);e.slots.default=()=>s},Td=(e,t,s)=>{for(const n in t)(s||!Ta(n))&&(e[n]=t[n])},Mp=(e,t,s)=>{const n=e.slots=yd();if(e.vnode.shapeFlag&32){const i=t._;i?(Td(n,t,s),s&&Mu(n,"_",i,!0)):Ad(t,n)}else t&&Sd(e,t)},Ep=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Ft;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:Td(i,t,s):(o=!t.$stable,Ad(t,i)),r=t}else t&&(Sd(e,t),r={default:1});if(o)for(const a in i)!Ta(a)&&r[a]==null&&delete i[a]},Ae=Rp;function Ip(e){return Pp(e)}function Pp(e,t){const s=No();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=Xe,insertStaticContent:m}=e,g=(b,y,k,D=null,F=null,A=null,U=void 0,G=null,z=!!y.dynamicChildren)=>{if(b===y)return;b&&!Qs(b,y)&&(D=P(b),I(b,F,A,!0),b=null),y.patchFlag===-2&&(z=!1,y.dynamicChildren=null);const{type:W,ref:it,shapeFlag:tt}=y;switch(W){case Uo:x(b,y,k,D);break;case ge:v(b,y,k,D);break;case Ji:b==null&&_(y,k,D,U);break;case rt:w(b,y,k,D,F,A,U,G,z);break;default:tt&1?E(b,y,k,D,F,A,U,G,z):tt&6?Z(b,y,k,D,F,A,U,G,z):(tt&64||tt&128)&&W.process(b,y,k,D,F,A,U,G,z,et)}it!=null&&F?Qn(it,b&&b.ref,A,y||b,!y):it==null&&b&&b.ref!=null&&Qn(b.ref,null,A,b,!0)},x=(b,y,k,D)=>{if(b==null)n(y.el=a(y.children),k,D);else{const F=y.el=b.el;y.children!==b.children&&c(F,y.children)}},v=(b,y,k,D)=>{b==null?n(y.el=l(y.children||""),k,D):y.el=b.el},_=(b,y,k,D)=>{[b.el,b.anchor]=m(b.children,y,k,D,b.el,b.anchor)},C=({el:b,anchor:y},k,D)=>{let F;for(;b&&b!==y;)F=h(b),n(b,k,D),b=F;n(y,k,D)},S=({el:b,anchor:y})=>{let k;for(;b&&b!==y;)k=h(b),i(b),b=k;i(y)},E=(b,y,k,D,F,A,U,G,z)=>{if(y.type==="svg"?U="svg":y.type==="math"&&(U="mathml"),b==null)B(y,k,D,F,A,U,G,z);else{const W=b.el&&b.el._isVueCE?b.el:null;try{W&&W._beginPatch(),V(b,y,F,A,U,G,z)}finally{W&&W._endPatch()}}},B=(b,y,k,D,F,A,U,G)=>{let z,W;const{props:it,shapeFlag:tt,transition:ot,dirs:bt}=b;if(z=b.el=r(b.type,A,it&&it.is,it),tt&8?u(z,b.children):tt&16&&j(b.children,z,null,D,F,ur(b,A),U,G),bt&&Vs(b,null,D,"created"),$(z,b,b.scopeId,U,D),it){for(const $t in it)$t!=="value"&&!Kn($t)&&o(z,$t,null,it[$t],A,D);"value"in it&&o(z,"value",null,it.value,A),(W=it.onVnodeBeforeMount)&&We(W,D,b)}bt&&Vs(b,null,D,"beforeMount");const St=Lp(F,ot);St&&ot.beforeEnter(z),n(z,y,k),((W=it&&it.onVnodeMounted)||St||bt)&&Ae(()=>{W&&We(W,D,b),St&&ot.enter(z),bt&&Vs(b,null,D,"mounted")},F)},$=(b,y,k,D,F)=>{if(k&&p(b,k),D)for(let A=0;A<D.length;A++)p(b,D[A]);if(F){let A=F.subTree;if(y===A||Id(A.type)&&(A.ssContent===y||A.ssFallback===y)){const U=F.vnode;$(b,U,U.scopeId,U.slotScopeIds,F.parent)}}},j=(b,y,k,D,F,A,U,G,z=0)=>{for(let W=z;W<b.length;W++){const it=b[W]=G?Cs(b[W]):Ke(b[W]);g(null,it,y,k,D,F,A,U,G)}},V=(b,y,k,D,F,A,U)=>{const G=y.el=b.el;let{patchFlag:z,dynamicChildren:W,dirs:it}=y;z|=b.patchFlag&16;const tt=b.props||Ft,ot=y.props||Ft;let bt;if(k&&zs(k,!1),(bt=ot.onVnodeBeforeUpdate)&&We(bt,k,y,b),it&&Vs(y,b,k,"beforeUpdate"),k&&zs(k,!0),(tt.innerHTML&&ot.innerHTML==null||tt.textContent&&ot.textContent==null)&&u(G,""),W?K(b.dynamicChildren,W,G,k,D,ur(y,F),A):U||nt(b,y,G,null,k,D,ur(y,F),A,!1),z>0){if(z&16)R(G,tt,ot,k,F);else if(z&2&&tt.class!==ot.class&&o(G,"class",null,ot.class,F),z&4&&o(G,"style",tt.style,ot.style,F),z&8){const St=y.dynamicProps;for(let $t=0;$t<St.length;$t++){const Lt=St[$t],be=tt[Lt],xe=ot[Lt];(xe!==be||Lt==="value")&&o(G,Lt,be,xe,F,k)}}z&1&&b.children!==y.children&&u(G,y.children)}else!U&&W==null&&R(G,tt,ot,k,F);((bt=ot.onVnodeUpdated)||it)&&Ae(()=>{bt&&We(bt,k,y,b),it&&Vs(y,b,k,"updated")},D)},K=(b,y,k,D,F,A,U)=>{for(let G=0;G<y.length;G++){const z=b[G],W=y[G],it=z.el&&(z.type===rt||!Qs(z,W)||z.shapeFlag&198)?d(z.el):k;g(z,W,it,null,D,F,A,U,!0)}},R=(b,y,k,D,F)=>{if(y!==k){if(y!==Ft)for(const A in y)!Kn(A)&&!(A in k)&&o(b,A,y[A],null,F,D);for(const A in k){if(Kn(A))continue;const U=k[A],G=y[A];U!==G&&A!=="value"&&o(b,A,G,U,F,D)}"value"in k&&o(b,"value",y.value,k.value,F)}},w=(b,y,k,D,F,A,U,G,z)=>{const W=y.el=b?b.el:a(""),it=y.anchor=b?b.anchor:a("");let{patchFlag:tt,dynamicChildren:ot,slotScopeIds:bt}=y;bt&&(G=G?G.concat(bt):bt),b==null?(n(W,k,D),n(it,k,D),j(y.children||[],k,it,F,A,U,G,z)):tt>0&&tt&64&&ot&&b.dynamicChildren&&b.dynamicChildren.length===ot.length?(K(b.dynamicChildren,ot,k,F,A,U,G),(y.key!=null||F&&y===F.subTree)&&Cd(b,y,!0)):nt(b,y,k,it,F,A,U,G,z)},Z=(b,y,k,D,F,A,U,G,z)=>{y.slotScopeIds=G,b==null?y.shapeFlag&512?F.ctx.activate(y,k,D,U,z):q(y,k,D,F,A,U,z):dt(b,y,z)},q=(b,y,k,D,F,A,U)=>{const G=b.component=Vp(b,D,F);if(Vo(b)&&(G.ctx.renderer=et),zp(G,!1,U),G.asyncDep){if(F&&F.registerDep(G,at,U),!b.el){const z=G.subTree=Tt(ge);v(null,z,y,k),b.placeholder=z.el}}else at(G,b,y,k,F,A,U)},dt=(b,y,k)=>{const D=y.component=b.component;if(wp(b,y,k))if(D.asyncDep&&!D.asyncResolved){O(D,y,k);return}else D.next=y,D.update();else y.el=b.el,D.vnode=y},at=(b,y,k,D,F,A,U)=>{const G=()=>{if(b.isMounted){let{next:tt,bu:ot,u:bt,parent:St,vnode:$t}=b;{const He=Md(b);if(He){tt&&(tt.el=$t.el,O(b,tt,U)),He.asyncDep.then(()=>{b.isUnmounted||G()});return}}let Lt=tt,be;zs(b,!1),tt?(tt.el=$t.el,O(b,tt,U)):tt=$t,ot&&Ki(ot),(be=tt.props&&tt.props.onVnodeBeforeUpdate)&&We(be,St,tt,$t),zs(b,!0);const xe=hl(b),ze=b.subTree;b.subTree=xe,g(ze,xe,d(ze.el),P(ze),b,F,A),tt.el=xe.el,Lt===null&&kp(b,xe.el),bt&&Ae(bt,F),(be=tt.props&&tt.props.onVnodeUpdated)&&Ae(()=>We(be,St,tt,$t),F)}else{let tt;const{el:ot,props:bt}=y,{bm:St,m:$t,parent:Lt,root:be,type:xe}=b,ze=Zn(y);zs(b,!1),St&&Ki(St),!ze&&(tt=bt&&bt.onVnodeBeforeMount)&&We(tt,Lt,y),zs(b,!0);{be.ce&&be.ce._def.shadowRoot!==!1&&be.ce._injectChildStyle(xe);const He=b.subTree=hl(b);g(null,He,k,D,b,F,A),y.el=He.el}if($t&&Ae($t,F),!ze&&(tt=bt&&bt.onVnodeMounted)){const He=y;Ae(()=>We(tt,Lt,He),F)}(y.shapeFlag&256||Lt&&Zn(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&b.a&&Ae(b.a,F),b.isMounted=!0,y=k=D=null}};b.scope.on();const z=b.effect=new Lu(G);b.scope.off();const W=b.update=z.run.bind(z),it=b.job=z.runIfDirty.bind(z);it.i=b,it.id=b.uid,z.scheduler=()=>Sa(it),zs(b,!0),W()},O=(b,y,k)=>{y.component=b;const D=b.vnode.props;b.vnode=y,b.next=null,Sp(b,y.props,D,k),Ep(b,y.children,k),gs(),ol(b),bs()},nt=(b,y,k,D,F,A,U,G,z=!1)=>{const W=b&&b.children,it=b?b.shapeFlag:0,tt=y.children,{patchFlag:ot,shapeFlag:bt}=y;if(ot>0){if(ot&128){qt(W,tt,k,D,F,A,U,G,z);return}else if(ot&256){gt(W,tt,k,D,F,A,U,G,z);return}}bt&8?(it&16&&H(W,F,A),tt!==W&&u(k,tt)):it&16?bt&16?qt(W,tt,k,D,F,A,U,G,z):H(W,F,A,!0):(it&8&&u(k,""),bt&16&&j(tt,k,D,F,A,U,G,z))},gt=(b,y,k,D,F,A,U,G,z)=>{b=b||bn,y=y||bn;const W=b.length,it=y.length,tt=Math.min(W,it);let ot;for(ot=0;ot<tt;ot++){const bt=y[ot]=z?Cs(y[ot]):Ke(y[ot]);g(b[ot],bt,k,null,F,A,U,G,z)}W>it?H(b,F,A,!0,!1,tt):j(y,k,D,F,A,U,G,z,tt)},qt=(b,y,k,D,F,A,U,G,z)=>{let W=0;const it=y.length;let tt=b.length-1,ot=it-1;for(;W<=tt&&W<=ot;){const bt=b[W],St=y[W]=z?Cs(y[W]):Ke(y[W]);if(Qs(bt,St))g(bt,St,k,null,F,A,U,G,z);else break;W++}for(;W<=tt&&W<=ot;){const bt=b[tt],St=y[ot]=z?Cs(y[ot]):Ke(y[ot]);if(Qs(bt,St))g(bt,St,k,null,F,A,U,G,z);else break;tt--,ot--}if(W>tt){if(W<=ot){const bt=ot+1,St=bt<it?y[bt].el:D;for(;W<=ot;)g(null,y[W]=z?Cs(y[W]):Ke(y[W]),k,St,F,A,U,G,z),W++}}else if(W>ot)for(;W<=tt;)I(b[W],F,A,!0),W++;else{const bt=W,St=W,$t=new Map;for(W=St;W<=ot;W++){const ke=y[W]=z?Cs(y[W]):Ke(y[W]);ke.key!=null&&$t.set(ke.key,W)}let Lt,be=0;const xe=ot-St+1;let ze=!1,He=0;const Pn=new Array(xe);for(W=0;W<xe;W++)Pn[W]=0;for(W=bt;W<=tt;W++){const ke=b[W];if(be>=xe){I(ke,F,A,!0);continue}let Ue;if(ke.key!=null)Ue=$t.get(ke.key);else for(Lt=St;Lt<=ot;Lt++)if(Pn[Lt-St]===0&&Qs(ke,y[Lt])){Ue=Lt;break}Ue===void 0?I(ke,F,A,!0):(Pn[Ue-St]=W+1,Ue>=He?He=Ue:ze=!0,g(ke,y[Ue],k,null,F,A,U,G,z),be++)}const Qa=ze?Op(Pn):bn;for(Lt=Qa.length-1,W=xe-1;W>=0;W--){const ke=St+W,Ue=y[ke],Za=y[ke+1],tl=ke+1<it?Za.el||Ed(Za):D;Pn[W]===0?g(null,Ue,k,tl,F,A,U,G,z):ze&&(Lt<0||W!==Qa[Lt]?Y(Ue,k,tl,2):Lt--)}}},Y=(b,y,k,D,F=null)=>{const{el:A,type:U,transition:G,children:z,shapeFlag:W}=b;if(W&6){Y(b.component.subTree,y,k,D);return}if(W&128){b.suspense.move(y,k,D);return}if(W&64){U.move(b,y,k,et);return}if(U===rt){n(A,y,k);for(let tt=0;tt<z.length;tt++)Y(z[tt],y,k,D);n(b.anchor,y,k);return}if(U===Ji){C(b,y,k);return}if(D!==2&&W&1&&G)if(D===0)G.beforeEnter(A),n(A,y,k),Ae(()=>G.enter(A),F);else{const{leave:tt,delayLeave:ot,afterLeave:bt}=G,St=()=>{b.ctx.isUnmounted?i(A):n(A,y,k)},$t=()=>{A._isLeaving&&A[rs](!0),tt(A,()=>{St(),bt&&bt()})};ot?ot(A,St,$t):$t()}else n(A,y,k)},I=(b,y,k,D=!1,F=!1)=>{const{type:A,props:U,ref:G,children:z,dynamicChildren:W,shapeFlag:it,patchFlag:tt,dirs:ot,cacheIndex:bt}=b;if(tt===-2&&(F=!1),G!=null&&(gs(),Qn(G,null,k,b,!0),bs()),bt!=null&&(y.renderCache[bt]=void 0),it&256){y.ctx.deactivate(b);return}const St=it&1&&ot,$t=!Zn(b);let Lt;if($t&&(Lt=U&&U.onVnodeBeforeUnmount)&&We(Lt,y,b),it&6)ut(b.component,k,D);else{if(it&128){b.suspense.unmount(k,D);return}St&&Vs(b,null,y,"beforeUnmount"),it&64?b.type.remove(b,y,k,et,D):W&&!W.hasOnce&&(A!==rt||tt>0&&tt&64)?H(W,y,k,!1,!0):(A===rt&&tt&384||!F&&it&16)&&H(z,y,k),D&&ht(b)}($t&&(Lt=U&&U.onVnodeUnmounted)||St)&&Ae(()=>{Lt&&We(Lt,y,b),St&&Vs(b,null,y,"unmounted")},k)},ht=b=>{const{type:y,el:k,anchor:D,transition:F}=b;if(y===rt){lt(k,D);return}if(y===Ji){S(b);return}const A=()=>{i(k),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(b.shapeFlag&1&&F&&!F.persisted){const{leave:U,delayLeave:G}=F,z=()=>U(k,A);G?G(b.el,A,z):z()}else A()},lt=(b,y)=>{let k;for(;b!==y;)k=h(b),i(b),b=k;i(y)},ut=(b,y,k)=>{const{bum:D,scope:F,job:A,subTree:U,um:G,m:z,a:W}=b;gl(z),gl(W),D&&Ki(D),F.stop(),A&&(A.flags|=8,I(U,b,y,k)),G&&Ae(G,y),Ae(()=>{b.isUnmounted=!0},y)},H=(b,y,k,D=!1,F=!1,A=0)=>{for(let U=A;U<b.length;U++)I(b[U],y,k,D,F)},P=b=>{if(b.shapeFlag&6)return P(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const y=h(b.anchor||b.el),k=y&&y[Yh];return k?h(k):y};let J=!1;const X=(b,y,k)=>{let D;b==null?y._vnode&&(I(y._vnode,null,null,!0),D=y._vnode.component):g(y._vnode||null,b,y,null,null,null,k),y._vnode=b,J||(J=!0,ol(D),Ju(),J=!1)},et={p:g,um:I,m:Y,r:ht,mt:q,mc:j,pc:nt,pbc:K,n:P,o:e};return{render:X,hydrate:void 0,createApp:gp(X)}}function ur({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function zs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Cd(e,t,s=!1){const n=e.children,i=t.children;if(mt(n)&&mt(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Cs(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&Cd(r,a)),a.type===Uo&&(a.patchFlag!==-1?a.el=r.el:a.__elIndex=o+(e.type===rt?1:0)),a.type===ge&&!a.el&&(a.el=r.el)}}function Op(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function Md(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Md(t)}function gl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Ed(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Ed(t.subTree):null}const Id=e=>e.__isSuspense;function Rp(e,t){t&&t.pendingBranch?mt(e)?t.effects.push(...e):t.effects.push(e):Uh(e)}const rt=Symbol.for("v-fgt"),Uo=Symbol.for("v-txt"),ge=Symbol.for("v-cmt"),Ji=Symbol.for("v-stc"),ei=[];let Ce=null;function T(e=!1){ei.push(Ce=e?null:[])}function Dp(){ei.pop(),Ce=ei[ei.length-1]||null}let fi=1;function go(e,t=!1){fi+=e,e<0&&Ce&&t&&(Ce.hasOnce=!0)}function Pd(e){return e.dynamicChildren=fi>0?Ce||bn:null,Dp(),fi>0&&Ce&&Ce.push(e),e}function M(e,t,s,n,i,o){return Pd(f(e,t,s,n,i,o,!0))}function Wr(e,t,s,n,i){return Pd(Tt(e,t,s,n,i,!0))}function bo(e){return e?e.__v_isVNode===!0:!1}function Qs(e,t){return e.type===t.type&&e.key===t.key}const Ld=({key:e})=>e??null,Qi=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Kt(e)||ue(e)||vt(e)?{i:Te,r:e,k:t,f:!!s}:e:null);function f(e,t=null,s=null,n=0,i=null,o=e===rt?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ld(t),ref:t&&Qi(t),scopeId:Zu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Te};return a?(Ma(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Kt(s)?8:16),fi>0&&!r&&Ce&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ce.push(l),l}const Tt=Np;function Np(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===hd)&&(e=ge),bo(e)){const a=Fs(e,t,!0);return s&&Ma(a,s),fi>0&&!o&&Ce&&(a.shapeFlag&6?Ce[Ce.indexOf(e)]=a:Ce.push(a)),a.patchFlag=-2,a}if(Gp(e)&&(e=e.__vccOpts),t){t=Fp(t);let{class:a,style:l}=t;a&&!Kt(a)&&(t.class=Nt(a)),Dt(l)&&(Aa(l)&&!mt(l)&&(l=ie({},l)),t.style=Ie(l))}const r=Kt(e)?1:Id(e)?128:sd(e)?64:Dt(e)?4:vt(e)?2:0;return f(e,t,s,n,i,r,o,!0)}function Fp(e){return e?Aa(e)||_d(e)?ie({},e):e:null}function Fs(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?$p(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ld(c),ref:t&&t.ref?s&&o?mt(o)?o.concat(Qi(t)):[o,Qi(t)]:Qi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fs(e.ssContent),ssFallback:e.ssFallback&&Fs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&di(u,l.clone(u)),u}function pt(e=" ",t=0){return Tt(Uo,null,e,t)}function Ds(e,t){const s=Tt(Ji,null,e);return s.staticCount=t,s}function st(e="",t=!1){return t?(T(),Wr(ge,null,e)):Tt(ge,null,e)}function Ke(e){return e==null||typeof e=="boolean"?Tt(ge):mt(e)?Tt(rt,null,e.slice()):bo(e)?Cs(e):Tt(Uo,null,String(e))}function Cs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fs(e)}function Ma(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(mt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Ma(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!_d(t)?t._ctx=Te:i===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Te},s=32):(t=String(t),n&64?(s=16,t=[pt(t)]):s=8);e.children=t,e.shapeFlag|=s}function $p(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Nt([t.class,n.class]));else if(i==="style")t.style=Ie([t.style,n.style]);else if(Po(i)){const o=t[i],r=n[i];r&&o!==r&&!(mt(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function We(e,t,s,n=null){Be(e,t,7,[s,n])}const Bp=bd();let jp=0;function Vp(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Bp,o={uid:jp++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ph(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kd(n,i),emitsOptions:xd(n,i),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:n.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=xp.bind(null,o),e.ce&&e.ce(o),o}let le=null;const Od=()=>le||Te;let xo,qr;{const e=No(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};xo=t("__VUE_INSTANCE_SETTERS__",s=>le=s),qr=t("__VUE_SSR_SETTERS__",s=>hi=s)}const Mi=e=>{const t=le;return xo(e),e.scope.on(),()=>{e.scope.off(),xo(t)}},bl=()=>{le&&le.scope.off(),xo(null)};function Rd(e){return e.vnode.shapeFlag&4}let hi=!1;function zp(e,t=!1,s=!1){t&&qr(t);const{props:n,children:i}=e.vnode,o=Rd(e);Ap(e,n,o,t),Mp(e,i,s||t);const r=o?Hp(e,t):void 0;return t&&qr(!1),r}function Hp(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cp);const{setup:n}=s;if(n){gs();const i=e.setupContext=n.length>1?Wp(e):null,o=Mi(e),r=Ti(n,e,0,[e.props,i]),a=Su(r);if(bs(),o(),(a||e.sp)&&!Zn(e)&&cd(e),a){if(r.then(bl,bl),t)return r.then(l=>{xl(e,l)}).catch(l=>{jo(l,e,0)});e.asyncDep=r}else xl(e,r)}else Dd(e)}function xl(e,t,s){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Dt(t)&&(e.setupState=Yu(t)),Dd(e)}function Dd(e,t,s){const n=e.type;e.render||(e.render=n.render||Xe);{const i=Mi(e);gs();try{up(e)}finally{bs(),i()}}}const Up={get(e,t){return ae(e,"get",""),e[t]}};function Wp(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Up),slots:e.slots,emit:e.emit,expose:t}}function Wo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yu(Rh(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ti)return ti[s](e)},has(t,s){return s in t||s in ti}})):e.proxy}function qp(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function Gp(e){return vt(e)&&"__vccOpts"in e}const _t=(e,t)=>Bh(e,t,hi);function Ea(e,t,s){try{go(-1);const n=arguments.length;return n===2?Dt(t)&&!mt(t)?bo(t)?Tt(e,null,[t]):Tt(e,t):Tt(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&bo(s)&&(s=[s]),Tt(e,t,s))}finally{go(1)}}const Yp="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gr;const vl=typeof window<"u"&&window.trustedTypes;if(vl)try{Gr=vl.createPolicy("vue",{createHTML:e=>e})}catch{}const Nd=Gr?e=>Gr.createHTML(e):e=>e,Kp="http://www.w3.org/2000/svg",Xp="http://www.w3.org/1998/Math/MathML",os=typeof document<"u"?document:null,yl=os&&os.createElement("template"),Jp={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?os.createElementNS(Kp,e):t==="mathml"?os.createElementNS(Xp,e):s?os.createElement(e,{is:s}):os.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>os.createTextNode(e),createComment:e=>os.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>os.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{yl.innerHTML=Nd(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=yl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},_s="transition",On="animation",pi=Symbol("_vtc"),Fd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Qp=ie({},nd,Fd),Zp=e=>(e.displayName="Transition",e.props=Qp,e),dr=Zp((e,{slots:t})=>Ea(Jh,t0(e),t)),Hs=(e,t=[])=>{mt(e)?e.forEach(s=>s(...t)):e&&e(...t)},_l=e=>e?mt(e)?e.some(t=>t.length>1):e.length>1:!1;function t0(e){const t={};for(const w in e)w in Fd||(t[w]=e[w]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,m=e0(i),g=m&&m[0],x=m&&m[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:C,onLeave:S,onLeaveCancelled:E,onBeforeAppear:B=v,onAppear:$=_,onAppearCancelled:j=C}=t,V=(w,Z,q,dt)=>{w._enterCancelled=dt,Us(w,Z?u:a),Us(w,Z?c:r),q&&q()},K=(w,Z)=>{w._isLeaving=!1,Us(w,d),Us(w,p),Us(w,h),Z&&Z()},R=w=>(Z,q)=>{const dt=w?$:_,at=()=>V(Z,w,q);Hs(dt,[Z,at]),wl(()=>{Us(Z,w?l:o),ts(Z,w?u:a),_l(dt)||kl(Z,n,g,at)})};return ie(t,{onBeforeEnter(w){Hs(v,[w]),ts(w,o),ts(w,r)},onBeforeAppear(w){Hs(B,[w]),ts(w,l),ts(w,c)},onEnter:R(!1),onAppear:R(!0),onLeave(w,Z){w._isLeaving=!0;const q=()=>K(w,Z);ts(w,d),w._enterCancelled?(ts(w,h),Tl(w)):(Tl(w),ts(w,h)),wl(()=>{w._isLeaving&&(Us(w,d),ts(w,p),_l(S)||kl(w,n,x,q))}),Hs(S,[w,q])},onEnterCancelled(w){V(w,!1,void 0,!0),Hs(C,[w])},onAppearCancelled(w){V(w,!0,void 0,!0),Hs(j,[w])},onLeaveCancelled(w){K(w),Hs(E,[w])}})}function e0(e){if(e==null)return null;if(Dt(e))return[fr(e.enter),fr(e.leave)];{const t=fr(e);return[t,t]}}function fr(e){return oh(e)}function ts(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[pi]||(e[pi]=new Set)).add(t)}function Us(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[pi];s&&(s.delete(t),s.size||(e[pi]=void 0))}function wl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let s0=0;function kl(e,t,s,n){const i=e._endId=++s0,o=()=>{i===e._endId&&n()};if(s!=null)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=n0(e,t);if(!r)return n();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=p=>{p.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,h)}function n0(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),i=n(`${_s}Delay`),o=n(`${_s}Duration`),r=Al(i,o),a=n(`${On}Delay`),l=n(`${On}Duration`),c=Al(a,l);let u=null,d=0,h=0;t===_s?r>0&&(u=_s,d=r,h=o.length):t===On?c>0&&(u=On,d=c,h=l.length):(d=Math.max(r,c),u=d>0?r>c?_s:On:null,h=u?u===_s?o.length:l.length:0);const p=u===_s&&/\b(?:transform|all)(?:,|$)/.test(n(`${_s}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}function Al(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>Sl(s)+Sl(e[n])))}function Sl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Tl(e){return(e?e.ownerDocument:document).body.offsetHeight}function i0(e,t,s){const n=e[pi];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const vo=Symbol("_vod"),$d=Symbol("_vsh"),o0={name:"show",beforeMount(e,{value:t},{transition:s}){e[vo]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Rn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Rn(e,!0),n.enter(e)):n.leave(e,()=>{Rn(e,!1)}):Rn(e,t))},beforeUnmount(e,{value:t}){Rn(e,t)}};function Rn(e,t){e.style.display=t?e[vo]:"none",e[$d]=!t}const r0=Symbol(""),a0=/(?:^|;)\s*display\s*:/;function l0(e,t,s){const n=e.style,i=Kt(s);let o=!1;if(s&&!i){if(t)if(Kt(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Zi(n,a,"")}else for(const r in t)s[r]==null&&Zi(n,r,"");for(const r in s)r==="display"&&(o=!0),Zi(n,r,s[r])}else if(i){if(t!==s){const r=n[r0];r&&(s+=";"+r),n.cssText=s,o=a0.test(s)}}else t&&e.removeAttribute("style");vo in e&&(e[vo]=o?n.display:"",e[$d]&&(n.display="none"))}const Cl=/\s*!important$/;function Zi(e,t,s){if(mt(s))s.forEach(n=>Zi(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=c0(e,t);Cl.test(s)?e.setProperty(un(n),s.replace(Cl,""),"important"):e[n]=s}}const Ml=["Webkit","Moz","ms"],hr={};function c0(e,t){const s=hr[t];if(s)return s;let n=Oe(t);if(n!=="filter"&&n in e)return hr[t]=n;n=Ro(n);for(let i=0;i<Ml.length;i++){const o=Ml[i]+n;if(o in e)return hr[t]=o}return t}const El="http://www.w3.org/1999/xlink";function Il(e,t,s,n,i,o=dh(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(El,t.slice(6,t.length)):e.setAttributeNS(El,t,s):s==null||o&&!Eu(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Qe(s)?String(s):s)}function Pl(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Nd(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Eu(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(i||t)}function Zs(e,t,s,n){e.addEventListener(t,s,n)}function u0(e,t,s,n){e.removeEventListener(t,s,n)}const Ll=Symbol("_vei");function d0(e,t,s,n,i=null){const o=e[Ll]||(e[Ll]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=f0(t);if(n){const c=o[t]=m0(n,i);Zs(e,a,c,l)}else r&&(u0(e,a,r,l),o[t]=void 0)}}const Ol=/(?:Once|Passive|Capture)$/;function f0(e){let t;if(Ol.test(e)){t={};let n;for(;n=e.match(Ol);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):un(e.slice(2)),t]}let pr=0;const h0=Promise.resolve(),p0=()=>pr||(h0.then(()=>pr=0),pr=Date.now());function m0(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Be(g0(n,s.value),t,5,[n])};return s.value=e,s.attached=p0(),s}function g0(e,t){if(mt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Rl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,b0=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?i0(e,n,r):t==="style"?l0(e,s,n):Po(t)?ma(t)||d0(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):x0(e,t,n,r))?(Pl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Il(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Kt(n))?Pl(e,Oe(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Il(e,t,n,r))};function x0(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Rl(t)&&vt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Rl(t)&&Kt(s)?!1:t in e}const yo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return mt(t)?s=>Ki(t,s):t};function v0(e){e.target.composing=!0}function Dl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _n=Symbol("_assign");function Nl(e,t,s){return t&&(e=e.trim()),s&&(e=Do(e)),e}const se={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[_n]=yo(i);const o=n||i.props&&i.props.type==="number";Zs(e,t?"change":"input",r=>{r.target.composing||e[_n](Nl(e.value,s,o))}),(s||o)&&Zs(e,"change",()=>{e.value=Nl(e.value,s,o)}),t||(Zs(e,"compositionstart",v0),Zs(e,"compositionend",Dl),Zs(e,"change",Dl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[_n]=yo(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?Do(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},An={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=Lo(t);Zs(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Do(_o(r)):_o(r));e[_n](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,Ci(()=>{e._assigning=!1})}),e[_n]=yo(n)},mounted(e,{value:t}){Fl(e,t)},beforeUpdate(e,t,s){e[_n]=yo(s)},updated(e,{value:t}){e._assigning||Fl(e,t)}};function Fl(e,t){const s=e.multiple,n=mt(t);if(!(s&&!n&&!Lo(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=_o(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=hh(t,a)>-1}else r.selected=t.has(a);else if(Fo(_o(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function _o(e){return"_value"in e?e._value:e.value}const y0=ie({patchProp:b0},Jp);let $l;function _0(){return $l||($l=Ip(y0))}const w0=(...e)=>{const t=_0().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=A0(n);if(!i)return;const o=t._component;!vt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,k0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function k0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function A0(e){return Kt(e)?document.querySelector(e):e}const S0=""+new URL("logo-DKpw2hTR.svg",import.meta.url).href;/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const gn=typeof document<"u";function Bd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function T0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Bd(e.default)}const It=Object.assign;function mr(e,t){const s={};for(const n in t){const i=t[n];s[n]=je(i)?i.map(e):e(i)}return s}const si=()=>{},je=Array.isArray;function Bl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const jd=/#/g,C0=/&/g,M0=/\//g,E0=/=/g,I0=/\?/g,Vd=/\+/g,P0=/%5B/g,L0=/%5D/g,zd=/%5E/g,O0=/%60/g,Hd=/%7B/g,R0=/%7C/g,Ud=/%7D/g,D0=/%20/g;function Ia(e){return e==null?"":encodeURI(""+e).replace(R0,"|").replace(P0,"[").replace(L0,"]")}function N0(e){return Ia(e).replace(Hd,"{").replace(Ud,"}").replace(zd,"^")}function Yr(e){return Ia(e).replace(Vd,"%2B").replace(D0,"+").replace(jd,"%23").replace(C0,"%26").replace(O0,"`").replace(Hd,"{").replace(Ud,"}").replace(zd,"^")}function F0(e){return Yr(e).replace(E0,"%3D")}function $0(e){return Ia(e).replace(jd,"%23").replace(I0,"%3F")}function B0(e){return $0(e).replace(M0,"%2F")}function mi(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const j0=/\/$/,V0=e=>e.replace(j0,"");function gr(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=t.slice(0,l),o=t.slice(l,a>0?a:t.length),i=e(o.slice(1))),a>=0&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=W0(n??t,s),{fullPath:n+o+r,path:n,query:i,hash:mi(r)}}function z0(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function jl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function H0(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Sn(t.matched[n],s.matched[i])&&Wd(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!U0(e[s],t[s]))return!1;return!0}function U0(e,t){return je(e)?Vl(e,t):je(t)?Vl(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Vl(e,t){return je(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function W0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Kr=function(e){return e.pop="pop",e.push="push",e}({}),br=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function q0(e){if(!e)if(gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),V0(e)}const G0=/^[^#]+#/;function Y0(e,t){return e.replace(G0,"#")+t}function K0(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const qo=()=>({left:window.scrollX,top:window.scrollY});function X0(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=K0(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function zl(e,t){return(history.state?history.state.position-t:-1)+e}const Xr=new Map;function J0(e,t){Xr.set(e,t)}function Q0(e){const t=Xr.get(e);return Xr.delete(e),t}function Z0(e){return typeof e=="string"||e&&typeof e=="object"}function qd(e){return typeof e=="string"||typeof e=="symbol"}let Gt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Gd=Symbol("");Gt.MATCHER_NOT_FOUND+"",Gt.NAVIGATION_GUARD_REDIRECT+"",Gt.NAVIGATION_ABORTED+"",Gt.NAVIGATION_CANCELLED+"",Gt.NAVIGATION_DUPLICATED+"";function Tn(e,t){return It(new Error,{type:e,[Gd]:!0},t)}function es(e,t){return e instanceof Error&&Gd in e&&(t==null||!!(e.type&t))}const tm=["params","query","hash"];function em(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of tm)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function sm(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace(Vd," "),o=i.indexOf("="),r=mi(o<0?i:i.slice(0,o)),a=o<0?null:mi(i.slice(o+1));if(r in t){let l=t[r];je(l)||(l=t[r]=[l]),l.push(a)}else t[r]=a}return t}function Hl(e){let t="";for(let s in e){const n=e[s];if(s=F0(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(je(n)?n.map(i=>i&&Yr(i)):[n&&Yr(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function nm(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=je(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const im=Symbol(""),Ul=Symbol(""),Go=Symbol(""),Pa=Symbol(""),Jr=Symbol("");function Dn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ms(e,t,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Tn(Gt.NAVIGATION_ABORTED,{from:s,to:t})):h instanceof Error?l(h):Z0(h)?l(Tn(Gt.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(r&&n.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),a())},u=o(()=>e.call(n&&n.instances[i],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function xr(e,t,s,n,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(Bd(l)){const c=(l.__vccOpts||l)[t];c&&o.push(Ms(c,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const d=T0(u)?u.default:u;r.mods[a]=u,r.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&Ms(h,s,n,r,a,i)()}))}}return o}function om(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(c=>Sn(c,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(c=>Sn(c,l))||i.push(l))}return[s,n,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let rm=()=>location.protocol+"//"+location.host;function Yd(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let r=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(r);return a[0]!=="/"&&(a="/"+a),jl(a,"")}return jl(s,e)+n+i}function am(e,t,s,n){let i=[],o=[],r=null;const a=({state:h})=>{const p=Yd(e,location),m=s.value,g=t.value;let x=0;if(h){if(s.value=p,t.value=h,r&&r===m){r=null;return}x=g?h.position-g.position:0}else n(p);i.forEach(v=>{v(s.value,m,{delta:x,type:Kr.pop,direction:x?x>0?br.forward:br.back:br.unknown})})};function l(){r=s.value}function c(h){i.push(h);const p=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return o.push(p),p}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(It({},h.state,{scroll:qo()}),"")}}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function Wl(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?qo():null}}function lm(e){const{history:t,location:s}=window,n={value:Yd(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=e.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:rm()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(p){console.error(p),s[u?"replace":"assign"](h)}}function r(l,c){o(l,It({},t.state,Wl(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),n.value=l}function a(l,c){const u=It({},i.value,t.state,{forward:l,scroll:qo()});o(u.current,u,!0),o(l,It({},Wl(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function cm(e){e=q0(e);const t=lm(e),s=am(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=It({location:"",base:e,go:n,createHref:Y0.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function um(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),cm(e)}let tn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Zt=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Zt||{});const dm={type:tn.Static,value:""},fm=/[a-zA-Z0-9_]/;function hm(e){if(!e)return[[]];if(e==="/")return[[dm]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=Zt.Static,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(s===Zt.Static?o.push({type:tn.Static,value:c}):s===Zt.Param||s===Zt.ParamRegExp||s===Zt.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:tn.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==Zt.ParamRegExp){n=s,s=Zt.EscapeNext;continue}switch(s){case Zt.Static:l==="/"?(c&&d(),r()):l===":"?(d(),s=Zt.Param):h();break;case Zt.EscapeNext:h(),s=n;break;case Zt.Param:l==="("?s=Zt.ParamRegExp:fm.test(l)?h():(d(),s=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Zt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=Zt.ParamRegExpEnd:u+=l;break;case Zt.ParamRegExpEnd:d(),s=Zt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===Zt.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}const ql="[^/]+?",pm={sensitive:!1,strict:!1,start:!0,end:!0};var he=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(he||{});const mm=/[.+*?^${}()[\]/\\]/g;function gm(e,t){const s=It({},pm,t),n=[];let i=s.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[he.Root];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let p=he.Segment+(s.sensitive?he.BonusCaseSensitive:0);if(h.type===tn.Static)d||(i+="/"),i+=h.value.replace(mm,"\\$&"),p+=he.Static;else if(h.type===tn.Param){const{value:m,repeatable:g,optional:x,regexp:v}=h;o.push({name:m,repeatable:g,optional:x});const _=v||ql;if(_!==ql){p+=he.BonusCustomRegExp;try{`${_}`}catch(S){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+S.message)}}let C=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(C=x&&c.length<2?`(?:/${C})`:"/"+C),x&&(C+="?"),i+=C,p+=he.Dynamic,x&&(p+=he.BonusOptional),g&&(p+=he.BonusRepeatable),_===".*"&&(p+=he.BonusWildcard)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=he.BonusStrict}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",m=o[h-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of h)if(p.type===tn.Static)u+=p.value;else if(p.type===tn.Param){const{value:m,repeatable:g,optional:x}=p,v=m in c?c[m]:"";if(je(v)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=je(v)?v.join("/"):v;if(!_)if(x)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function bm(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===he.Static+he.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===he.Static+he.Segment?1:-1:0}function Kd(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=bm(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(Gl(n))return 1;if(Gl(i))return-1}return i.length-n.length}function Gl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xm={strict:!1,end:!0,sensitive:!1};function vm(e,t,s){const n=gm(hm(e.path),s),i=It(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function ym(e,t){const s=[],n=new Map;t=Bl(xm,t);function i(d){return n.get(d)}function o(d,h,p){const m=!p,g=Kl(d);g.aliasOf=p&&p.record;const x=Bl(t,d),v=[g];if("alias"in d){const S=typeof d.alias=="string"?[d.alias]:d.alias;for(const E of S)v.push(Kl(It({},g,{components:p?p.record.components:g.components,path:E,aliasOf:p?p.record:g})))}let _,C;for(const S of v){const{path:E}=S;if(h&&E[0]!=="/"){const B=h.record.path,$=B[B.length-1]==="/"?"":"/";S.path=h.record.path+(E&&$+E)}if(_=vm(S,h,x),p?p.alias.push(_):(C=C||_,C!==_&&C.alias.push(_),m&&d.name&&!Xl(_)&&r(d.name)),Xd(_)&&l(_),g.children){const B=g.children;for(let $=0;$<B.length;$++)o(B[$],_,p&&p.children[$])}p=p||_}return C?()=>{r(C)}:si}function r(d){if(qd(d)){const h=n.get(d);h&&(n.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function a(){return s}function l(d){const h=km(d,s);s.splice(h,0,d),d.record.name&&!Xl(d)&&n.set(d.record.name,d)}function c(d,h){let p,m={},g,x;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw Tn(Gt.MATCHER_NOT_FOUND,{location:d});x=p.record.name,m=It(Yl(h.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&Yl(d.params,p.keys.map(C=>C.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=s.find(C=>C.re.test(g)),p&&(m=p.parse(g),x=p.record.name);else{if(p=h.name?n.get(h.name):s.find(C=>C.re.test(h.path)),!p)throw Tn(Gt.MATCHER_NOT_FOUND,{location:d,currentLocation:h});x=p.record.name,m=It({},h.params,d.params),g=p.stringify(m)}const v=[];let _=p;for(;_;)v.unshift(_.record),_=_.parent;return{name:x,path:g,params:m,matched:v,meta:wm(v)}}e.forEach(d=>o(d));function u(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Yl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Kl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:_m(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function _m(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Xl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wm(e){return e.reduce((t,s)=>It(t,s.meta),{})}function km(e,t){let s=0,n=t.length;for(;s!==n;){const o=s+n>>1;Kd(e,t[o])<0?n=o:s=o+1}const i=Am(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Am(e){let t=e;for(;t=t.parent;)if(Xd(t)&&Kd(e,t)===0)return t}function Xd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Jl(e){const t=Ne(Go),s=Ne(Pa),n=_t(()=>{const l=Ct(e.to);return t.resolve(l)}),i=_t(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(Sn.bind(null,u));if(h>-1)return h;const p=Ql(l[c-2]);return c>1&&Ql(u)===p&&d[d.length-1].path!==p?d.findIndex(Sn.bind(null,l[c-2])):h}),o=_t(()=>i.value>-1&&Em(s.params,n.value.params)),r=_t(()=>i.value>-1&&i.value===s.matched.length-1&&Wd(s.params,n.value.params));function a(l={}){if(Mm(l)){const c=t[Ct(e.replace)?"replace":"push"](Ct(e.to)).catch(si);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:_t(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function Sm(e){return e.length===1?e[0]:e}const Tm=ld({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Jl,setup(e,{slots:t}){const s=Bo(Jl(e)),{options:n}=Ne(Go),i=_t(()=>({[Zl(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Zl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&Sm(t.default(s));return e.custom?o:Ea("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Cm=Tm;function Mm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Em(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!je(i)||i.length!==n.length||n.some((o,r)=>o.valueOf()!==i[r].valueOf()))return!1}return!0}function Ql(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Zl=(e,t,s)=>e??t??s,Im=ld({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ne(Jr),i=_t(()=>e.route||n.value),o=Ne(Ul,0),r=_t(()=>{let c=Ct(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=_t(()=>i.value.matched[r.value]);Xi(Ul,_t(()=>r.value+1)),Xi(im,a),Xi(Jr,i);const l=ct();return ms(()=>[l.value,a.value,e.name],([c,u,d],[h,p,m])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Sn(u,p)||!h)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return tc(s.default,{Component:h,route:c});const p=d.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,x=Ea(h,It({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return tc(s.default,{Component:x,route:c})||x}}});function tc(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Pm=Im;function Lm(e){const t=ym(e.routes,e),s=e.parseQuery||sm,n=e.stringifyQuery||Hl,i=e.history,o=Dn(),r=Dn(),a=Dn(),l=Dh(ws);let c=ws;gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=mr.bind(null,P=>""+P),d=mr.bind(null,B0),h=mr.bind(null,mi);function p(P,J){let X,et;return qd(P)?(X=t.getRecordMatcher(P),et=J):et=P,t.addRoute(et,X)}function m(P){const J=t.getRecordMatcher(P);J&&t.removeRoute(J)}function g(){return t.getRoutes().map(P=>P.record)}function x(P){return!!t.getRecordMatcher(P)}function v(P,J){if(J=It({},J||l.value),typeof P=="string"){const k=gr(s,P,J.path),D=t.resolve({path:k.path},J),F=i.createHref(k.fullPath);return It(k,D,{params:h(D.params),hash:mi(k.hash),redirectedFrom:void 0,href:F})}let X;if(P.path!=null)X=It({},P,{path:gr(s,P.path,J.path).path});else{const k=It({},P.params);for(const D in k)k[D]==null&&delete k[D];X=It({},P,{params:d(k)}),J.params=d(J.params)}const et=t.resolve(X,J),L=P.hash||"";et.params=u(h(et.params));const b=z0(n,It({},P,{hash:N0(L),path:et.path})),y=i.createHref(b);return It({fullPath:b,hash:L,query:n===Hl?nm(P.query):P.query||{}},et,{redirectedFrom:void 0,href:y})}function _(P){return typeof P=="string"?gr(s,P,l.value.path):It({},P)}function C(P,J){if(c!==P)return Tn(Gt.NAVIGATION_CANCELLED,{from:J,to:P})}function S(P){return $(P)}function E(P){return S(It(_(P),{replace:!0}))}function B(P,J){const X=P.matched[P.matched.length-1];if(X&&X.redirect){const{redirect:et}=X;let L=typeof et=="function"?et(P,J):et;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=_(L):{path:L},L.params={}),It({query:P.query,hash:P.hash,params:L.path!=null?{}:P.params},L)}}function $(P,J){const X=c=v(P),et=l.value,L=P.state,b=P.force,y=P.replace===!0,k=B(X,et);if(k)return $(It(_(k),{state:typeof k=="object"?It({},L,k.state):L,force:b,replace:y}),J||X);const D=X;D.redirectedFrom=J;let F;return!b&&H0(n,et,X)&&(F=Tn(Gt.NAVIGATION_DUPLICATED,{to:D,from:et}),Y(et,et,!0,!1)),(F?Promise.resolve(F):K(D,et)).catch(A=>es(A)?es(A,Gt.NAVIGATION_GUARD_REDIRECT)?A:qt(A):nt(A,D,et)).then(A=>{if(A){if(es(A,Gt.NAVIGATION_GUARD_REDIRECT))return $(It({replace:y},_(A.to),{state:typeof A.to=="object"?It({},L,A.to.state):L,force:b}),J||D)}else A=w(D,et,!0,y,L);return R(D,et,A),A})}function j(P,J){const X=C(P,J);return X?Promise.reject(X):Promise.resolve()}function V(P){const J=lt.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(P):P()}function K(P,J){let X;const[et,L,b]=om(P,J);X=xr(et.reverse(),"beforeRouteLeave",P,J);for(const k of et)k.leaveGuards.forEach(D=>{X.push(Ms(D,P,J))});const y=j.bind(null,P,J);return X.push(y),H(X).then(()=>{X=[];for(const k of o.list())X.push(Ms(k,P,J));return X.push(y),H(X)}).then(()=>{X=xr(L,"beforeRouteUpdate",P,J);for(const k of L)k.updateGuards.forEach(D=>{X.push(Ms(D,P,J))});return X.push(y),H(X)}).then(()=>{X=[];for(const k of b)if(k.beforeEnter)if(je(k.beforeEnter))for(const D of k.beforeEnter)X.push(Ms(D,P,J));else X.push(Ms(k.beforeEnter,P,J));return X.push(y),H(X)}).then(()=>(P.matched.forEach(k=>k.enterCallbacks={}),X=xr(b,"beforeRouteEnter",P,J,V),X.push(y),H(X))).then(()=>{X=[];for(const k of r.list())X.push(Ms(k,P,J));return X.push(y),H(X)}).catch(k=>es(k,Gt.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function R(P,J,X){a.list().forEach(et=>V(()=>et(P,J,X)))}function w(P,J,X,et,L){const b=C(P,J);if(b)return b;const y=J===ws,k=gn?history.state:{};X&&(et||y?i.replace(P.fullPath,It({scroll:y&&k&&k.scroll},L)):i.push(P.fullPath,L)),l.value=P,Y(P,J,X,y),qt()}let Z;function q(){Z||(Z=i.listen((P,J,X)=>{if(!ut.listening)return;const et=v(P),L=B(et,ut.currentRoute.value);if(L){$(It(L,{replace:!0,force:!0}),et).catch(si);return}c=et;const b=l.value;gn&&J0(zl(b.fullPath,X.delta),qo()),K(et,b).catch(y=>es(y,Gt.NAVIGATION_ABORTED|Gt.NAVIGATION_CANCELLED)?y:es(y,Gt.NAVIGATION_GUARD_REDIRECT)?($(It(_(y.to),{force:!0}),et).then(k=>{es(k,Gt.NAVIGATION_ABORTED|Gt.NAVIGATION_DUPLICATED)&&!X.delta&&X.type===Kr.pop&&i.go(-1,!1)}).catch(si),Promise.reject()):(X.delta&&i.go(-X.delta,!1),nt(y,et,b))).then(y=>{y=y||w(et,b,!1),y&&(X.delta&&!es(y,Gt.NAVIGATION_CANCELLED)?i.go(-X.delta,!1):X.type===Kr.pop&&es(y,Gt.NAVIGATION_ABORTED|Gt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),R(et,b,y)}).catch(si)}))}let dt=Dn(),at=Dn(),O;function nt(P,J,X){qt(P);const et=at.list();return et.length?et.forEach(L=>L(P,J,X)):console.error(P),Promise.reject(P)}function gt(){return O&&l.value!==ws?Promise.resolve():new Promise((P,J)=>{dt.add([P,J])})}function qt(P){return O||(O=!P,q(),dt.list().forEach(([J,X])=>P?X(P):J()),dt.reset()),P}function Y(P,J,X,et){const{scrollBehavior:L}=e;if(!gn||!L)return Promise.resolve();const b=!X&&Q0(zl(P.fullPath,0))||(et||!X)&&history.state&&history.state.scroll||null;return Ci().then(()=>L(P,J,b)).then(y=>y&&X0(y)).catch(y=>nt(y,P,J))}const I=P=>i.go(P);let ht;const lt=new Set,ut={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:g,resolve:v,options:e,push:S,replace:E,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:at.add,isReady:gt,install(P){P.component("RouterLink",Cm),P.component("RouterView",Pm),P.config.globalProperties.$router=ut,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Ct(l)}),gn&&!ht&&l.value===ws&&(ht=!0,S(i.location).catch(et=>{}));const J={};for(const et in ws)Object.defineProperty(J,et,{get:()=>l.value[et],enumerable:!0});P.provide(Go,ut),P.provide(Pa,qu(J)),P.provide(Jr,l);const X=P.unmount;lt.add(P),P.unmount=function(){lt.delete(P),lt.size<1&&(c=ws,Z&&Z(),Z=null,l.value=ws,ht=!1,O=!1),X()}}};function H(P){return P.reduce((J,X)=>J.then(()=>V(X)),Promise.resolve())}return ut}function Yo(){return Ne(Go)}function La(e){return Ne(Pa)}function Ko(e){return new Promise((t,s)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>s(e.error)})}function Om(e,t){let s;const n=()=>{if(s)return s;const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),s=Ko(i),s.then(o=>{o.onclose=()=>s=void 0},()=>{}),s};return(i,o)=>n().then(r=>o(r.transaction(t,i).objectStore(t)))}let vr;function Oa(){return vr||(vr=Om("keyval-store","keyval")),vr}function Rm(e,t=Oa()){return t("readonly",s=>Ko(s.get(e)))}function Dm(e,t,s=Oa()){return s("readwrite",n=>(n.put(t,e),Ko(n.transaction)))}function Nm(e,t=Oa()){return t("readwrite",s=>(s.delete(e),Ko(s.transaction)))}const yr="sprint_predictor_file_handle";class _e{static isSupported(){return"showOpenFilePicker"in window}static async getHandle(){return await Rm(yr)}static async setHandle(t){await Dm(yr,t),window.dispatchEvent(new CustomEvent("sync-status-changed"))}static async unlinkFile(){await Nm(yr),window.dispatchEvent(new CustomEvent("sync-status-changed"))}static async verifyPermission(t,s=!1){if(!t)return!1;const n={mode:"readwrite"};try{if(await t.queryPermission(n)==="granted"||s&&await t.requestPermission(n)==="granted")return!0}catch(i){console.error("Erreur permission FSA:",i)}return!1}static async linkFile(){if(!this.isSupported())return alert("Votre navigateur ne supporte pas la File System Access API. Utilisez Chrome, Edge ou Opera."),null;try{const[t]=await window.showOpenFilePicker({types:[{description:"Fichier JSON de donnes Sprint Predictor",accept:{"application/json":[".json"]}}],multiple:!1});return await this.setHandle(t),t}catch(t){return console.error("Erreur liaison fichier:",t),null}}static async saveToDisk(t=null){if(!this.isSupported())return;const s=await this.getHandle();if(s){if(!await this.verifyPermission(s)){console.warn("Synchro impossible : Permission rvoque"),window.dispatchEvent(new CustomEvent("sync-permission-required"));return}try{window.dispatchEvent(new CustomEvent("sync-started"));const n=t||Rt.getDB(),i=await s.createWritable(),o={type:"sprint_predictor_export",version:1,scope:"all",exportDate:new Date().toISOString(),db:n};await i.write(JSON.stringify(o,null,2)),await i.close(),window.dispatchEvent(new CustomEvent("sync-finished",{detail:{success:!0}}))}catch(n){console.error("Erreur criture disque:",n),window.dispatchEvent(new CustomEvent("sync-finished",{detail:{success:!1,error:n.message}}))}}}static async loadFromDisk(){if(!this.isSupported())return null;const t=await this.getHandle();if(!t||!await this.verifyPermission(t,!0))return null;try{const n=await(await t.getFile()).text(),i=JSON.parse(n);if(i.type==="sprint_predictor_export"&&i.db)return i.db}catch(s){console.error("Erreur lecture disque:",s)}return null}}const ec="sprint_predictor_db",Fm="sprint_predictor_athletes",$m="sprint_predictor_races";class Rt{static getDB(){const t=localStorage.getItem(ec);return t?JSON.parse(t):this.initializeDB()}static saveDB(t){t.lastUpdated=new Date().toISOString(),localStorage.setItem(ec,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("db-updated")),_e.saveToDisk(t)}static initializeDB(){const t=JSON.parse(localStorage.getItem(Fm)||"{}"),s=JSON.parse(localStorage.getItem($m)||"[]"),n={version:1,lastUpdated:new Date().toISOString(),athletes:t,races:{}};return s.forEach(i=>{n.races[i.id]=i}),this.saveDB(n),n}static getAthletes(){return this.getDB().athletes||{}}static getRaces(){return this.getDB().races||{}}static saveAthlete(t){const s=this.getDB();s.athletes[t.id]=t,this.saveDB(s)}static saveRace(t){const s=this.getDB();s.races[t.id]=t,this.saveDB(s)}static deleteAthlete(t){const s=this.getDB();delete s.athletes[t],Object.keys(s.races).forEach(n=>{s.races[n].athleteId===t&&delete s.races[n]}),this.saveDB(s)}static deleteRace(t){const s=this.getDB();delete s.races[t],this.saveDB(s)}static setCurrentAthlete(t){t?localStorage.setItem("sprint_predictor_current_athlete",t):localStorage.removeItem("sprint_predictor_current_athlete"),window.dispatchEvent(new CustomEvent("athlete-updated"))}static getCurrentAthleteId(){return localStorage.getItem("sprint_predictor_current_athlete")}}class te{constructor(t={}){this.id=t.id||crypto.randomUUID(),this.name=t.name||"",this.birthYear=t.birthYear||new Date().getFullYear()-20,this.gender=t.gender||"M",this.metrics=t.metrics||{},this.notes=t.notes||"",this.lastUpdated=t.lastUpdated||new Date().toISOString()}get age(){return new Date().getFullYear()-this.birthYear}get category(){const t=this.age;return t<16?"U16":t<18?"U18":t<20?"U20":t<23?"U23":"ELITE"}setMetric(t,s){s===""||s===null?delete this.metrics[t]:this.metrics[t]=parseFloat(s),this.lastUpdated=new Date().toISOString()}getMetric(t){return this.metrics[t]}save(){this.lastUpdated=new Date().toISOString(),Rt.saveAthlete({id:this.id,name:this.name,birthYear:this.birthYear,gender:this.gender,metrics:this.metrics,notes:this.notes,lastUpdated:this.lastUpdated})}static load(t){const s=Rt.getAthletes();return s[t]?new te(s[t]):null}static getAll(){return Rt.getAthletes()}static delete(t){Rt.deleteAthlete(t)}}const Bm={class:"bg-slate-50 text-slate-800 antialiased min-h-screen flex flex-col"},jm={class:"bg-white border-b border-slate-200 sticky top-0 z-50"},Vm={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"},zm={class:"hidden md:flex items-center space-x-6"},Hm={class:"flex items-center space-x-2 sm:space-x-3"},Um={key:0,class:"hidden sm:flex items-center mr-2 px-2 py-1 bg-emerald-50 text-emerald-600 rounded-lg border border-emerald-100",title:"Synchronisation locale active"},Wm={key:1,class:"relative group"},qm={class:"hidden sm:inline"},Gm={class:"sm:hidden uppercase"},Ym={key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-slate-100 py-2 z-[60] overflow-hidden"},Km={class:"max-h-60 overflow-y-auto custom-scrollbar"},Xm=["onClick"],Jm={key:0,class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},Qm={class:"mt-1 pt-1 border-t border-slate-50"},Zm={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tg={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},eg={key:0,class:"md:hidden bg-white border-b border-slate-200 px-4 py-4 space-y-1 shadow-xl"},sg={key:0,class:"pt-2 pb-1 px-4 text-xs font-bold text-slate-400 uppercase tracking-wider"},ng={class:"flex-grow"},ig={__name:"App",setup(e){const t=Yo(),s=ct(null),n=ct({}),i=ct(!1),o=ct(!1),r=ct(!1),a=ct(!1),l=ct(!1),c=_t(()=>{var g;if(!((g=s.value)!=null&&g.name))return"??";const m=s.value.name.split(" ");return m.length===1?m[0].substring(0,2):m[0][0]+m[m.length-1][0]}),u=()=>{n.value=te.getAll();const m=Rt.getCurrentAthleteId();m?s.value=n.value[m]||null:s.value=null},d=m=>{Rt.setCurrentAthlete(m),o.value=!1},h=m=>{o.value&&!m.target.closest(".group")&&(o.value=!1)},p=async()=>{if(!_e.isSupported())return;const m=await _e.getHandle();if(r.value=!!m,m){const g=await _e.verifyPermission(m);if(l.value=!g,g){const x=await _e.loadFromDisk();if(x){const v=Rt.getDB();x.lastUpdated>v.lastUpdated&&(console.log("Mise  jour depuis le disque..."),Rt.saveDB(x))}}}};return Ve(()=>{u(),p(),window.addEventListener("storage",u),window.addEventListener("athlete-updated",u),window.addEventListener("db-updated",u),window.addEventListener("click",h),window.addEventListener("sync-status-changed",p),window.addEventListener("sync-permission-required",()=>{l.value=!0}),window.addEventListener("sync-started",()=>{a.value=!0}),window.addEventListener("sync-finished",()=>{a.value=!1,l.value=!1})}),In(()=>{window.removeEventListener("storage",u),window.removeEventListener("athlete-updated",u),window.removeEventListener("db-updated",u),window.removeEventListener("click",h),window.removeEventListener("sync-status-changed",p)}),(m,g)=>{const x=po("router-link"),v=po("router-view");return T(),M("div",Bm,[l.value?(T(),M("div",{key:0,class:"bg-orange-600 text-white px-4 py-2 text-center text-xs font-bold flex items-center justify-center space-x-3 cursor-pointer hover:bg-orange-700 transition-colors",onClick:g[0]||(g[0]=_=>Ct(t).push("/"))},[...g[7]||(g[7]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),f("span",null,"Synchronisation en pause : Action requise pour autoriser l'accs au fichier.",-1),f("span",{class:"underline ml-2"},"Ractiver",-1)])])):st("",!0),f("header",jm,[f("div",Vm,[Tt(x,{to:"/",class:"flex items-center space-x-3 hover:opacity-80 transition-opacity"},{default:Qt(()=>[...g[8]||(g[8]=[f("div",{class:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-md shadow-blue-500/20"},[f("img",{src:S0,alt:"Logo"})],-1),f("h1",{class:"text-xl font-bold tracking-tight text-slate-900"},[pt("Sprint "),f("span",{class:"text-blue-600"},"Predictor")],-1)])]),_:1}),f("nav",zm,[Tt(x,{to:"/",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Qt(()=>[...g[9]||(g[9]=[pt("Accueil",-1)])]),_:1}),Tt(x,{to:"/analysis",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Qt(()=>[...g[10]||(g[10]=[pt("Analyse",-1)])]),_:1}),Tt(x,{to:"/races-analysis",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Qt(()=>[...g[11]||(g[11]=[pt("Courses",-1)])]),_:1})]),f("div",Hm,[r.value?(T(),M("div",Um,[f("div",{class:Nt(["w-1.5 h-1.5 rounded-full bg-emerald-500 mr-2",{"animate-pulse":a.value}])},null,2),g[12]||(g[12]=f("span",{class:"text-[10px] font-black uppercase tracking-tighter"},"Sync",-1))])):st("",!0),s.value?(T(),M("div",Wm,[f("button",{onClick:g[1]||(g[1]=_=>o.value=!o.value),class:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-xs font-bold border border-blue-100 hover:bg-blue-100 transition-all shadow-sm"},[f("span",qm,N(s.value.name),1),f("span",Gm,N(c.value),1),(T(),M("svg",{class:Nt(["w-3 h-3 ml-1 transform transition-transform duration-200",{"rotate-180":o.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...g[13]||(g[13]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),Tt(dr,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:Qt(()=>[o.value?(T(),M("div",Ym,[g[16]||(g[16]=f("div",{class:"px-4 py-2 border-b border-slate-50 mb-1"},[f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Changer d'athlte")],-1)),f("div",Km,[(T(!0),M(rt,null,wt(Object.values(n.value),_=>(T(),M("button",{key:_.id,onClick:C=>d(_.id),class:Nt(["w-full text-left px-4 py-2.5 text-sm font-semibold flex items-center justify-between transition-colors",_.id===s.value.id?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"])},[pt(N(_.name)+" ",1),_.id===s.value.id?(T(),M("svg",Jm,[...g[14]||(g[14]=[f("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):st("",!0)],10,Xm))),128))]),f("div",Qm,[Tt(x,{to:"/",onClick:g[2]||(g[2]=_=>o.value=!1),class:"flex items-center gap-2 px-4 py-2.5 text-xs font-bold text-blue-600 hover:bg-blue-50 transition-colors"},{default:Qt(()=>[...g[15]||(g[15]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),pt(" Nouvel athlte ",-1)])]),_:1})])])):st("",!0)]),_:1})])):st("",!0),s.value?(T(),Wr(x,{key:2,to:`/athlete/${s.value.id}`,class:"px-3 py-2 sm:px-4 bg-slate-900 hover:bg-slate-800 text-white rounded-lg text-xs sm:text-sm font-semibold transition-colors shadow-sm"},{default:Qt(()=>[...g[17]||(g[17]=[f("span",{class:"hidden sm:inline"},"Profil",-1),f("svg",{class:"w-4 h-4 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])]),_:1},8,["to"])):st("",!0),f("button",{onClick:g[3]||(g[3]=_=>i.value=!i.value),class:"md:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"},[i.value?(T(),M("svg",tg,[...g[19]||(g[19]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(T(),M("svg",Zm,[...g[18]||(g[18]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"},null,-1)])]))])])]),Tt(dr,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:Qt(()=>[i.value?(T(),M("div",eg,[Tt(x,{to:"/",onClick:g[4]||(g[4]=_=>i.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Qt(()=>[...g[20]||(g[20]=[pt(" Accueil ",-1)])]),_:1}),Tt(x,{to:"/analysis",onClick:g[5]||(g[5]=_=>i.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Qt(()=>[...g[21]||(g[21]=[pt(" Analyse ",-1)])]),_:1}),Tt(x,{to:"/races-analysis",onClick:g[6]||(g[6]=_=>i.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Qt(()=>[...g[22]||(g[22]=[pt(" Courses ",-1)])]),_:1}),s.value?(T(),M("div",sg," Athlte actuel : "+N(s.value.name),1)):st("",!0)])):st("",!0)]),_:1})]),f("main",ng,[Tt(v,null,{default:Qt(({Component:_})=>[Tt(dr,{name:"fade",mode:"out-in"},{default:Qt(()=>[(T(),Wr(lp(_)))]),_:2},1024)]),_:1})]),g[23]||(g[23]=Ds('<footer class="bg-white border-t border-slate-200 py-4"><div class="max-w-7xl mx-auto px-4 text-center"><p class="text-slate-500 text-sm font-medium">Sprint Predictor</p><p class="text-slate-400 text-xs mt-1"> Dvelopp avec <span class="text-[7pt]"></span> en  par <a href="https://michaelravedoni.com" class="underline hover:text-blue-500" target="_blank">MR</a></p></div></footer>',1))])}}};class yt{constructor(t={}){this.id=t.id||crypto.randomUUID(),this.athleteId=t.athleteId||null,this.discipline=t.discipline||"100m",this.date=t.date||new Date().toISOString().split("T")[0],this.name=t.name||"",this.note=t.note||"",this.milestones=t.milestones||[],this.stepCounts=t.stepCounts||{},this.steps=t.steps||[],this.videoUrl=t.videoUrl||"",this.lastUpdated=t.lastUpdated||new Date().toISOString()}setMilestone(t,s,n="split",i=null){const o=this.milestones.findIndex(a=>a.distance===t&&a.type===n),r={distance:parseFloat(t),time:parseFloat(s),type:n,label:i||`${t}m`};o!==-1?this.milestones[o]=r:(this.milestones.push(r),this.milestones.sort((a,l)=>a.time-l.time)),this.lastUpdated=new Date().toISOString()}removeMilestone(t,s){this.milestones=this.milestones.filter(n=>!(n.distance===t&&n.type===s)),this.lastUpdated=new Date().toISOString()}get segmentSpeeds(){var i;const t=[],s=[...this.milestones].filter(o=>o.type==="split"||o.type==="touchdown").sort((o,r)=>o.distance-r.distance),n=((i=s[0])==null?void 0:i.distance)>0?[{distance:0,time:0},...s]:s;for(let o=1;o<n.length;o++){const r=n[o].distance-n[o-1].distance,a=n[o].time-n[o-1].time,l=`${n[o-1].distance}-${n[o].distance}`;if(a>0){const c=this.stepCounts[l]||0;t.push({id:l,segment:`${n[o-1].distance}-${n[o].distance}m`,label:n[o].label,speed:r/a,time:a,distance:r,steps:c,frequency:c>0?c/a:0,stepLength:c>0?r/c:0})}}return t}get hurdleAnalysis(){const t=[];if(!this.discipline.toLowerCase().includes("h"))return[];const n=this.milestones.filter(a=>a.type==="touchdown").sort((a,l)=>a.distance-l.distance),i=this.milestones.find(a=>a.distance===0)||{distance:0,time:0},o=parseInt(this.discipline),r=this.milestones.find(a=>a.distance===o);if(n.length>0){const a=n[0],l=a.time-i.time,c=a.distance-i.distance,u=`0-${a.distance}`;t.push({id:u,label:"Start - H1",time:l,distance:c,distance_start:0,distance_end:a.distance,speed:c/l,steps:this.stepCounts[u]||0})}for(let a=1;a<n.length;a++){const l=n[a-1],c=n[a],u=c.time-l.time,d=c.distance-l.distance,h=`${l.distance}-${c.distance}`;t.push({id:h,label:`H${a} - H${a+1}`,time:u,distance:d,distance_start:l.distance,distance_end:c.distance,speed:d/u,steps:this.stepCounts[h]||0})}if(n.length>0&&r){const a=n[n.length-1];if(r.distance>a.distance){const l=r.time-a.time,c=r.distance-a.distance,u=`${a.distance}-${r.distance}`;t.push({id:u,label:`H${n.length} - Finish`,time:l,distance:c,distance_start:a.distance,distance_end:r.distance,speed:c/l,steps:this.stepCounts[u]||0})}}return t}calculateIntervals(t=[]){if(!t)return[];const s=.1;return t.map(n=>{const i=this.milestones.find(p=>Math.abs(p.distance-n.start)<s),o=this.milestones.find(p=>Math.abs(p.distance-n.end)<s),r=n.start===0?i?i.time:0:i?i.time:null;if(r===null||!o||o.time<=r)return null;const a=o.time-r,l=o.distance-(i?i.distance:0),c=l/a;let u=0,d=!1;return this.segmentSpeeds.forEach(p=>{const[m,g]=p.id.split("-").map(Number);m>=n.start-s&&g<=n.end+s&&p.steps>0&&(u+=p.steps,d=!0)}),{...n,time:a,distance:l,speed:c,steps:d?u:0,frequency:d&&a>0?u/a:0,stepLength:d&&u>0?l/u:0}})}getTimeAtDistance(t){if(t===0)return 0;const s=this.milestones.find(r=>Math.abs(r.distance-t)<.01);if(s)return s.time;const n=this.milestones.find(r=>r.distance>t),i=[...this.milestones].reverse().find(r=>r.distance<=t)||{distance:0,time:0};if(!n)return null;const o=(t-i.distance)/(n.distance-i.distance);return i.time+o*(n.time-i.time)}save(){this.lastUpdated=new Date().toISOString(),Rt.saveRace({id:this.id,athleteId:this.athleteId,discipline:this.discipline,date:this.date,name:this.name,note:this.note,milestones:this.milestones,stepCounts:this.stepCounts,steps:this.steps,videoUrl:this.videoUrl,lastUpdated:this.lastUpdated})}delete(){Rt.deleteRace(this.id)}static getByAthlete(t){const s=Rt.getRaces();return Object.values(s).filter(n=>n.athleteId===t).map(n=>new yt(n)).sort((n,i)=>new Date(i.date)-new Date(n.date))}static load(t){const n=Rt.getRaces()[t];return n?new yt(n):null}}class on{static exportAthlete(t){const s=te.load(t);if(!s)return;const n=yt.getByAthlete(t),i={type:"sprint-predictor-athlete",version:1,exportDate:new Date().toISOString(),athlete:s,races:n},o=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),r=URL.createObjectURL(o),a=document.createElement("a");a.href=r,a.download=`athlete_${s.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(r)}static exportGlobalBackup(){const t=Rt.getDB(),s={type:"sprint_predictor_export",version:1,scope:"all",exportDate:new Date().toISOString(),db:t},n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`sprint_predictor_backup_${new Date().toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(i)}static async importData(t){try{const s=JSON.parse(t);if(s.type==="sprint-predictor-athlete")return this.importAthletePackage(s);if(s.type==="sprint_predictor_export")return this.importGlobalBackup(s);if(s.type==="sprint-predictor-race")return this.importSingleRace(s);throw new Error("Format de fichier non reconnu")}catch(s){throw console.error("Erreur import:",s),s}}static importGlobalBackup(t){if(t.scope==="all"&&t.db){const s=Rt.getDB(),n=t.db,i={...s.athletes,...n.athletes},o={...s.races,...n.races},r={...n,athletes:i,races:o,lastUpdated:new Date().toISOString()};return Rt.saveDB(r),{type:"global",count:Object.keys(n.athletes||{}).length}}throw new Error("Contenu de sauvegarde invalide")}static importAthletePackage(t){const{athlete:s,races:n}=t,i=new te(s);return i.save(),n.forEach(o=>{new yt(o).save()}),{type:"athlete",athleteId:i.id,count:n.length}}static generateShareLink(t){const s=yt.load(t);if(!s)return null;const n=te.load(s.athleteId),i={t:"spr",v:1,a:n?{n:n.name,g:n.gender,b:n.birthYear}:null,r:{id:s.id,d:s.discipline,da:s.date,n:s.name,m:s.milestones.map(l=>[l.distance,l.time,l.type==="split"?0:1]),s:s.stepCounts,no:s.note}},o=JSON.stringify(i),r=btoa(unescape(encodeURIComponent(o))),a=new URL(window.location.origin+window.location.pathname);return a.hash=`#/import?data=${r}`,a.toString()}static generateAthleteShareLink(t){const s=te.load(t);if(!s)return null;const n=yt.getByAthlete(t),i=n.slice(0,3),o={t:"spa",v:1,a:{id:s.id,n:s.name,g:s.gender,b:s.birthYear,no:s.notes,m:s.metrics},rs:i.map(c=>({id:c.id,d:c.discipline,da:c.date,n:c.name,m:c.milestones.map(u=>[u.distance,u.time,u.type==="split"?0:1]),s:c.stepCounts}))},r=JSON.stringify(o),a=btoa(unescape(encodeURIComponent(r))),l=new URL(window.location.origin+window.location.pathname);return l.hash=`#/import?data=${a}`,{url:l.toString(),count:n.length,isLimited:n.length>3}}static decodeShareData(t){try{const s=decodeURIComponent(escape(atob(t))),n=JSON.parse(s);if(n.t==="spr")return this.parseCompactRace(n);if(n.t==="spa")return this.parseCompactAthlete(n)}catch(s){console.error("Erreur dcodage URL:",s)}return null}static parseCompactRace(t){const s={id:t.r.id||crypto.randomUUID(),discipline:t.r.d,date:t.r.da,name:t.r.n,note:t.r.no,milestones:t.r.m.map(n=>({distance:n[0],time:n[1],type:n[2]===0?"split":"touchdown",label:`${n[0]}m`})),stepCounts:t.r.s};return{type:"race",athlete:t.a?{name:t.a.n,gender:t.a.g,birthYear:t.a.b}:null,race:s}}static parseCompactAthlete(t){return{type:"athlete",athlete:{id:t.a.id,name:t.a.n,gender:t.a.g,birthYear:t.a.b,notes:t.a.no,metrics:t.a.m},races:t.rs.map(s=>({id:s.id,discipline:s.d,date:s.da,name:s.n,milestones:s.m.map(n=>({distance:n[0],time:n[1],type:n[2]===0?"split":"touchdown",label:`${n[0]}m`})),stepCounts:s.s}))}}}const og={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8"},rg={class:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between"},ag={key:0,class:"flex items-center text-blue-600 space-x-2"},lg={key:1,class:"flex items-center text-emerald-500 space-x-1"},cg={class:"p-6"},ug={key:0,class:"text-center py-4"},dg={key:1,class:"bg-orange-50 border border-orange-100 rounded-xl p-4 flex items-center justify-between"},fg={key:2,class:"flex items-center justify-between bg-emerald-50/50 border border-emerald-100 rounded-xl p-4"},hg={class:"flex items-center space-x-3 overflow-hidden"},pg={class:"overflow-hidden"},mg={class:"text-sm font-bold text-emerald-900 truncate"},gg={__name:"SyncManager",setup(e){const t=ct(null),s=ct(!1),n=ct(!1),i=ct(!1),o=async()=>{if(t.value=await _e.getHandle(),t.value){const h=await _e.verifyPermission(t.value);n.value=!h}else n.value=!1},r=async()=>{if(await _e.linkFile()){if(confirm(`Voulez-vous craser le contenu du fichier slectionn par vos donnes actuelles ?

(Si le fichier est vide ou neuf, cliquez sur OK)`))await _e.saveToDisk();else if(confirm("Voulez-vous charger les donnes du fichier et craser votre session actuelle ?")){const p=await _e.loadFromDisk();p&&(Rt.saveDB(p),alert("Donnes charges avec succs !"))}o()}},a=async()=>{t.value&&await _e.verifyPermission(t.value,!0)&&(n.value=!1,await _e.saveToDisk())},l=async()=>{confirm("tes-vous sr de vouloir dtacher ce fichier ? La synchronisation sera arrte.")&&(await _e.unlinkFile(),o())},c=()=>{s.value=!0},u=h=>{s.value=!1,i.value=h.detail.success,i.value&&setTimeout(()=>{i.value=!1},3e3)},d=()=>{n.value=!0};return Ve(()=>{o(),window.addEventListener("sync-status-changed",o),window.addEventListener("sync-started",c),window.addEventListener("sync-finished",u),window.addEventListener("sync-permission-required",d)}),In(()=>{window.removeEventListener("sync-status-changed",o),window.removeEventListener("sync-started",c),window.removeEventListener("sync-finished",u),window.removeEventListener("sync-permission-required",d)}),(h,p)=>(T(),M("div",og,[f("div",rg,[p[2]||(p[2]=f("div",null,[f("h3",{class:"text-lg font-bold text-slate-900"},"Synchronisation Local-First"),f("p",{class:"text-xs text-slate-500 mt-0.5"},"Liez un fichier JSON local pour sauvegarder vos donnes en temps rel.")],-1)),s.value?(T(),M("div",ag,[...p[0]||(p[0]=[f("svg",{class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},[f("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),f("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),f("span",{class:"text-[10px] font-bold uppercase tracking-widest"},"Synchro...",-1)])])):i.value?(T(),M("div",lg,[...p[1]||(p[1]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),f("span",{class:"text-[10px] font-bold uppercase tracking-widest"}," jour",-1)])])):st("",!0)]),f("div",cg,[t.value?n.value?(T(),M("div",dg,[p[5]||(p[5]=Ds('<div class="flex items-center space-x-3"><div class="w-10 h-10 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center flex-shrink-0"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><div><div class="text-sm font-bold text-orange-900">Permission rvoque</div><div class="text-xs text-orange-700">Le navigateur ncessite votre accord pour synchroniser.</div></div></div>',1)),f("button",{onClick:a,class:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white text-xs font-bold rounded-lg transition-colors shadow-sm"}," Ractiver ")])):(T(),M("div",fg,[f("div",hg,[p[7]||(p[7]=f("div",{class:"w-10 h-10 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0"},[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),f("div",pg,[f("div",mg,N(t.value.name),1),p[6]||(p[6]=f("div",{class:"text-[10px] text-emerald-700 font-medium"},"Liaison active  Sauvegarde automatique",-1))])]),f("button",{onClick:l,class:"p-2 text-slate-400 hover:text-red-500 transition-colors",title:"Dtacher le fichier"},[...p[8]||(p[8]=[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])):(T(),M("div",ug,[f("button",{onClick:r,class:"inline-flex items-center px-6 py-3 bg-white border-2 border-dashed border-slate-300 hover:border-blue-400 hover:bg-blue-50 text-slate-600 hover:text-blue-600 rounded-xl transition-all group"},[...p[3]||(p[3]=[f("svg",{class:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.826L10.242 9.172a4 4 0 015.656 0l4 4a4 4 0 01-5.656 5.656l-1.103-1.103"})],-1),f("span",{class:"font-bold text-sm"},"Lier un fichier JSON local",-1)])]),p[4]||(p[4]=f("p",{class:"text-[10px] text-slate-400 mt-4 max-w-xs mx-auto italic"}," Idal pour synchroniser vos donnes avec Google Drive ou Dropbox via leurs dossiers locaux. ",-1))]))])]))}},bg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},xg={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in"},vg={class:"bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden max-w-lg w-full"},yg={class:"p-8 space-y-6"},_g={key:0,class:"flex items-center space-x-4 p-4 bg-slate-50 rounded-xl"},wg={class:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-xl"},kg={class:"font-bold text-slate-900 text-lg"},Ag={class:"text-sm text-slate-500"},Sg={class:"flex flex-col sm:flex-row gap-3 pt-4"},Tg={class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},Cg={class:"lg:col-span-2 space-y-6"},Mg={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Eg={class:"divide-y divide-slate-100"},Ig={key:0,class:"p-12 text-center text-slate-400"},Pg={class:"flex items-center space-x-4 mb-4 sm:mb-0"},Lg={class:"w-10 h-10 flex-shrink-0 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 font-bold"},Og={class:"min-w-0"},Rg={class:"font-bold text-slate-900 truncate"},Dg={class:"text-xs text-slate-500"},Ng={class:"flex items-center justify-end space-x-1.5 sm:space-x-2"},Fg=["onClick"],$g=["onClick"],Bg=["onClick"],jg=["onClick"],Vg=["onClick"],zg={class:"space-y-6"},Hg={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},Ug={class:"space-y-4"},Wg={class:"w-full flex items-center justify-center px-4 py-3 border border-slate-200 border-dashed rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors cursor-pointer"},qg={__name:"Home",setup(e){const t=Yo(),s=ct({}),n=()=>{s.value=te.getAll()},i=p=>{var v;const m=new Date().getFullYear(),g=m-(p.birthYear||m);return`${p.gender==="M"?"Homme":"Femme"}  ${g} ans  ${((v=p.lastUpdated)==null?void 0:v.split("T")[0])||"?"}`},o=()=>{const p=prompt("Nom de l'athlte :");p&&(new te({name:p}).save(),n())},r=p=>{t.push(`/athlete/${p}`)},a=p=>{Rt.setCurrentAthlete(p),t.push("/analysis")},l=p=>{Rt.setCurrentAthlete(p),t.push({path:"/races-analysis",query:{athleteId:p}})},c=p=>{confirm("Supprimer cet athlte ? Cette action est irrversible.")&&(te.delete(p),Rt.getCurrentAthleteId()===p&&Rt.setCurrentAthlete(null),n())},u=()=>{on.exportGlobalBackup()},d=async p=>{const m=p.target.files[0];if(!m)return;const g=new FileReader;g.onload=async x=>{try{const v=x.target.result,_=await on.importData(v);_.type==="athlete"?alert(`Importation russie : Athlte import avec ${_.count} courses.`):_.type==="global"&&alert(`Fusion russie : ${_.count} athltes mis  jour.`),n(),p.target.value=""}catch(v){console.error(v),alert("Erreur lors de l'importation : "+v.message)}},g.readAsText(m)},h=p=>{const m=on.generateAthleteShareLink(p.id);m&&navigator.clipboard.writeText(m.url).then(()=>{let g="Lien de partage de l'athlte copi !";m.isLimited&&(g+=`

Note: Seules les 3 courses les plus rcentes sont incluses dans le lien.`),alert(g)})};return Ve(()=>{n()}),(p,m)=>(T(),M("div",bg,[p.sharedImportData?(T(),M("div",xg,[f("div",vg,[m[2]||(m[2]=f("div",{class:"bg-blue-600 p-6 text-white"},[f("h3",{class:"text-xl font-bold"},"Donnes partages reues"),f("p",{class:"text-blue-100 text-sm"},"Voulez-vous importer ces informations ?")],-1)),f("div",yg,[p.sharedImportData.athlete?(T(),M("div",_g,[f("div",wg,N(p.sharedImportData.athlete.name.charAt(0)),1),f("div",null,[f("div",kg,N(p.sharedImportData.athlete.name),1),f("div",Ag,N(p.sharedImportData.athlete.gender==="M"?"Homme":"Femme")+"  N(e) en "+N(p.sharedImportData.athlete.birthYear),1)])])):st("",!0),f("div",Sg,[f("button",{onClick:m[0]||(m[0]=(...g)=>p.confirmSharedImport&&p.confirmSharedImport(...g)),class:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-all"}," Confirmer "),f("button",{onClick:m[1]||(m[1]=g=>p.sharedImportData=null),class:"px-6 py-3 bg-white border border-slate-200 text-slate-600 font-bold rounded-xl hover:bg-slate-50 transition-colors"}," Annuler ")])])])])):st("",!0),m[14]||(m[14]=f("div",{class:"text-center mb-12"},[f("h2",{class:"text-3xl font-extrabold text-slate-900 sm:text-4xl"},[pt(" Sprint "),f("span",{class:"text-blue-600"},"Predictor")]),f("p",{class:"mt-4 text-lg text-slate-500"}," Grez vos athltes, analysez leurs courses et prdisez leur potentiel. ")],-1)),f("div",Tg,[f("div",Cg,[f("div",Mg,[f("div",{class:"p-4 sm:p-6 border-b border-slate-100 flex items-center justify-between"},[m[4]||(m[4]=f("h3",{class:"text-lg font-bold text-slate-900"},"Vos athltes",-1)),f("button",{onClick:o,class:"inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-semibold rounded-lg transition-colors shadow-sm"},[...m[3]||(m[3]=[f("svg",{class:"w-4 h-4 mr-1 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),pt(" Nouveau ",-1)])])]),f("div",Eg,[Object.keys(s.value).length===0?(T(),M("div",Ig,[...m[5]||(m[5]=[f("svg",{class:"w-12 h-12 mx-auto mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),pt(" Aucun athlte enregistr. Commencez par en crer un. ",-1)])])):st("",!0),(T(!0),M(rt,null,wt(s.value,(g,x)=>(T(),M("div",{key:x,class:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 transition-colors group"},[f("div",Pg,[f("div",Lg,N((g.name||"?").charAt(0).toUpperCase()),1),f("div",Og,[f("div",Rg,N(g.name||"Sans nom"),1),f("div",Dg,N(i(g)),1)])]),f("div",Ng,[f("button",{onClick:v=>h(g),class:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"Partager"},[...m[6]||(m[6]=[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])],8,Fg),f("button",{onClick:v=>r(x),class:"px-2.5 py-1.5 bg-white border border-slate-200 hover:border-blue-600 hover:text-blue-600 text-slate-700 text-[10px] font-black uppercase rounded-lg transition-all"}," Profil ",8,$g),f("button",{onClick:v=>a(x),class:"px-2.5 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-700 text-[10px] font-black uppercase rounded-lg transition-all"}," Analyse ",8,Bg),f("button",{onClick:v=>l(x),class:"px-2.5 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase rounded-lg transition-all shadow-sm"}," Courses ",8,jg),f("button",{onClick:v=>c(x),class:"p-2 text-slate-400 hover:text-red-600 sm:opacity-0 sm:group-hover:opacity-100 transition-all"},[...m[7]||(m[7]=[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Vg)])]))),128))])])]),f("div",zg,[Tt(gg),f("div",Hg,[m[11]||(m[11]=f("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4"},"Sauvegarde JSON",-1)),f("div",Ug,[f("button",{onClick:u,class:"w-full flex items-center justify-center px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:bg-slate-50 transition-colors"},[...m[8]||(m[8]=[f("svg",{class:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),pt(" Exporter tout ",-1)])]),f("label",Wg,[m[9]||(m[9]=f("svg",{class:"w-5 h-5 mr-2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1)),m[10]||(m[10]=pt(" Restaurer / Fusionner ",-1)),f("input",{type:"file",class:"hidden",onChange:d,accept:".json"},null,32)])]),m[12]||(m[12]=f("p",{class:"mt-4 text-[10px] text-slate-400 leading-tight"}," Les donnes sont stockes localement dans votre navigateur. Utilisez l'export pour transfrer vos donnes vers un autre appareil. ",-1))]),m[13]||(m[13]=Ds('<div class="bg-slate-800 rounded-2xl p-6 shadow-lg shadow-slate-800/20 text-white"><h3 class="text-sm font-bold uppercase tracking-widest mb-2 opacity-80">Scouting Reports</h3><p class="text-sm font-medium mb-4">Gnration de bilans PDF professionnels pour vos athltes.</p><div class="inline-block px-3 py-1 bg-white/10 rounded-full text-[10px] font-bold uppercase">Prochainement</div></div><div class="bg-indigo-600 rounded-2xl p-6 shadow-lg shadow-indigo-600/20 text-white"><h3 class="text-sm font-bold uppercase tracking-widest mb-2 opacity-80">Comparaison lite</h3><p class="text-sm font-medium mb-4">Superposez vos courbes avec Michael Johnson ou Sydney McLaughlin-Levrone.</p><div class="inline-block px-3 py-1 bg-white/20 rounded-full text-[10px] font-bold uppercase">En dveloppement</div></div>',2))])])]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ei(e){return e+.5|0}const Es=(e,t,s)=>Math.max(Math.min(e,s),t);function Hn(e){return Es(Ei(e*2.55),0,255)}function Ns(e){return Es(Ei(e*255),0,255)}function as(e){return Es(Ei(e/2.55)/100,0,1)}function sc(e){return Es(Ei(e*100),0,100)}const Ee={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qr=[..."0123456789ABCDEF"],Gg=e=>Qr[e&15],Yg=e=>Qr[(e&240)>>4]+Qr[e&15],Di=e=>(e&240)>>4===(e&15),Kg=e=>Di(e.r)&&Di(e.g)&&Di(e.b)&&Di(e.a);function Xg(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Ee[e[1]]*17,g:255&Ee[e[2]]*17,b:255&Ee[e[3]]*17,a:t===5?Ee[e[4]]*17:255}:(t===7||t===9)&&(s={r:Ee[e[1]]<<4|Ee[e[2]],g:Ee[e[3]]<<4|Ee[e[4]],b:Ee[e[5]]<<4|Ee[e[6]],a:t===9?Ee[e[7]]<<4|Ee[e[8]]:255})),s}const Jg=(e,t)=>e<255?t(e):"";function Qg(e){var t=Kg(e)?Gg:Yg;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Jg(e.a,t):void 0}const Zg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jd(e,t,s){const n=t*Math.min(s,1-s),i=(o,r=(o+e/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function tb(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function eb(e,t,s){const n=Jd(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function sb(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function Ra(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=sb(s,n,i,u,o),l=l*60+.5),[l|0,c||0,a]}function Da(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Ns)}function Na(e,t,s){return Da(Jd,e,t,s)}function nb(e,t,s){return Da(eb,e,t,s)}function ib(e,t,s){return Da(tb,e,t,s)}function Qd(e){return(e%360+360)%360}function ob(e){const t=Zg.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Hn(+t[5]):Ns(+t[5]));const i=Qd(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=nb(i,o,r):t[1]==="hsv"?n=ib(i,o,r):n=Na(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function rb(e,t){var s=Ra(e);s[0]=Qd(s[0]+t),s=Na(s),e.r=s[0],e.g=s[1],e.b=s[2]}function ab(e){if(!e)return;const t=Ra(e),s=t[0],n=sc(t[1]),i=sc(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${as(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const nc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ic={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lb(){const e={},t=Object.keys(ic),s=Object.keys(nc);let n,i,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,nc[o]);o=parseInt(ic[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Ni;function cb(e){Ni||(Ni=lb(),Ni.transparent=[0,0,0,0]);const t=Ni[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ub=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function db(e){const t=ub.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const r=+t[7];s=t[8]?Hn(r):Es(r*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?Hn(n):Es(n,0,255)),i=255&(t[4]?Hn(i):Es(i,0,255)),o=255&(t[6]?Hn(o):Es(o,0,255)),{r:n,g:i,b:o,a:s}}}function fb(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${as(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const _r=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,hn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function hb(e,t,s){const n=hn(as(e.r)),i=hn(as(e.g)),o=hn(as(e.b));return{r:Ns(_r(n+s*(hn(as(t.r))-n))),g:Ns(_r(i+s*(hn(as(t.g))-i))),b:Ns(_r(o+s*(hn(as(t.b))-o))),a:e.a+s*(t.a-e.a)}}function Fi(e,t,s){if(e){let n=Ra(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=Na(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Zd(e,t){return e&&Object.assign(t||{},e)}function oc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ns(e[3]))):(t=Zd(e,{r:0,g:0,b:0,a:1}),t.a=Ns(t.a)),t}function pb(e){return e.charAt(0)==="r"?db(e):ob(e)}class gi{constructor(t){if(t instanceof gi)return t;const s=typeof t;let n;s==="object"?n=oc(t):s==="string"&&(n=Xg(t)||cb(t)||pb(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Zd(this._rgb);return t&&(t.a=as(t.a)),t}set rgb(t){this._rgb=oc(t)}rgbString(){return this._valid?fb(this._rgb):void 0}hexString(){return this._valid?Qg(this._rgb):void 0}hslString(){return this._valid?ab(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=hb(this._rgb,t._rgb,s)),this}clone(){return new gi(this.rgb)}alpha(t){return this._rgb.a=Ns(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Ei(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Fi(this._rgb,2,t),this}darken(t){return Fi(this._rgb,2,-t),this}saturate(t){return Fi(this._rgb,1,t),this}desaturate(t){return Fi(this._rgb,1,-t),this}rotate(t){return rb(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ss(){}const mb=(()=>{let e=0;return()=>e++})();function kt(e){return e==null}function Ut(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function At(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Yt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Se(e,t){return Yt(e)?e:t}function xt(e,t){return typeof e>"u"?t:e}const gb=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,tf=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function jt(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Ot(e,t,s,n){let i,o,r;if(Ut(e))for(o=e.length,i=0;i<o;i++)t.call(s,e[i],i);else if(At(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(s,e[r[i]],r[i])}function wo(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function ko(e){if(Ut(e))return e.map(ko);if(At(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=ko(e[s[i]]);return t}return e}function ef(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function bb(e,t,s,n){if(!ef(e))return;const i=t[e],o=s[e];At(i)&&At(o)?bi(i,o,n):t[e]=ko(o)}function bi(e,t,s){const n=Ut(t)?t:[t],i=n.length;if(!At(e))return e;s=s||{};const o=s.merger||bb;let r;for(let a=0;a<i;++a){if(r=n[a],!At(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],e,r,s)}return e}function ni(e,t){return bi(e,t,{merger:xb})}function xb(e,t,s){if(!ef(e))return;const n=t[e],i=s[e];At(n)&&At(i)?ni(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ko(i))}const rc={"":e=>e,x:e=>e.x,y:e=>e.y};function vb(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function yb(e){const t=vb(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function $s(e,t){return(rc[t]||(rc[t]=yb(t)))(e)}function Fa(e){return e.charAt(0).toUpperCase()+e.slice(1)}const xi=e=>typeof e<"u",Bs=e=>typeof e=="function",ac=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function _b(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Mt=Math.PI,Ht=2*Mt,wb=Ht+Mt,Ao=Number.POSITIVE_INFINITY,kb=Mt/180,Jt=Mt/2,Ws=Mt/4,lc=Mt*2/3,Is=Math.log10,Je=Math.sign;function ii(e,t,s){return Math.abs(e-t)<s}function cc(e){const t=Math.round(e);e=ii(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Is(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Ab(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function Sb(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Cn(e){return!Sb(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Tb(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function sf(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Re(e){return e*(Mt/180)}function $a(e){return e*(180/Mt)}function uc(e){if(!Yt(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function nf(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*Mt&&(o+=Ht),{angle:o,distance:i}}function Zr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Cb(e,t){return(e-t+wb)%Ht-Mt}function re(e){return(e%Ht+Ht)%Ht}function vi(e,t,s,n){const i=re(e),o=re(t),r=re(s),a=re(o-i),l=re(r-i),c=re(i-o),u=re(i-r);return i===o||i===r||n&&o===r||a>l&&c<u}function ne(e,t,s){return Math.max(t,Math.min(s,e))}function Mb(e){return ne(e,-32768,32767)}function fs(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Ba(e,t,s){s=s||(r=>e[r]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const hs=(e,t,s,n)=>Ba(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),Eb=(e,t,s)=>Ba(e,s,n=>e[n][t]>=s);function Ib(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const of=["push","pop","shift","splice","unshift"];function Pb(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),of.forEach(s=>{const n="_onData"+Fa(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function dc(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(of.forEach(o=>{delete e[o]}),delete e._chartjs)}function rf(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const af=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function lf(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,af.call(window,()=>{n=!1,e.apply(t,s)}))}}function Lb(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const ja=e=>e==="start"?"left":e==="end"?"right":"center",oe=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,Ob=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function cf(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=r.axis,{min:d,max:h,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(i=Math.min(hs(l,u,d).lo,s?n:hs(t,u,r.getPixelForValue(d)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(x=>!kt(x[a.axis]));i-=Math.max(0,g)}i=ne(i,0,n-1)}if(m){let g=Math.max(hs(l,r.axis,h,!0).hi+1,s?0:hs(t,u,r.getPixelForValue(h),!0).hi+1);if(c){const x=l.slice(g-1).findIndex(v=>!kt(v[a.axis]));g+=Math.max(0,x)}o=ne(g,i,n)-i}else o=n-i}return{start:i,count:o}}function uf(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const $i=e=>e===0||e===1,fc=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ht/s)),hc=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ht/s)+1,oi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Jt)+1,easeOutSine:e=>Math.sin(e*Jt),easeInOutSine:e=>-.5*(Math.cos(Mt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>$i(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$i(e)?e:fc(e,.075,.3),easeOutElastic:e=>$i(e)?e:hc(e,.075,.3),easeInOutElastic(e){return $i(e)?e:e<.5?.5*fc(e*2,.1125,.45):.5+.5*hc(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-oi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?oi.easeInBounce(e*2)*.5:oi.easeOutBounce(e*2-1)*.5+.5};function Va(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pc(e){return Va(e)?e:new gi(e)}function wr(e){return Va(e)?e:new gi(e).saturate(.5).darken(.1).hexString()}const Rb=["x","y","borderWidth","radius","tension"],Db=["color","borderColor","backgroundColor"];function Nb(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Db},numbers:{type:"number",properties:Rb}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Fb(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mc=new Map;function $b(e,t){t=t||{};const s=e+JSON.stringify(t);let n=mc.get(s);return n||(n=new Intl.NumberFormat(e,t),mc.set(s,n)),n}function Ii(e,t,s){return $b(t,s).format(e)}const df={values(e){return Ut(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=Bb(e,s)}const r=Is(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ii(e,n,l)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Is(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?df.numeric.call(this,e,t,s):""}};function Bb(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Xo={formatters:df};function jb(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ln=Object.create(null),ta=Object.create(null);function ri(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function kr(e,t,s){return typeof t=="string"?bi(ri(e,t),s):bi(ri(e,""),t)}class Vb{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>wr(i.backgroundColor),this.hoverBorderColor=(n,i)=>wr(i.borderColor),this.hoverColor=(n,i)=>wr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return kr(this,t,s)}get(t){return ri(this,t)}describe(t,s){return kr(ta,t,s)}override(t,s){return kr(ln,t,s)}route(t,s,n,i){const o=ri(this,t),r=ri(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return At(l)?Object.assign({},c,l):xt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Wt=new Vb({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Nb,Fb,jb]);function zb(e){return!e||kt(e.size)||kt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function So(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function Hb(e,t,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=s.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=s[l],d!=null&&!Ut(d))r=So(e,i,o,r,d);else if(Ut(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Ut(h)&&(r=So(e,i,o,r,h));e.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function qs(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function gc(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ea(e,t,s,n){ff(e,t,s,n,null)}function ff(e,t,s,n,i){let o,r,a,l,c,u,d,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let x=(m||0)*kb;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(x),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,g,0,0,Ht):e.arc(s,n,g,0,Ht),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(s+Math.sin(x)*u,n-Math.cos(x)*g),x+=lc,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*g),x+=lc,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(x+Ws)*l,d=Math.cos(x+Ws)*(i?i/2-c:l),a=Math.sin(x+Ws)*l,h=Math.sin(x+Ws)*(i?i/2-c:l),e.arc(s-d,n-a,c,x-Mt,x-Jt),e.arc(s+h,n-r,c,x-Jt,x),e.arc(s+d,n+a,c,x,x+Jt),e.arc(s-h,n+r,c,x+Jt,x+Mt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(s-u,n-l,2*u,2*l);break}x+=Ws;case"rectRot":d=Math.cos(x)*(i?i/2:g),r=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),e.moveTo(s-d,n-a),e.lineTo(s+h,n-r),e.lineTo(s+d,n+a),e.lineTo(s-h,n+r),e.closePath();break;case"crossRot":x+=Ws;case"cross":d=Math.cos(x)*(i?i/2:g),r=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r);break;case"star":d=Math.cos(x)*(i?i/2:g),r=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r),x+=Ws,d=Math.cos(x)*(i?i/2:g),r=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r);break;case"line":r=i?i/2:Math.cos(x)*g,a=Math.sin(x)*g,e.moveTo(s-r,n-a),e.lineTo(s+r,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(x)*(i?i/2:g),n+Math.sin(x)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ps(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Jo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Qo(e){e.restore()}function Ub(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Wb(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function qb(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),kt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Gb(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,u),e.lineTo(a,u),e.stroke()}}function Yb(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function cn(e,t,s,n,i,o={}){const r=Ut(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,qb(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&Yb(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,n,o.maxWidth)),e.fillText(c,s,n,o.maxWidth),Gb(e,s,n,c,o),n+=Number(i.lineHeight);e.restore()}function yi(e,t){const{x:s,y:n,w:i,h:o,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*Mt,Mt,!0),e.lineTo(s,n+o-r.bottomLeft),e.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,Mt,Jt,!0),e.lineTo(s+i-r.bottomRight,n+o),e.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Jt,0,!0),e.lineTo(s+i,n+r.topRight),e.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Jt,!0),e.lineTo(s+r.topLeft,n)}const Kb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jb(e,t){const s=(""+e).match(Kb);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const Qb=e=>+e||0;function za(e,t){const s={},n=At(t),i=n?Object.keys(t):t,o=At(e)?n?r=>xt(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)s[r]=Qb(o(r));return s}function hf(e){return za(e,{top:"y",right:"x",bottom:"y",left:"x"})}function rn(e){return za(e,["topLeft","topRight","bottomLeft","bottomRight"])}function de(e){const t=hf(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ee(e,t){e=e||{},t=t||Wt.font;let s=xt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=xt(e.style,t.style);n&&!(""+n).match(Xb)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:xt(e.family,t.family),lineHeight:Jb(xt(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:xt(e.weight,t.weight),string:""};return i.string=zb(i),i}function Un(e,t,s,n){let i,o,r;for(i=0,o=e.length;i<o;++i)if(r=e[i],r!==void 0&&r!==void 0)return r}function Zb(e,t,s){const{min:n,max:i}=e,o=tf(t,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function js(e,t){return Object.assign(Object.create(e),t)}function Ha(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n>"u"&&(n=bf("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>Ha([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return mf(a,l,()=>ax(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return xc(a).includes(l)},ownKeys(a){return xc(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Mn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:pf(e,n),setContext:o=>Mn(e,o,s,n),override:o=>Mn(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return mf(o,r,()=>ex(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function pf(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Bs(s)?s:()=>s,isIndexable:Bs(n)?n:()=>n}}const tx=(e,t)=>e?e+Fa(t):t,Ua=(e,t)=>At(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function mf(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function ex(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=e;let a=n[t];return Bs(a)&&r.isScriptable(t)&&(a=sx(t,a,e,s)),Ut(a)&&a.length&&(a=nx(t,a,e,r.isIndexable)),Ua(t,a)&&(a=Mn(a,i,o&&o[t],r)),a}function sx(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),Ua(e,l)&&(l=Wa(i._scopes,i,e,l)),l}function nx(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(At(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=Wa(c,i,e,u);t.push(Mn(d,o,r&&r[e],a))}}return t}function gf(e,t,s){return Bs(e)?e(t,s):e}const ix=(e,t)=>e===!0?t:typeof e=="string"?$s(t,e):void 0;function ox(e,t,s,n,i){for(const o of t){const r=ix(s,o);if(r){e.add(r);const a=gf(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function Wa(e,t,s,n){const i=t._rootScopes,o=gf(t._fallback,s,n),r=[...e,...i],a=new Set;a.add(n);let l=bc(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=bc(a,r,o,l,n),l===null)?!1:Ha(Array.from(a),[""],i,o,()=>rx(t,s,n))}function bc(e,t,s,n,i){for(;s;)s=ox(e,t,s,n,i);return s}function rx(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return Ut(i)&&At(s)?s:i||{}}function ax(e,t,s,n){let i;for(const o of t)if(i=bf(tx(o,e),s),typeof i<"u")return Ua(e,i)?Wa(s,n,e,i):i}function bf(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function xc(e){let t=e._keys;return t||(t=e._keys=lx(e._scopes)),t}function lx(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function xf(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+s,u=t[c],r[a]={r:i.parse($s(u,o),c)};return r}const cx=Number.EPSILON||1e-14,En=(e,t)=>t<e.length&&!e[t].skip&&e[t],vf=e=>e==="x"?"y":"x";function ux(e,t,s,n){const i=e.skip?t:e,o=t,r=s.skip?t:s,a=Zr(o,i),l=Zr(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+h*(r.x-i.x),y:o.y+h*(r.y-i.y)}}}function dx(e,t,s){const n=e.length;let i,o,r,a,l,c=En(e,0);for(let u=0;u<n-1;++u)if(l=c,c=En(e,u+1),!(!l||!c)){if(ii(t[u],0,cx)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],o=s[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[u]=i*r*t[u],s[u+1]=o*r*t[u])}}function fx(e,t,s="x"){const n=vf(s),i=e.length;let o,r,a,l=En(e,0);for(let c=0;c<i;++c){if(r=a,a=l,l=En(e,c+1),!a)continue;const u=a[s],d=a[n];r&&(o=(u-r[s])/3,a[`cp1${s}`]=u-o,a[`cp1${n}`]=d-o*t[c]),l&&(o=(l[s]-u)/3,a[`cp2${s}`]=u+o,a[`cp2${n}`]=d+o*t[c])}}function hx(e,t="x"){const s=vf(t),n=e.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=En(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=En(e,r+1),!!l){if(c){const u=c[t]-l[t];i[r]=u!==0?(c[s]-l[s])/u:0}o[r]=a?c?Je(i[r-1])!==Je(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}dx(e,i,o),fx(e,o,t)}function Bi(e,t,s){return Math.max(Math.min(e,s),t)}function px(e,t){let s,n,i,o,r,a=ps(e[0],t);for(s=0,n=e.length;s<n;++s)r=o,o=a,a=s<n-1&&ps(e[s+1],t),o&&(i=e[s],r&&(i.cp1x=Bi(i.cp1x,t.left,t.right),i.cp1y=Bi(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Bi(i.cp2x,t.left,t.right),i.cp2y=Bi(i.cp2y,t.top,t.bottom)))}function mx(e,t,s,n,i){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")hx(e,i);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=ux(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&px(e,s)}function qa(){return typeof window<"u"&&typeof document<"u"}function Ga(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function To(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Zo=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function gx(e,t){return Zo(e).getPropertyValue(t)}const bx=["top","right","bottom","left"];function an(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=bx[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const xx=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function vx(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(xx(i,o,e.target))a=i,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Xs(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Zo(s),o=i.boxSizing==="border-box",r=an(i,"padding"),a=an(i,"border","width"),{x:l,y:c,box:u}=vx(e,s),d=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:p,height:m}=t;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-d)/p*s.width/n),y:Math.round((c-h)/m*s.height/n)}}function yx(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&Ga(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Zo(o),l=an(a,"border","width"),c=an(a,"padding");t=r.width-c.width-l.width,s=r.height-c.height-l.height,n=To(a.maxWidth,o,"clientWidth"),i=To(a.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||Ao,maxHeight:i||Ao}}const Ps=e=>Math.round(e*10)/10;function _x(e,t,s,n){const i=Zo(e),o=an(i,"margin"),r=To(i.maxWidth,e,"clientWidth")||Ao,a=To(i.maxHeight,e,"clientHeight")||Ao,l=yx(e,t,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=an(i,"border","width"),p=an(i,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,n?c/n:u-o.height),c=Ps(Math.min(c,r,l.maxWidth)),u=Ps(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ps(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Ps(Math.floor(u*n))),{width:c,height:u}}function vc(e,t,s){const n=t||1,i=Ps(e.height*n),o=Ps(e.width*n);e.height=Ps(e.height),e.width=Ps(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=n,r.height=i,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const wx=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};qa()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function yc(e,t){const s=gx(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Js(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function kx(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Ax(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Js(e,i,s),a=Js(i,o,s),l=Js(o,t,s),c=Js(r,a,s),u=Js(a,l,s);return Js(c,u,s)}const Sx=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Tx=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function wn(e,t,s){return e?Sx(t,s):Tx()}function yf(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function _f(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function wf(e){return e==="angle"?{between:vi,compare:Cb,normalize:re}:{between:fs,compare:(t,s)=>t-s,normalize:t=>t}}function _c({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Cx(e,t,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=wf(n),l=t.length;let{start:c,end:u,loop:d}=e,h,p;if(d){for(c+=l,u+=l,h=0,p=l;h<p&&r(a(t[c%l][n]),i,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function kf(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,r=t.length,{compare:a,between:l,normalize:c}=wf(n),{start:u,end:d,loop:h,style:p}=Cx(e,t,s),m=[];let g=!1,x=null,v,_,C;const S=()=>l(i,C,v)&&a(i,C)!==0,E=()=>a(o,v)===0||l(o,C,v),B=()=>g||S(),$=()=>!g||E();for(let j=u,V=u;j<=d;++j)_=t[j%r],!_.skip&&(v=c(_[n]),v!==C&&(g=l(v,i,o),x===null&&B()&&(x=a(v,i)===0?j:V),x!==null&&$()&&(m.push(_c({start:x,end:j,loop:h,count:r,style:p})),x=null),V=j,C=v));return x!==null&&m.push(_c({start:x,end:d,loop:h,count:r,style:p})),m}function Af(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=kf(n[i],e.points,t);o.length&&s.push(...o)}return s}function Mx(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function Ex(e,t,s,n){const i=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%i,end:(l-1)%i,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%i,end:r%i,loop:n}),o}function Ix(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=Mx(s,i,o,n);if(n===!0)return wc(e,[{start:r,end:a,loop:o}],s,t);const l=a<r?a+i:a,c=!!e._fullLoop&&r===0&&a===i-1;return wc(e,Ex(s,r,l,c),s,t)}function wc(e,t,s,n){return!n||!n.setContext||!s?t:Px(e,t,s,n)}function Px(e,t,s,n){const i=e._chart.getContext(),o=kc(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=s.length,c=[];let u=o,d=t[0].start,h=d;function p(m,g,x,v){const _=a?-1:1;if(m!==g){for(m+=l;s[m%l].skip;)m-=_;for(;s[g%l].skip;)g+=_;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:x,style:v}),u=v,d=g%l)}}for(const m of t){d=a?d:m.start;let g=s[d%l],x;for(h=d+1;h<=m.end;h++){const v=s[h%l];x=kc(n.setContext(js(i,{type:"segment",p0:g,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),Lx(x,u)&&p(d,h-1,m.loop,u),g=v,u=x}d<h-1&&p(d,h-1,m.loop,u)}return c}function kc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Lx(e,t){if(!t)return!1;const s=[],n=function(i,o){return Va(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function ji(e,t,s){return e.options.clip?e[s]:t[s]}function Ox(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:ji(s,t,"left"),right:ji(s,t,"right"),top:ji(n,t,"top"),bottom:ji(n,t,"bottom")}:t}function Sf(e,t){const s=t._clip;if(s.disabled)return!1;const n=Ox(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Rx{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=af.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ns=new Rx;const Ac="transparent",Dx={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=pc(e||Ac),i=n.valid&&pc(t||Ac);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class Nx{constructor(t,s,n,i){const o=s[n];i=Un([t.to,i,o,t.from]);const r=Un([t.from,o,i]);this._active=!0,this._fn=t.fn||Dx[t.type||typeof r],this._easing=oi[t.easing]||oi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Un([t.to,s,i,t.from]),this._from=Un([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Tf{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!At(t))return;const s=Object.keys(Wt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!At(o))return;const r={};for(const a of s)r[a]=o[a];(Ut(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,s){const n=s.options,i=$x(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&Fx(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[c];let d=o[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){t[c]=u;continue}o[c]=d=new Nx(h,t,c,u),i.push(d)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return ns.add(this._chart,n),!0}}function Fx(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function $x(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Sc(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function Bx(e,t,s){if(s===!1)return!1;const n=Sc(e,s),i=Sc(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function jx(e){let t,s,n,i;return At(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Cf(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function Tc(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let r,a,l,c;if(t===null)return;let u=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(u=!0,n.all)continue;break}c=e.values[l],Yt(c)&&(o||t===0||Je(t)===Je(c))&&(t+=c)}return!u&&!n.all?0:t}function Vx(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[i]:u,[o]:e[u]};return a}function Ar(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function zx(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Hx(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Ux(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Cc(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function Mc(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,u=zx(o,r,n),d=t.length;let h;for(let p=0;p<d;++p){const m=t[p],{[l]:g,[c]:x}=m,v=m._stacks||(m._stacks={});h=v[c]=Ux(i,u,g),h[a]=x,h._top=Cc(h,r,!0,n.type),h._bottom=Cc(h,r,!1,n.type);const _=h._visualValues||(h._visualValues={});_[a]=x}}function Sr(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Wx(e,t){return js(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function qx(e,t,s){return js(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Nn(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const Tr=e=>e==="reset"||e==="none",Ec=(e,t)=>t?e:Object.assign({},e),Gx=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Cf(s,!0),values:null};class Fe{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ar(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,h,p,m)=>d==="x"?h:d==="r"?m:p,o=s.xAxisID=xt(n.xAxisID,Sr(t,"x")),r=s.yAxisID=xt(n.yAxisID,Sr(t,"y")),a=s.rAxisID=xt(n.rAxisID,Sr(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),u=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dc(this._data,this),t._stacked&&Nn(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(At(s)){const i=this._cachedMeta;this._data=Vx(s,i)}else if(n!==s){if(n){dc(n,this);const i=this._cachedMeta;Nn(i),i._parsed=[]}s&&Object.isExtensible(s)&&Pb(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=Ar(s.vScale,s),s.stack!==n.stack&&(i=!0,Nn(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(Mc(this,s._parsed),s._stacked=Ar(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,d,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{Ut(i[t])?h=this.parseArrayData(n,i,t,s):At(i[t])?h=this.parseObjectData(n,i,t,s):h=this.parsePrimitiveData(n,i,t,s);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+t]=d=h[u],l&&(p()&&(l=!1),c=d);n._sorted=l}r&&Mc(this,h)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let h,p,m;for(h=0,p=i;h<p;++h)m=h+n,d[h]={[a]:u||o.parse(c[m],m),[l]:r.parse(s[m],m)};return d}parseArrayData(t,s,n,i){const{xScale:o,yScale:r}=t,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(t,s,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,p;for(u=0,d=i;u<d;++u)h=u+n,p=s[h],c[u]={x:o.parse($s(p,a),h),y:r.parse($s(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,r=s[t.axis],a={keys:Cf(i,!0),values:s._stacks[t.axis]._visualValues};return Tc(a,r,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=Tc(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,a=this._getOtherScale(t),l=Gx(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Hx(a);let h,p;function m(){p=i[h];const g=p[a.axis];return!Yt(p[t.axis])||u>g||d<g}for(h=0;h<r&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),o));++h);if(o){for(h=r-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][t.axis],Yt(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=jx(xt(this.options.clip,Bx(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=qx(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Wx(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=t+"-"+s,a=o[r],l=this.enableOptionSharing&&xi(n);if(a)return Ec(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Wt.elements[t]),m=()=>this.getContext(n,i,s),g=c.resolveNamedOptions(h,p,m,d);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(Ec(g,l))),g}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(t,n,s))}const c=new Tf(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Tr(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(t,s,n,i){Tr(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!Tr(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,r=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Nn(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(Fe,"defaults",{}),Q(Fe,"datasetElementType",null),Q(Fe,"dataElementType",null);function Yx(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=rf(n.sort((i,o)=>i-o))}return e._cache.$bar}function Kx(e){const t=e.iScale,s=Yx(t,e.type);let n=t._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(xi(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=t.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),l();return n}function Xx(e,t,s,n){const i=s.barThickness;let o,r;return kt(i)?(o=t.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function Jx(e,t,s,n){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function Qx(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function Mf(e,t,s,n){return Ut(e)?Qx(e,t,s,n):t[s.axis]=s.parse(e,n),t}function Ic(e,t,s,n){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,h;for(c=s,u=s+n;c<u;++c)h=t[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(Mf(h,d,o,c));return l}function Cr(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Zx(e,t,s){return e!==0?Je(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function t1(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}function e1(e,t,s,n){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=t1(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(o[Pc(u,r,a,l)]=!0,i=c)),o[Pc(i,r,a,l)]=!0,e.borderSkipped=o}function Pc(e,t,s,n){return n?(e=s1(e,t,s),e=Lc(e,s,t)):e=Lc(e,t,s),e}function s1(e,t,s){return e===t?s:e===s?t:e}function Lc(e,t,s){return e==="start"?t:e==="end"?s:e}function n1(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class to extends Fe{parsePrimitiveData(t,s,n,i){return Ic(t,s,n,i)}parseArrayData(t,s,n,i){return Ic(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let h,p,m,g;for(h=n,p=n+i;h<p;++h)g=s[h],m={},m[o.axis]=o.parse($s(g,c),h),d.push(Mf($s(g,u),m,r,h));return d}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(t),r=o._custom,a=Cr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const m=this.getParsed(p),g=o||kt(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[a.axis],_={horizontal:c,base:g.base,enableBorderRadius:!v||Cr(m._custom)||r===v._top||r===v._bottom,x:c?g.head:x.center,y:c?x.center:g.head,height:c?x.size:Math.abs(g.size),width:c?Math.abs(g.size):x.size};h&&(_.options=d||this.resolveDataElementOptions(p,t[p].active?"active":i));const C=_.options||t[p].options;e1(_,C,v,r),n1(_,C,u.ratio),this.updateElement(t[p],p,_,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(p=>p[n.axis]===l),h=d&&d[u.vScale.axis];if(kt(h)||isNaN(h))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((o===!1||r.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[xt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||Kx(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,u=Cr(c);let d=l[s.axis],h=0,p=n?this.applyStack(s,l,n):d,m,g;p!==d&&(h=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Je(d)!==Je(c.barEnd)&&(h=0),h+=d);const x=!kt(o)&&!u?o:h;let v=s.getPixelForValue(x);if(this.chart.getDataVisibility(t)?m=s.getPixelForValue(h+p):m=v,g=m-v,Math.abs(g)<r){g=Zx(g,s,a)*r,d===a&&(v-=g/2);const _=s.getPixelForDecimal(0),C=s.getPixelForDecimal(1),S=Math.min(_,C),E=Math.max(_,C);v=Math.max(Math.min(v,E),S),m=v+g,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const _=Je(g)*s.getLineWidthForValue(a)/2;v+=_,g-=_}return{size:g,base:v,head:m,center:m+g/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,o=i.skipNull,r=xt(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=o?this._getStackCount(t):s.stackCount,d=i.barThickness==="flex"?Jx(t,s,i,u*c):Xx(t,s,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(xt(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+p;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(r,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}Q(to,"id","bar"),Q(to,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(to,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class eo extends Fe{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,n,i){const o=super.parsePrimitiveData(t,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,s,n,i){const o=super.parseArrayData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=xt(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,s,n,i){const o=super.parseObjectData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=xt(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let n=t.length-1;n>=0;--n)s=Math.max(s,t[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),u=r.axis,d=a.axis;for(let h=s;h<s+n;h++){const p=t[h],m=!o&&this.getParsed(h),g={},x=g[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(m[u]),v=g[d]=o?a.getBasePixel():a.getPixelForValue(m[d]);g.skip=isNaN(x)||isNaN(v),c&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":i),o&&(g.options.radius=0)),this.updateElement(p,h,g,i)}}resolveDataElementOptions(t,s){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=xt(n&&n._custom,o),i}}Q(eo,"id","bubble"),Q(eo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(eo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function i1(e,t,s){let n=1,i=1,o=0,r=0;if(t<Ht){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(C,S,E)=>vi(C,a,l,!0)?1:Math.max(S,S*s,E,E*s),m=(C,S,E)=>vi(C,a,l,!0)?-1:Math.min(S,S*s,E,E*s),g=p(0,c,d),x=p(Jt,u,h),v=m(Mt,c,d),_=m(Mt+Jt,u,h);n=(g-v)/2,i=(x-_)/2,o=-(g+v)/2,r=-(x+_)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class en extends Fe{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(At(n[t])){const{key:l="value"}=this._parsing;o=c=>+$s(n[c],l)}let r,a;for(r=t,a=t+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Re(this.options.rotation-90)}_getCircumference(){return Re(this.options.circumference)}_getRotationExtents(){let t=Ht,s=-Ht;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),s=Math.max(s,o+r)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(gb(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=i1(d,u,l),x=(n.width-r)/h,v=(n.height-r)/p,_=Math.max(Math.min(x,v)/2,0),C=tf(this.options.radius,_),S=Math.max(C*l,0),E=(C-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*C,this.offsetY=g*C,i.total=this.calculateTotal(),this.outerRadius=C-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Ht)}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=o&&c.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(s,i);let v=this._getRotation(),_;for(_=0;_<s;++_)v+=this._circumference(_,o);for(_=s;_<s+n;++_){const C=this._circumference(_,o),S=t[_],E={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+C,circumference:C,outerRadius:m,innerRadius:p};x&&(E.options=g||this.resolveDataElementOptions(_,S.active?"active":i)),v+=C,this.updateElement(S,_,E,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Ht*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ii(s._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,o,r,a,l;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(xt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(en,"id","doughnut"),Q(en,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(en,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Q(en,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((l,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:i,pointStyle:n,borderRadius:r&&(a||d.borderRadius),index:c}}):[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class so extends Fe{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=cf(s,i,r);this._drawStart=a,this._drawCount=l,uf(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,i),h=r.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,x=Cn(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||i==="none",_=s+n,C=t.length;let S=s>0&&this.getParsed(s-1);for(let E=0;E<C;++E){const B=t[E],$=v?B:{};if(E<s||E>=_){$.skip=!0;continue}const j=this.getParsed(E),V=kt(j[p]),K=$[h]=r.getPixelForValue(j[h],E),R=$[p]=o||V?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[p],E);$.skip=isNaN(K)||isNaN(R)||V,$.stop=E>0&&Math.abs(j[h]-S[h])>x,g&&($.parsed=j,$.raw=c.data[E]),d&&($.options=u||this.resolveDataElementOptions(E,B.active?"active":i)),v||this.updateElement(B,E,$,i),S=j}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Q(so,"id","line"),Q(so,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(so,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ai extends Fe{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ii(s._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,s,n,i){return xf.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,n=t.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Mt;let p=h,m;const g=360/this.countVisibleElements();for(m=0;m<s;++m)p+=this._computeAngle(m,i,g);for(m=s;m<s+n;m++){const x=t[m];let v=p,_=p+this._computeAngle(m,i,g),C=r.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=_,o&&(l.animateScale&&(C=0),l.animateRotate&&(v=_=h));const S={x:u,y:d,innerRadius:0,outerRadius:C,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(m,x.active?"active":i)};this.updateElement(x,m,S,i)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(t,s,n){return this.chart.getDataVisibility(t)?Re(this.resolveDataElementOptions(t,s).angle||n):0}}Q(ai,"id","polarArea"),Q(ai,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class sa extends en{}Q(sa,"id","pie"),Q(sa,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class no extends Fe{getLabelAndValue(t){const s=this._cachedMeta.vScale,n=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(t,s,n,i){return xf.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,h=r?o.yCenter:u.y,p={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,p,i)}}}Q(no,"id","radar"),Q(no,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(no,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class io extends Fe{getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=cf(s,n,i);if(this._drawStart=o,this._drawCount=r,uf(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(s,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),p=r.axis,m=a.axis,{spanGaps:g,segment:x}=this.options,v=Cn(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||i==="none";let C=s>0&&this.getParsed(s-1);for(let S=s;S<s+n;++S){const E=t[S],B=this.getParsed(S),$=_?E:{},j=kt(B[m]),V=$[p]=r.getPixelForValue(B[p],S),K=$[m]=o||j?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,B,l):B[m],S);$.skip=isNaN(V)||isNaN(K)||j,$.stop=S>0&&Math.abs(B[p]-C[p])>v,x&&($.parsed=B,$.raw=c.data[S]),h&&($.options=d||this.resolveDataElementOptions(S,E.active?"active":i)),_||this.updateElement(E,S,$,i),C=B}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}Q(io,"id","scatter"),Q(io,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(io,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var o1=Object.freeze({__proto__:null,BarController:to,BubbleController:eo,DoughnutController:en,LineController:so,PieController:sa,PolarAreaController:ai,RadarController:no,ScatterController:io});function Gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ya{constructor(t){Q(this,"options");this.options=t||{}}static override(t){Object.assign(Ya.prototype,t)}init(){}formats(){return Gs()}parse(){return Gs()}format(){return Gs()}add(){return Gs()}diff(){return Gs()}startOf(){return Gs()}endOf(){return Gs()}}var r1={_date:Ya};function a1(e,t,s,n){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?Eb:hs;if(n){if(i._sharedOptions){const u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const h=c(o,t,s-d),p=c(o,t,s+d);return{lo:h.lo,hi:p.hi}}}}else{const u=c(o,t,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=e,p=h.slice(0,u.lo+1).reverse().findIndex(g=>!kt(g[d.axis]));u.lo-=Math.max(0,p);const m=h.slice(u.hi).findIndex(g=>!kt(g[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:o.length-1}}function tr(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:h}=a1(o[a],t,r,i);for(let p=d;p<=h;++p){const m=u[p];m.skip||n(m,c,p)}}}function l1(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Mr(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||tr(e,s,t,function(a,l,c){!i&&!ps(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function c1(e,t,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],n),{angle:d}=nf(r,{x:t.x,y:t.y});vi(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return tr(e,s,t,o),i}function u1(e,t,s,n,i,o){let r=[];const a=l1(s);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const m=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(m))&&!p)return;const x=a(t,m);x<l?(r=[{element:u,datasetIndex:d,index:h}],l=x):x===l&&r.push({element:u,datasetIndex:d,index:h})}return tr(e,s,t,c),r}function Er(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?c1(e,t,s,i):u1(e,t,s,n,i,o)}function Oc(e,t,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return tr(e,s,t,(l,c,u)=>{l[r]&&l[r](t[s],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:o}var d1={modes:{index(e,t,s,n){const i=Xs(t,e),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?Mr(e,i,o,n,r):Er(e,i,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,n){const i=Xs(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?Mr(e,i,o,n,r):Er(e,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,n){const i=Xs(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Mr(e,i,o,n,r)},nearest(e,t,s,n){const i=Xs(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Er(e,i,o,s.intersect,n,r)},x(e,t,s,n){const i=Xs(t,e);return Oc(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Xs(t,e);return Oc(e,i,"y",s.intersect,n)}}};const Ef=["left","top","right","bottom"];function Fn(e,t){return e.filter(s=>s.pos===t)}function Rc(e,t){return e.filter(s=>Ef.indexOf(s.pos)===-1&&s.box.axis===t)}function $n(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function f1(e){const t=[];let s,n,i,o,r,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function h1(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!Ef.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function p1(e,t){const s=h1(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return s}function m1(e){const t=f1(e),s=$n(t.filter(c=>c.box.fullSize),!0),n=$n(Fn(t,"left"),!0),i=$n(Fn(t,"right")),o=$n(Fn(t,"top"),!0),r=$n(Fn(t,"bottom")),a=Rc(t,"x"),l=Rc(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Fn(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function Dc(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function If(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function g1(e,t,s,n){const{pos:i,box:o}=s,r=e.maxPadding;if(!At(i)){s.size&&(e[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?o.height:o.width),s.size=d.size/d.count,e[i]+=s.size}o.getPadding&&If(r,o.getPadding());const a=Math.max(0,t.outerWidth-Dc(r,e,"left","right")),l=Math.max(0,t.outerHeight-Dc(r,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function b1(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function x1(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return n(e?["left","right"]:["top","bottom"])}function Wn(e,t,s,n){const i=[];let o,r,a,l,c,u;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,x1(a.horizontal,t));const{same:d,other:h}=g1(t,s,a,n);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Wn(i,t,s,n)||u}function Vi(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Nc(e,t,s,n){const i=s.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,h=c.size||l.height;xi(c.start)&&(r=c.start),l.fullSize?Vi(l,i.left,r,s.outerWidth-i.right-i.left,h):Vi(l,t.left+c.placed,r,d,h),c.start=r,c.placed+=d,r=l.bottom}else{const d=t.h*u,h=c.size||l.width;xi(c.start)&&(o=c.start),l.fullSize?Vi(l,o,i.top,h,s.outerHeight-i.bottom-i.top):Vi(l,o,t.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=r}var ce={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=de(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(s-i.height,0),a=m1(e.boxes),l=a.vertical,c=a.horizontal;Ot(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},i);If(h,de(n));const p=Object.assign({maxPadding:h,w:o,h:r,x:i.left,y:i.top},i),m=p1(l.concat(c),d);Wn(a.fullSize,p,d,m),Wn(l,p,d,m),Wn(c,p,d,m)&&Wn(l,p,d,m),b1(p),Nc(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,Nc(a.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ot(a.chartArea,g=>{const x=g.box;Object.assign(x,e.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Pf{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class v1 extends Pf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const oo="$chartjs",y1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fc=e=>e===null||e==="";function _1(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[oo]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Fc(i)){const o=yc(e,"width");o!==void 0&&(e.width=o)}if(Fc(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=yc(e,"height");o!==void 0&&(e.height=o)}return e}const Lf=wx?{passive:!0}:!1;function w1(e,t,s){e&&e.addEventListener(t,s,Lf)}function k1(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Lf)}function A1(e,t){const s=y1[e.type]||e.type,{x:n,y:i}=Xs(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Co(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function S1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Co(a.addedNodes,n),r=r&&!Co(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function T1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Co(a.removedNodes,n),r=r&&!Co(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const _i=new Map;let $c=0;function Of(){const e=window.devicePixelRatio;e!==$c&&($c=e,_i.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function C1(e,t){_i.size||window.addEventListener("resize",Of),_i.set(e,t)}function M1(e){_i.delete(e),_i.size||window.removeEventListener("resize",Of)}function E1(e,t,s){const n=e.canvas,i=n&&Ga(n);if(!i)return;const o=lf((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),C1(e,o),r}function Ir(e,t,s){s&&s.disconnect(),t==="resize"&&M1(e)}function I1(e,t,s){const n=e.canvas,i=lf(o=>{e.ctx!==null&&s(A1(o,e))},e);return w1(n,t,i),i}class P1 extends Pf{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(_1(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[oo])return!1;const n=s[oo].initial;["height","width"].forEach(o=>{const r=n[o];kt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[oo],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),r={attach:S1,detach:T1,resize:E1}[s]||I1;i[s]=r(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:Ir,detach:Ir,resize:Ir}[s]||k1)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return _x(t,s,n,i)}isAttached(t){const s=t&&Ga(t);return!!(s&&s.isConnected)}}function L1(e){return!qa()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?v1:P1}var Yi;let ys=(Yi=class{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Cn(this.x)&&Cn(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},Q(Yi,"defaults",{}),Q(Yi,"defaultRoutes"),Yi);function O1(e,t){const s=e.options.ticks,n=R1(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?N1(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return F1(t,c,o,r/i),c;const u=D1(o,t,i);if(r>0){let d,h;const p=r>1?Math.round((l-a)/(r-1)):null;for(zi(t,c,u,kt(p)?0:a-p,a),d=0,h=r-1;d<h;d++)zi(t,c,u,o[d],o[d+1]);return zi(t,c,u,l,kt(p)?t.length:l+p),c}return zi(t,c,u),c}function R1(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function D1(e,t,s){const n=$1(e),i=t.length/s;if(!n)return Math.max(i,1);const o=Ab(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function N1(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function F1(e,t,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=s[i*n])}function zi(e,t,s,n,i){const o=xt(n,0),r=Math.min(xt(i,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=o;u<0;)a++,u=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===u&&(t.push(e[c]),a++,u=Math.round(o+a*s))}function $1(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const B1=e=>e==="left"?"right":e==="right"?"left":e,Bc=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,jc=(e,t)=>Math.min(t||e,e);function Vc(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function j1(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>r+a)))return l}function V1(e,t){Ot(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Bn(e){return e.drawTicks?e.tickLength:0}function zc(e,t){if(!e.display)return 0;const s=ee(e.font,t),n=de(e.padding);return(Ut(e.text)?e.text.length:1)*s.lineHeight+n.height}function z1(e,t){return js(e,{scale:t,type:"scale"})}function H1(e,t,s){return js(e,{tick:s,index:t,type:"tick"})}function U1(e,t,s){let n=ja(e);return(s&&t!=="right"||!s&&t==="right")&&(n=B1(n)),n}function W1(e,t,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,h,p,m;const g=r-i,x=a-o;if(e.isHorizontal()){if(p=oe(n,o,a),At(s)){const v=Object.keys(s)[0],_=s[v];m=u[v].getPixelForValue(_)+g-t}else s==="center"?m=(c.bottom+c.top)/2+g-t:m=Bc(e,s,t);h=a-o}else{if(At(s)){const v=Object.keys(s)[0],_=s[v];p=u[v].getPixelForValue(_)-x+t}else s==="center"?p=(c.left+c.right)/2-x+t:p=Bc(e,s,t);m=oe(n,r,i),d=s==="left"?-Jt:Jt}return{titleX:p,titleY:m,maxWidth:h,rotation:d}}class dn extends ys{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=Se(t,Number.POSITIVE_INFINITY),s=Se(s,Number.NEGATIVE_INFINITY),n=Se(n,Number.POSITIVE_INFINITY),i=Se(i,Number.NEGATIVE_INFINITY),{min:Se(t,n),max:Se(s,i),minDefined:Yt(t),maxDefined:Yt(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:Se(s,Se(n,s)),max:Se(n,Se(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zb(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Vc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=O1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),jt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=jt(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=jc(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=ne(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),d+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Bn(t.grid)-s.padding-zc(t.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),r=$a(Math.min(Math.asin(ne((u.highest.height+6)/a,-1,1)),Math.asin(ne(l/c,-1,1))-Math.asin(ne(h/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=zc(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=Bn(o)+l):(t.height=this.maxHeight,t.width=Bn(o)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),p=n.padding*2,m=Re(this.labelRotation),g=Math.cos(m),x=Math.sin(m);if(a){const v=n.mirror?0:x*d.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=n.mirror?0:g*d.width+x*h.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,u,x,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*t.width,p=n*s.height):(h=n*t.height,p=i*s.width):o==="start"?p=s.width:o==="end"?h=t.width:o!=="inner"&&(h=t.width/2,p=s.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=s.height/2,d=t.height/2;o==="start"?(u=0,d=t.height):o==="end"&&(u=s.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)kt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Vc(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/jc(s,n));let c=0,u=0,d,h,p,m,g,x,v,_,C,S,E;for(d=0;d<s;d+=l){if(m=t[d].label,g=this._resolveTickFontOptions(d),i.font=x=g.string,v=o[x]=o[x]||{data:{},gc:[]},_=g.lineHeight,C=S=0,!kt(m)&&!Ut(m))C=So(i,v.data,v.gc,C,m),S=_;else if(Ut(m))for(h=0,p=m.length;h<p;++h)E=m[h],!kt(E)&&!Ut(E)&&(C=So(i,v.data,v.gc,C,E),S+=_);r.push(C),a.push(S),c=Math.max(C,c),u=Math.max(S,u)}V1(o,s);const B=r.indexOf(c),$=a.indexOf(u),j=V=>({width:r[V]||0,height:a[V]||0});return{first:j(0),last:j(s-1),widest:j(B),highest:j($),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return Mb(this._alignToPixels?qs(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=H1(this.getContext(),t,n))}return this.$context||(this.$context=z1(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Re(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Bn(o),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,x=g/2,v=function(at){return qs(n,at,g)};let _,C,S,E,B,$,j,V,K,R,w,Z;if(r==="top")_=v(this.bottom),$=this.bottom-h,V=_-x,R=v(t.top)+x,Z=t.bottom;else if(r==="bottom")_=v(this.top),R=t.top,Z=v(t.bottom)-x,$=_+x,V=this.top+h;else if(r==="left")_=v(this.right),B=this.right-h,j=_-x,K=v(t.left)+x,w=t.right;else if(r==="right")_=v(this.left),K=t.left,w=v(t.right)-x,B=_+x,j=this.left+h;else if(s==="x"){if(r==="center")_=v((t.top+t.bottom)/2+.5);else if(At(r)){const at=Object.keys(r)[0],O=r[at];_=v(this.chart.scales[at].getPixelForValue(O))}R=t.top,Z=t.bottom,$=_+x,V=$+h}else if(s==="y"){if(r==="center")_=v((t.left+t.right)/2);else if(At(r)){const at=Object.keys(r)[0],O=r[at];_=v(this.chart.scales[at].getPixelForValue(O))}B=_-x,j=B-h,K=t.left,w=t.right}const q=xt(i.ticks.maxTicksLimit,d),dt=Math.max(1,Math.ceil(d/q));for(C=0;C<d;C+=dt){const at=this.getContext(C),O=o.setContext(at),nt=a.setContext(at),gt=O.lineWidth,qt=O.color,Y=nt.dash||[],I=nt.dashOffset,ht=O.tickWidth,lt=O.tickColor,ut=O.tickBorderDash||[],H=O.tickBorderDashOffset;S=j1(this,C,l),S!==void 0&&(E=qs(n,S,gt),c?B=j=K=w=E:$=V=R=Z=E,p.push({tx1:B,ty1:$,tx2:j,ty2:V,x1:K,y1:R,x2:w,y2:Z,width:gt,color:qt,borderDash:Y,borderDashOffset:I,tickWidth:ht,tickColor:lt,tickBorderDash:ut,tickBorderDashOffset:H}))}return this._ticksLength=d,this._borderValue=_,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Bn(n.grid),p=h+u,m=d?-u:p,g=-Re(this.labelRotation),x=[];let v,_,C,S,E,B,$,j,V,K,R,w,Z="middle";if(i==="top")B=this.bottom-m,$=this._getXAxisLabelAlignment();else if(i==="bottom")B=this.top+m,$=this._getXAxisLabelAlignment();else if(i==="left"){const dt=this._getYAxisLabelAlignment(h);$=dt.textAlign,E=dt.x}else if(i==="right"){const dt=this._getYAxisLabelAlignment(h);$=dt.textAlign,E=dt.x}else if(s==="x"){if(i==="center")B=(t.top+t.bottom)/2+p;else if(At(i)){const dt=Object.keys(i)[0],at=i[dt];B=this.chart.scales[dt].getPixelForValue(at)+p}$=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")E=(t.left+t.right)/2-p;else if(At(i)){const dt=Object.keys(i)[0],at=i[dt];E=this.chart.scales[dt].getPixelForValue(at)}$=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?Z="top":l==="end"&&(Z="bottom"));const q=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){C=a[v],S=C.label;const dt=o.setContext(this.getContext(v));j=this.getPixelForTick(v)+o.labelOffset,V=this._resolveTickFontOptions(v),K=V.lineHeight,R=Ut(S)?S.length:1;const at=R/2,O=dt.color,nt=dt.textStrokeColor,gt=dt.textStrokeWidth;let qt=$;r?(E=j,$==="inner"&&(v===_-1?qt=this.options.reverse?"left":"right":v===0?qt=this.options.reverse?"right":"left":qt="center"),i==="top"?c==="near"||g!==0?w=-R*K+K/2:c==="center"?w=-q.highest.height/2-at*K+K:w=-q.highest.height+K/2:c==="near"||g!==0?w=K/2:c==="center"?w=q.highest.height/2-at*K:w=q.highest.height-R*K,d&&(w*=-1),g!==0&&!dt.showLabelBackdrop&&(E+=K/2*Math.sin(g))):(B=j,w=(1-R)*K/2);let Y;if(dt.showLabelBackdrop){const I=de(dt.backdropPadding),ht=q.heights[v],lt=q.widths[v];let ut=w-I.top,H=0-I.left;switch(Z){case"middle":ut-=ht/2;break;case"bottom":ut-=ht;break}switch($){case"center":H-=lt/2;break;case"right":H-=lt;break;case"inner":v===_-1?H-=lt:v>0&&(H-=lt/2);break}Y={left:H,top:ut,width:lt+I.width,height:ht+I.height,color:dt.backdropColor}}x.push({label:S,font:V,textOffset:w,options:{rotation:g,color:O,strokeColor:nt,strokeWidth:gt,textAlign:qt,textBaseline:Z,translation:[E,B],backdrop:Y}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Re(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,u;return s==="left"?i?(u=this.right+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=qs(t,this.left,r)-r/2,u=qs(t,this.right,a)+a/2,d=h=l):(d=qs(t,this.top,r)-r/2,h=qs(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Jo(n,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;cn(n,c,0,u,l,a)}i&&Qo(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=ee(n.font),r=de(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||At(s)?(l+=r.bottom,Ut(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=W1(this,l,s,a);cn(t,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:h,textAlign:U1(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=xt(t.grid&&t.grid.z,-1),i=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==dn.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return ee(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hi{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;Y1(s)&&(n=this.register(s));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,q1(t,r,n),this.override&&Wt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Wt[i]&&(delete Wt[i][n],this.override&&delete ln[n])}}function q1(e,t,s){const n=bi(Object.create(null),[s?Wt.get(s):{},Wt.get(t),e.defaults]);Wt.set(t,n),e.defaultRoutes&&G1(t,e.defaultRoutes),e.descriptors&&Wt.describe(t,e.descriptors)}function G1(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),r=t[s].split("."),a=r.pop(),l=r.join(".");Wt.route(o,i,l,a)})}function Y1(e){return"id"in e&&"defaults"in e}class K1{constructor(){this.controllers=new Hi(Fe,"datasets",!0),this.elements=new Hi(ys,"elements"),this.plugins=new Hi(Object,"plugins"),this.scales=new Hi(dn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):Ot(i,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,s,n){const i=Fa(t);jt(n["before"+i],[],n),s[t](n),jt(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Ye=new K1;class X1{constructor(){this._init=void 0}notify(t,s,n,i){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),r}_notify(t,s,n,i){i=i||{};for(const o of t){const r=o.plugin,a=r[n],l=[s,i,o.options];if(jt(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=xt(n.options&&n.options.plugins,{}),o=J1(n);return i===!1&&!s?[]:Z1(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function J1(e){const t={},s=[],n=Object.keys(Ye.plugins.items);for(let o=0;o<n.length;o++)s.push(Ye.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function Q1(e,t){return!t&&e===!1?null:e===!0?{}:e}function Z1(e,{plugins:t,localIds:s},n,i){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=Q1(n[l],i);c!==null&&o.push({plugin:a,options:tv(e.config,{plugin:a,local:s[l]},c,r)})}return o}function tv(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function na(e,t){const s=Wt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function ev(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function sv(e,t){return e===t?"_index_":"_value_"}function Hc(e){if(e==="x"||e==="y"||e==="r")return e}function nv(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ia(e,...t){if(Hc(e))return e;for(const s of t){const n=s.axis||nv(s.position)||e.length>1&&Hc(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Uc(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function iv(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Uc(e,"x",s[0])||Uc(e,"y",s[0])}return{}}function ov(e,t){const s=ln[e.type]||{scales:{}},n=t.scales||{},i=na(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!At(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=ia(r,a,iv(r,e),Wt.scales[a.type]),c=sv(l,i),u=s.scales||{};o[r]=ni(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||na(a,t),u=(ln[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=ev(d,l),p=r[h+"AxisID"]||h;o[p]=o[p]||Object.create(null),ni(o[p],[{axis:h},n[p],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];ni(a,[Wt.scales[a.type],Wt.scale])}),o}function Rf(e){const t=e.options||(e.options={});t.plugins=xt(t.plugins,{}),t.scales=ov(e,t)}function Df(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function rv(e){return e=e||{},e.data=Df(e.data),Rf(e),e}const Wc=new Map,Nf=new Set;function Ui(e,t){let s=Wc.get(e);return s||(s=t(),Wc.set(e,s),Nf.add(s)),s}const jn=(e,t,s)=>{const n=$s(t,s);n!==void 0&&e.add(n)};class av{constructor(t){this._config=rv(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Df(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Rf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ui(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Ui(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Ui(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Ui(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(d=>jn(l,t,d))),u.forEach(d=>jn(l,i,d)),u.forEach(d=>jn(l,ln[o]||{},d)),u.forEach(d=>jn(l,Wt,d)),u.forEach(d=>jn(l,ta,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Nf.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,ln[s]||{},Wt.datasets[s]||{},{type:s},Wt,ta]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=qc(this._resolverCache,t,i);let l=r;if(cv(r,s)){o.$shared=!1,n=Bs(n)?n():n;const c=this.createResolver(t,n,a);l=Mn(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(t,s,n=[""],i){const{resolver:o}=qc(this._resolverCache,t,n);return At(s)?Mn(o,s,void 0,i):o}}function qc(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Ha(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const lv=e=>At(e)&&Object.getOwnPropertyNames(e).some(t=>Bs(e[t]));function cv(e,t){const{isScriptable:s,isIndexable:n}=pf(e);for(const i of t){const o=s(i),r=n(i),a=(r||o)&&e[i];if(o&&(Bs(a)||lv(a))||r&&Ut(a))return!0}return!1}var uv="4.5.1";const dv=["top","bottom","left","right","chartArea"];function Gc(e,t){return e==="top"||e==="bottom"||dv.indexOf(e)===-1&&t==="x"}function Yc(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Kc(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),jt(s&&s.onComplete,[e],t)}function fv(e){const t=e.chart,s=t.options.animation;jt(s&&s.onProgress,[e],t)}function Ff(e){return qa()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ro={},Xc=e=>{const t=Ff(e);return Object.values(ro).filter(s=>s.canvas===t).pop()};function hv(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const r=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=r)}}}function pv(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Pe{static register(...t){Ye.add(...t),Jc()}static unregister(...t){Ye.remove(...t),Jc()}constructor(t,s){const n=this.config=new av(s),i=Ff(t),o=Xc(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||L1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=mb(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new X1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Lb(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],ro[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ns.listen(this,"complete",Kc),ns.listen(this,"progress",fv),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return kt(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ye}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gc(this.canvas,this.ctx),this}stop(){return ns.stop(this),this}resize(t,s){ns.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,vc(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),jt(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ot(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=ia(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ot(o,r=>{const a=r.options,l=a.id,c=ia(l,a),u=xt(a.type,r.dtype);(a.position===void 0||Gc(a.position,c)!==Gc(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=Ye.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,t)}),Ot(i,(r,a)=>{r||delete n[a]}),Ot(n,r=>{ce.configure(this,r,r.options),ce.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Yc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||na(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=Ye.getController(a),{datasetElementType:c,dataElementType:u}=Wt.datasets[a];Object.assign(l,{dataElementType:Ye.getElement(u),datasetElementType:c&&Ye.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Ot(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||Ot(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Yc("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ot(this.scales,t=>{ce.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!ac(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;hv(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!ac(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ce.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Ot(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Bs(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ns.has(this)?this.attached&&!ns.running(this)&&ns.start(this):(this.draw(),Kc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=Sf(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Jo(s,i),t.controller.draw(),i&&Qo(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return ps(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=d1.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=js(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);xi(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),ns.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gc(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ro[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Ot(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){Ot(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Ot(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!wo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(s,t),a=n?t:o(t,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(t,i,n,r),l=_b(t),c=pv(t,this._lastEvent,n,l);n&&(this._lastEvent=null,jt(o.onHover,[t,a,this],this),l&&jt(o.onClick,[t,a,this],this));const u=!wo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}Q(Pe,"defaults",Wt),Q(Pe,"instances",ro),Q(Pe,"overrides",ln),Q(Pe,"registry",Ye),Q(Pe,"version",uv),Q(Pe,"getChart",Xc);function Jc(){return Ot(Pe.instances,e=>e._plugins.invalidate())}function mv(e,t,s){const{startAngle:n,x:i,y:o,outerRadius:r,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/r,re(n-s));if(e.beginPath(),e.arc(i,o,r-c/2,n+d/2,s-d/2),a>0){const h=Math.min(c/a,re(n-s));e.arc(i,o,a+c/2,s-h/2,n+h/2,!0)}else{const h=Math.min(c/2,r*re(n-s));if(u==="round")e.arc(i,o,h,s-Mt/2,n+Mt/2,!0);else if(u==="bevel"){const p=2*h*h,m=-p*Math.cos(s+Mt/2)+i,g=-p*Math.sin(s+Mt/2)+o,x=p*Math.cos(n+Mt/2)+i,v=p*Math.sin(n+Mt/2)+o;e.lineTo(m,g),e.lineTo(x,v)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function gv(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,r,a,n-c,s+c),l>i?(c=i/l,e.arc(o,r,l,s+c,n-c,!0)):e.arc(o,r,i,s+Jt,n-Jt),e.closePath(),e.clip()}function bv(e){return za(e,["outerStart","outerEnd","innerStart","innerEnd"])}function xv(e,t,s,n){const i=bv(e.options.borderRadius),o=(s-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return ne(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ne(i.innerStart,0,r),innerEnd:ne(i.innerEnd,0,r)}}function pn(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Mo(e,t,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+s-c,0),h=u>0?u+n+s+c:0;let p=0;const m=i-l;if(n){const dt=u>0?u-n:0,at=d>0?d-n:0,O=(dt+at)/2,nt=O!==0?m*O/(O+n):m;p=(m-nt)/2}const g=Math.max(.001,m*d-s/Mt)/d,x=(m-g)/2,v=l+x+p,_=i-x-p,{outerStart:C,outerEnd:S,innerStart:E,innerEnd:B}=xv(t,h,d,_-v),$=d-C,j=d-S,V=v+C/$,K=_-S/j,R=h+E,w=h+B,Z=v+E/R,q=_-B/w;if(e.beginPath(),o){const dt=(V+K)/2;if(e.arc(r,a,d,V,dt),e.arc(r,a,d,dt,K),S>0){const gt=pn(j,K,r,a);e.arc(gt.x,gt.y,S,K,_+Jt)}const at=pn(w,_,r,a);if(e.lineTo(at.x,at.y),B>0){const gt=pn(w,q,r,a);e.arc(gt.x,gt.y,B,_+Jt,q+Math.PI)}const O=(_-B/h+(v+E/h))/2;if(e.arc(r,a,h,_-B/h,O,!0),e.arc(r,a,h,O,v+E/h,!0),E>0){const gt=pn(R,Z,r,a);e.arc(gt.x,gt.y,E,Z+Math.PI,v-Jt)}const nt=pn($,v,r,a);if(e.lineTo(nt.x,nt.y),C>0){const gt=pn($,V,r,a);e.arc(gt.x,gt.y,C,v-Jt,V)}}else{e.moveTo(r,a);const dt=Math.cos(V)*d+r,at=Math.sin(V)*d+a;e.lineTo(dt,at);const O=Math.cos(K)*d+r,nt=Math.sin(K)*d+a;e.lineTo(O,nt)}e.closePath()}function vv(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){Mo(e,t,s,n,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%Ht||Ht))}return Mo(e,t,s,n,l,i),e.fill(),l}function yv(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,m?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(o){Mo(e,t,s,n,g,i);for(let x=0;x<o;++x)e.stroke();isNaN(a)||(g=r+(a%Ht||Ht))}m&&gv(e,t,g),l.selfJoin&&g-r>=Mt&&p===0&&u!=="miter"&&mv(e,t,g),o||(Mo(e,t,s,n,g,i),e.stroke())}class qn extends ys{constructor(s){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=nf(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=xt(h,c-l),g=vi(r,l,c)&&l!==c,x=m>=Ht||g,v=fs(a,u+p,d+p);return x&&v}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,d=(o+r)/2,h=(a+l+u+c)/2;return{x:n+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ht?Math.floor(i/Ht):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(Mt,i||0)),u=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,vv(s,this,u,r,a),yv(s,this,u,r,a),s.restore()}}Q(qn,"id","arc"),Q(qn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Q(qn,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(qn,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function $f(e,t,s=t){e.lineCap=xt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(xt(s.borderDash,t.borderDash)),e.lineDashOffset=xt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=xt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=xt(s.borderWidth,t.borderWidth),e.strokeStyle=xt(s.borderColor,t.borderColor)}function _v(e,t,s){e.lineTo(s.x,s.y)}function wv(e){return e.stepped?Ub:e.tension||e.cubicInterpolationMode==="monotone"?Wb:_v}function Bf(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=t,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function kv(e,t,s,n){const{points:i,options:o}=t,{count:r,start:a,loop:l,ilen:c}=Bf(i,s,n),u=wv(o);let{move:d=!0,reverse:h}=n||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(h?c-p:p))%r],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):u(e,g,m,h,o.stepped),g=m);return l&&(m=i[(a+(h?c:0))%r],u(e,g,m,h,o.stepped)),!!l}function Av(e,t,s,n){const i=t.points,{count:o,start:r,ilen:a}=Bf(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,p,m,g,x,v;const _=S=>(r+(c?a-S:S))%o,C=()=>{g!==x&&(e.lineTo(u,x),e.lineTo(u,g),e.lineTo(u,v))};for(l&&(p=i[_(0)],e.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[_(h)],p.skip)continue;const S=p.x,E=p.y,B=S|0;B===m?(E<g?g=E:E>x&&(x=E),u=(d*u+S)/++d):(C(),e.lineTo(S,E),m=B,d=0,g=x=E),v=E}C()}function oa(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?Av:kv}function Sv(e){return e.stepped?kx:e.tension||e.cubicInterpolationMode==="monotone"?Ax:Js}function Tv(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),$f(e,t.options),e.stroke(i)}function Cv(e,t,s,n){const{segments:i,options:o}=t,r=oa(t);for(const a of i)$f(e,o,a.style),e.beginPath(),r(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const Mv=typeof Path2D=="function";function Ev(e,t,s,n){Mv&&!t.options.segment?Tv(e,t,s,n):Cv(e,t,s,n)}class Ls extends ys{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;mx(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ix(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],o=this.points,r=Af(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=Sv(n);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:h}=r[c],p=o[d],m=o[h];if(p===m){a.push(p);continue}const g=Math.abs((i-p[s])/(m[s]-p[s])),x=l(p,m,g,n.stepped);x[s]=t[s],a.push(x)}return a.length===1?a[0]:a}pathSegment(t,s,n){return oa(this)(t,this,s,n)}path(t,s,n){const i=this.segments,o=oa(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(t,this,a,{start:s,end:s+n-1});return!!r}draw(t,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),Ev(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(Ls,"id","line"),Q(Ls,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(Ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(Ls,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Qc(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class ao extends ys{constructor(s){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return Qc(this,s,"x",n)}inYRange(s,n){return Qc(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!ps(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,ea(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Q(ao,"id","point"),Q(ao,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(ao,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jf(e,t){const{x:s,y:n,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-d,u=n+d):(d=o/2,a=s-d,l=s+d,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function Os(e,t,s,n){return e?0:ne(t,s,n)}function Iv(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=hf(n);return{t:Os(i.top,o.top,0,s),r:Os(i.right,o.right,0,t),b:Os(i.bottom,o.bottom,0,s),l:Os(i.left,o.left,0,t)}}function Pv(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=rn(i),r=Math.min(t,s),a=e.borderSkipped,l=n||At(i);return{topLeft:Os(!l||a.top||a.left,o.topLeft,0,r),topRight:Os(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Os(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Os(!l||a.bottom||a.right,o.bottomRight,0,r)}}function Lv(e){const t=jf(e),s=t.right-t.left,n=t.bottom-t.top,i=Iv(e,s/2,n/2),o=Pv(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Pr(e,t,s,n){const i=t===null,o=s===null,a=e&&!(i&&o)&&jf(e,n);return a&&(i||fs(t,a.left,a.right))&&(o||fs(s,a.top,a.bottom))}function Ov(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Rv(e,t){e.rect(t.x,t.y,t.w,t.h)}function Lr(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class lo extends ys{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=Lv(this),a=Ov(r.radius)?yi:Rv;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Lr(r,s,o)),t.clip(),a(t,Lr(o,-s,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Lr(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Pr(this,t,s,n)}inXRange(t,s){return Pr(this,t,null,s)}inYRange(t,s){return Pr(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Q(lo,"id","bar"),Q(lo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Dv=Object.freeze({__proto__:null,ArcElement:qn,BarElement:lo,LineElement:Ls,PointElement:ao});const ra=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Zc=ra.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Vf(e){return ra[e%ra.length]}function zf(e){return Zc[e%Zc.length]}function Nv(e,t){return e.borderColor=Vf(t),e.backgroundColor=zf(t),++t}function Fv(e,t){return e.backgroundColor=e.data.map(()=>Vf(t++)),t}function $v(e,t){return e.backgroundColor=e.data.map(()=>zf(t++)),t}function Bv(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof en?t=Fv(s,t):i instanceof ai?t=$v(s,t):i&&(t=Nv(s,t))}}function tu(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function jv(e){return e&&(e.borderColor||e.backgroundColor)}function Vv(){return Wt.borderColor!=="rgba(0,0,0,0.1)"||Wt.backgroundColor!=="rgba(0,0,0,0.1)"}var zv={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i,r=tu(n)||jv(i)||o&&tu(o)||Vv();if(!s.forceOverride&&r)return;const a=Bv(e);n.forEach(a)}};function Hv(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const r=[],a=(s-2)/(o-2);let l=0;const c=t+s-1;let u=t,d,h,p,m,g;for(r[l++]=e[u],d=0;d<o-2;d++){let x=0,v=0,_;const C=Math.floor((d+1)*a)+1+t,S=Math.min(Math.floor((d+2)*a)+1,s)+t,E=S-C;for(_=C;_<S;_++)x+=e[_].x,v+=e[_].y;x/=E,v/=E;const B=Math.floor(d*a)+1+t,$=Math.min(Math.floor((d+1)*a)+1,s)+t,{x:j,y:V}=e[u];for(p=m=-1,_=B;_<$;_++)m=.5*Math.abs((j-x)*(e[_].y-V)-(j-e[_].x)*(v-V)),m>p&&(p=m,h=e[_],g=_);r[l++]=h,u=g}return r[l++]=e[c],r}function Uv(e,t,s,n){let i=0,o=0,r,a,l,c,u,d,h,p,m,g;const x=[],v=t+s-1,_=e[t].x,S=e[v].x-_;for(r=t;r<t+s;++r){a=e[r],l=(a.x-_)/S*n,c=a.y;const E=l|0;if(E===u)c<m?(m=c,d=r):c>g&&(g=c,h=r),i=(o*i+a.x)/++o;else{const B=r-1;if(!kt(d)&&!kt(h)){const $=Math.min(d,h),j=Math.max(d,h);$!==p&&$!==B&&x.push({...e[$],x:i}),j!==p&&j!==B&&x.push({...e[j],x:i})}r>0&&B!==p&&x.push(e[B]),x.push(a),u=E,o=0,m=g=c,d=h=p=r}}return x}function Hf(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function eu(e){e.data.datasets.forEach(t=>{Hf(t)})}function Wv(e,t){const s=t.length;let n=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=ne(hs(t,o.axis,r).lo,0,s-1)),c?i=ne(hs(t,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var qv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){eu(e);return}const n=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=e.getDatasetMeta(o),c=r||i.data;if(Un([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=Wv(l,c);const p=s.threshold||4*n;if(h<=p){Hf(i);return}kt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(s.algorithm){case"lttb":m=Hv(c,d,h,n,s);break;case"min-max":m=Uv(c,d,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=m})},destroy(e){eu(e)}};function Gv(e,t,s){const n=e.segments,i=e.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=er(l,c,i);const u=aa(s,i[l],i[c],a.loop);if(!t.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=Af(t,u);for(const h of d){const p=aa(s,o[h.start],o[h.end],h.loop),m=kf(a,i,p);for(const g of m)r.push({source:g,target:h,start:{[s]:su(u,p,"start",Math.max)},end:{[s]:su(u,p,"end",Math.min)}})}}return r}function aa(e,t,s,n){if(n)return;let i=t[e],o=s[e];return e==="angle"&&(i=re(i),o=re(o)),{property:e,start:i,end:o}}function Yv(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=er(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function er(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function su(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Uf(e,t){let s=[],n=!1;return Ut(e)?(n=!0,s=e):s=Yv(e,t),s.length?new Ls({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function nu(e){return e&&e.fill!==!1}function Kv(e,t,s){let i=e[t].fill;const o=[t];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Yt(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function Xv(e,t,s){const n=ty(e);if(At(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Yt(i)&&Math.floor(i)===i?Jv(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Jv(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function Qv(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:At(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function Zv(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:At(e)?n=e.value:n=t.getBaseValue(),n}function ty(e){const t=e.options,s=t.fill;let n=xt(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function ey(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,r=n.points,a=sy(t,s);a.push(Uf({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)ny(i,r[u],a)}return new Ls({points:i,options:{}})}function sy(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||s.unshift(o.dataset)}return s}function ny(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=iy(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function iy(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][s],h=r[u.end][s];if(fs(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:n}}class Wf{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:Ht},t.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,o=t.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function oy(e){const{chart:t,fill:s,line:n}=e;if(Yt(s))return ry(t,s);if(s==="stack")return ey(e);if(s==="shape")return!0;const i=ay(e);return i instanceof Wf?i:Uf(i,n)}function ry(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function ay(e){return(e.scale||{}).getPointPositionForValue?cy(e):ly(e)}function ly(e){const{scale:t={},fill:s}=e,n=Qv(s,t);if(Yt(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function cy(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=Zv(s,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new Wf({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,r));return a}function Or(e,t,s){const n=oy(t),{chart:i,index:o,line:r,scale:a,axis:l}=t,c=r.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:p=d}=u||{},m=i.getDatasetMeta(o),g=Sf(i,m);n&&r.points.length&&(Jo(e,s),uy(e,{line:r,target:n,above:h,below:p,area:s,scale:a,axis:l,clip:g}),Qo(e))}function uy(e,t){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save();let u=o;o!==i&&(c==="x"?(iu(e,n,r.top),Rr(e,{line:s,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),iu(e,n,r.bottom)):c==="y"&&(ou(e,n,r.left),Rr(e,{line:s,target:n,color:o,scale:a,property:c,clip:l}),e.restore(),e.save(),ou(e,n,r.right),u=i)),Rr(e,{line:s,target:n,color:u,scale:a,property:c,clip:l}),e.restore()}function iu(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],d=i[er(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function ou(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],d=i[er(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Rr(e,t){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=t,l=Gv(s,n,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:p=o}={}}=c,m=n!==!0;e.save(),e.fillStyle=p,dy(e,r,a,m&&aa(i,d,h)),e.beginPath();const g=!!s.pathSegment(e,c);let x;if(m){g?e.closePath():ru(e,n,h,i);const v=!!n.pathSegment(e,u,{move:g,reverse:!0});x=g&&v,x||ru(e,n,d,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function dy(e,t,s,n){const i=t.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=r,c=i.top,u=a,d=i.bottom):(l=i.left,c=r,u=i.right,d=a),e.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),d=Math.min(d,s.bottom)),e.rect(l,c,u-l,d-c),e.clip()}}function ru(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var fy={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ls&&(l={visible:e.isDatasetVisible(r),index:r,fill:Xv(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=Kv(i,r,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&Or(e.ctx,a,o))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;nu(o)&&Or(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!nu(n)||s.drawTime!=="beforeDatasetDraw"||Or(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const au=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},hy=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class lu extends ys{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=jt(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=ee(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=au(n,o);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=t;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((m,g)=>{const x=n+s/2+o.measureText(m.text).width;(g===0||c[c.length-1]+x+2*a>r)&&(d+=u,c[c.length-(g>0?0:1)]=0,p+=u,h++),l[g]={left:0,top:p,row:h,width:x,height:i},c[c.length-1]+=x+a}),d}_fitCols(t,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-t;let d=a,h=0,p=0,m=0,g=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:_,itemHeight:C}=py(n,s,o,x,i);v>0&&p+C+2*a>u&&(d+=h+a,c.push({width:h,height:p}),m+=h+a,g++,h=p=0),l[v]={left:m,top:p,col:g,width:_,height:C},h=Math.max(h,_),p+=C+a}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=wn(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=oe(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=oe(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=oe(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=oe(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Jo(t,this),this._draw(),Qo(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,a=Wt.color,l=wn(t.rtl,this.left,this.width),c=ee(r.font),{padding:u}=r,d=c.size,h=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:x}=au(r,d),v=function(B,$,j){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const V=xt(j.lineWidth,1);if(i.fillStyle=xt(j.fillStyle,a),i.lineCap=xt(j.lineCap,"butt"),i.lineDashOffset=xt(j.lineDashOffset,0),i.lineJoin=xt(j.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=xt(j.strokeStyle,a),i.setLineDash(xt(j.lineDash,[])),r.usePointStyle){const K={radius:g*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:V},R=l.xPlus(B,m/2),w=$+h;ff(i,K,R,w,r.pointStyleWidth&&m)}else{const K=$+Math.max((d-g)/2,0),R=l.leftForLtr(B,m),w=rn(j.borderRadius);i.beginPath(),Object.values(w).some(Z=>Z!==0)?yi(i,{x:R,y:K,w:m,h:g,radius:w}):i.rect(R,K,m,g),i.fill(),V!==0&&i.stroke()}i.restore()},_=function(B,$,j){cn(i,j.text,B,$+x/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?p={x:oe(o,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:p={x:this.left+u,y:oe(o,this.top+S+u,this.bottom-s[0].height),line:0},yf(this.ctx,t.textDirection);const E=x+u;this.legendItems.forEach((B,$)=>{i.strokeStyle=B.fontColor,i.fillStyle=B.fontColor;const j=i.measureText(B.text).width,V=l.textAlign(B.textAlign||(B.textAlign=r.textAlign)),K=m+h+j;let R=p.x,w=p.y;l.setWidth(this.width),C?$>0&&R+K+u>this.right&&(w=p.y+=E,p.line++,R=p.x=oe(o,this.left+u,this.right-n[p.line])):$>0&&w+E>this.bottom&&(R=p.x=R+s[p.line].width+u,p.line++,w=p.y=oe(o,this.top+S+u,this.bottom-s[p.line].height));const Z=l.x(R);if(v(Z,w,B),R=Ob(V,R+m+h,C?R+K:this.right,t.rtl),_(l.x(R),w,B),C)p.x+=K+u;else if(typeof B.text!="string"){const q=c.lineHeight;p.y+=qf(B,q)+u}else p.y+=E}),_f(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=ee(s.font),i=de(s.padding);if(!s.display)return;const o=wn(t.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=oe(t.align,d,this.right-h);else{const m=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);u=c+oe(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=oe(a,d,d+h);r.textAlign=o.textAlign(ja(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,cn(r,s.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,s=ee(t.font),n=de(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(fs(t,this.left,this.right)&&fs(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],fs(t,i.left,i.left+i.width)&&fs(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!by(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=hy(i,n);i&&!o&&jt(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&jt(s.onHover,[t,n,this],this)}else n&&jt(s.onClick,[t,n,this],this)}}function py(e,t,s,n,i){const o=my(n,e,t,s),r=gy(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function my(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+n.measureText(i).width}function gy(e,t,s){let n=e;return typeof t.text!="string"&&(n=qf(t,s)),n}function qf(e,t){const s=e.text?e.text.length:0;return t*s}function by(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var xy={id:"legend",_element:lu,start(e,t,s){const n=e.legend=new lu({ctx:e.ctx,options:s,chart:e});ce.configure(e,n,s),ce.addBox(e,n)},stop(e){ce.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;ce.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=de(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ka extends ys{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Ut(n.text)?n.text.length:1;this._padding=de(n.padding);const o=i*ee(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=oe(a,n,o),d=s+t,c=o-n):(r.position==="left"?(u=n+t,d=oe(a,i,s),l=Mt*-.5):(u=o-t,d=oe(a,s,i),l=Mt*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=ee(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);cn(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:ja(s.align),textBaseline:"middle",translation:[r,a]})}}function vy(e,t){const s=new Ka({ctx:e.ctx,options:t,chart:e});ce.configure(e,s,t),ce.addBox(e,s),e.titleBlock=s}var yy={id:"title",_element:Ka,start(e,t,s){vy(e,s)},stop(e){const t=e.titleBlock;ce.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;ce.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wi=new WeakMap;var _y={id:"subtitle",start(e,t,s){const n=new Ka({ctx:e.ctx,options:s,chart:e});ce.configure(e,n,s),ce.addBox(e,n),Wi.set(e,n)},stop(e){ce.removeBox(e,Wi.get(e)),Wi.delete(e)},beforeUpdate(e,t,s){const n=Wi.get(e);ce.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gn={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Zr(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function qe(e,t){return t&&(Ut(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function is(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function wy(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function cu(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=ee(t.bodyFont),c=ee(t.titleFont),u=ee(t.footerFont),d=o.length,h=i.length,p=n.length,m=de(t.padding);let g=m.height,x=0,v=n.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let _=0;const C=function(S){x=Math.max(x,s.measureText(S).width+_)};return s.save(),s.font=c.string,Ot(e.title,C),s.font=l.string,Ot(e.beforeBody.concat(e.afterBody),C),_=t.displayColors?r+2+t.boxPadding:0,Ot(n,S=>{Ot(S.before,C),Ot(S.lines,C),Ot(S.after,C)}),_=0,s.font=u.string,Ot(e.footer,C),s.restore(),x+=m.width,{width:x,height:g}}function ky(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function Ay(e,t,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function Sy(e,t,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),Ay(c,e,t,s)&&(c="center"),c}function uu(e,t,s){const n=s.yAlign||t.yAlign||ky(e,s);return{xAlign:s.xAlign||t.xAlign||Sy(e,t,s,n),yAlign:n}}function Ty(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function Cy(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function du(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=rn(r);let m=Ty(t,a);const g=Cy(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+i:a==="right"&&(m+=Math.max(d,p)+i),{x:ne(m,0,n.width-t.width),y:ne(g,0,n.height-t.height)}}function qi(e,t,s){const n=de(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function fu(e){return qe([],is(e))}function My(e,t,s){return js(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function hu(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Gf={beforeTitle:ss,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:ss,beforeBody:ss,beforeLabel:ss,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return kt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:ss,afterBody:ss,beforeFooter:ss,footer:ss,afterFooter:ss};function ve(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Gf[t].call(s,n):i}class la extends ys{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new Tf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=My(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=ve(n,"beforeTitle",this,t),o=ve(n,"title",this,t),r=ve(n,"afterTitle",this,t);let a=[];return a=qe(a,is(i)),a=qe(a,is(o)),a=qe(a,is(r)),a}getBeforeBody(t,s){return fu(ve(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Ot(t,o=>{const r={before:[],lines:[],after:[]},a=hu(n,o);qe(r.before,is(ve(a,"beforeLabel",this,o))),qe(r.lines,ve(a,"label",this,o)),qe(r.after,is(ve(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,s){return fu(ve(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=ve(n,"beforeFooter",this,t),o=ve(n,"footer",this,t),r=ve(n,"afterFooter",this,t);let a=[];return a=qe(a,is(i)),a=qe(a,is(o)),a=qe(a,is(r)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(wy(this.chart,s[l]));return t.filter&&(a=a.filter((u,d,h)=>t.filter(u,d,h,n))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,n))),Ot(a,u=>{const d=hu(t.callbacks,u);i.push(ve(d,"labelColor",this,u)),o.push(ve(d,"labelPointStyle",this,u)),r.push(ve(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Gn[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=cu(this,n),c=Object.assign({},a,l),u=uu(this.chart,n,c),d=du(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=rn(a),{x:h,y:p}=t,{width:m,height:g}=s;let x,v,_,C,S,E;return o==="center"?(S=p+g/2,i==="left"?(x=h,v=x-r,C=S+r,E=S-r):(x=h+m,v=x+r,C=S-r,E=S+r),_=x):(i==="left"?v=h+Math.max(l,u)+r:i==="right"?v=h+m-Math.max(c,d)-r:v=this.caretX,o==="top"?(C=p,S=C-r,x=v-r,_=v+r):(C=p+g,S=C+r,x=v+r,_=v-r),E=C),{x1:x,x2:v,x3:_,y1:C,y2:S,y3:E}}drawTitle(t,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=wn(n.rtl,this.x,this.width);for(t.x=qi(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=ee(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,u=ee(o.bodyFont),d=qi(this,"left",o),h=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=s.y+p;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(h,c)+c/2,v=m+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ea(t,g,x,v),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,ea(t,g,x,v)}else{t.lineWidth=At(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(h,c),x=i.leftForLtr(i.xPlus(h,1),c-2),v=rn(r.borderRadius);Object.values(v).some(_=>_!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,yi(t,{x:g,y:m,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),yi(t,{x,y:m+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,m,c,l),t.strokeRect(g,m,c,l),t.fillStyle=r.backgroundColor,t.fillRect(x,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=ee(n.bodyFont);let h=d.lineHeight,p=0;const m=wn(n.rtl,this.x,this.width),g=function(j){s.fillText(j,m.x(t.x+p),t.y+h/2),t.y+=h+o},x=m.textAlign(r);let v,_,C,S,E,B,$;for(s.textAlign=r,s.textBaseline="middle",s.font=d.string,t.x=qi(this,x,n),s.fillStyle=n.bodyColor,Ot(this.beforeBody,g),p=a&&x!=="right"?r==="center"?c/2+u:c+2+u:0,S=0,B=i.length;S<B;++S){for(v=i[S],_=this.labelTextColors[S],s.fillStyle=_,Ot(v.before,g),C=v.lines,a&&C.length&&(this._drawColorBox(s,t,S,m,n),h=Math.max(d.lineHeight,l)),E=0,$=C.length;E<$;++E)g(C[E]),h=d.lineHeight;Ot(v.after,g)}p=0,h=d.lineHeight,Ot(this.afterBody,g),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=wn(n.rtl,this.x,this.width);for(t.x=qi(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=ee(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=rn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),r==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-h,l),s.quadraticCurveTo(a+c,l,a+c,l+h),r==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+u-m),s.quadraticCurveTo(a+c,l+u,a+c-m,l+u),r==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+u),s.quadraticCurveTo(a,l+u,a,l+u-p),r==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=Gn[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=cu(this,t),l=Object.assign({},r,this._size),c=uu(s,t,l),u=du(t,l,c,s);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=de(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),yf(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),_f(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!wo(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,n),a=this._positionChanged(r,t),l=s||!wo(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,r=Gn[o.position].call(this,t,s);return r!==!1&&(n!==r.x||i!==r.y)}}Q(la,"positioners",Gn);var Ey={id:"tooltip",_element:la,positioners:Gn,afterInit(e,t,s){s&&(e.tooltip=new la({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Gf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Iy=Object.freeze({__proto__:null,Colors:zv,Decimation:qv,Filler:fy,Legend:xy,SubTitle:_y,Title:yy,Tooltip:Ey});const Py=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function Ly(e,t,s,n){const i=e.indexOf(t);if(i===-1)return Py(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const Oy=(e,t)=>e===null?null:ne(Math.round(e),0,t);function pu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ca extends dn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(kt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:Ly(n,t,xt(s,t),this._addedLabels),Oy(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=s;r++)i.push({value:r});return i}getLabelForValue(t){return pu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Q(ca,"id","category"),Q(ca,"defaults",{ticks:{callback:pu}});function Ry(e,t){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=e,p=o||1,m=u-1,{min:g,max:x}=t,v=!kt(r),_=!kt(a),C=!kt(c),S=(x-g)/(d+1);let E=cc((x-g)/m/p)*p,B,$,j,V;if(E<1e-14&&!v&&!_)return[{value:g},{value:x}];V=Math.ceil(x/E)-Math.floor(g/E),V>m&&(E=cc(V*E/m/p)*p),kt(l)||(B=Math.pow(10,l),E=Math.ceil(E*B)/B),i==="ticks"?($=Math.floor(g/E)*E,j=Math.ceil(x/E)*E):($=g,j=x),v&&_&&o&&Tb((a-r)/o,E/1e3)?(V=Math.round(Math.min((a-r)/E,u)),E=(a-r)/V,$=r,j=a):C?($=v?r:$,j=_?a:j,V=c-1,E=(j-$)/V):(V=(j-$)/E,ii(V,Math.round(V),E/1e3)?V=Math.round(V):V=Math.ceil(V));const K=Math.max(uc(E),uc($));B=Math.pow(10,kt(l)?K:l),$=Math.round($*B)/B,j=Math.round(j*B)/B;let R=0;for(v&&(h&&$!==r?(s.push({value:r}),$<r&&R++,ii(Math.round(($+R*E)*B)/B,r,mu(r,S,e))&&R++):$<r&&R++);R<V;++R){const w=Math.round(($+R*E)*B)/B;if(_&&w>a)break;s.push({value:w})}return _&&h&&j!==a?s.length&&ii(s[s.length-1].value,a,mu(a,S,e))?s[s.length-1].value=a:s.push({value:a}):(!_||j===a)&&s.push({value:j}),s}function mu(e,t,{horizontal:s,minRotation:n}){const i=Re(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class Eo extends dn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(t){const l=Je(i),c=Je(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(i-l)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=Ry(i,o);return t.bounds==="ticks"&&sf(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Ii(t,this.chart.options.locale,this.options.ticks.format)}}class ua extends Eo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Yt(t)?t:0,this.max=Yt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Re(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Q(ua,"id","linear"),Q(ua,"defaults",{ticks:{callback:Xo.formatters.numeric}});const wi=e=>Math.floor(Is(e)),Ys=(e,t)=>Math.pow(10,wi(e)+t);function gu(e){return e/Math.pow(10,wi(e))===1}function bu(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function Dy(e,t){const s=t-e;let n=wi(s);for(;bu(e,t,n)>10;)n++;for(;bu(e,t,n)<10;)n--;return Math.min(n,wi(e))}function Ny(e,{min:t,max:s}){t=Se(e.min,t);const n=[],i=wi(t);let o=Dy(t,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*r)/r,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),h=Se(e.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;h<s;)n.push({value:h,major:gu(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),h=Math.round((l+u+d*Math.pow(10,o))*r)/r;const p=Se(e.max,h);return n.push({value:p,major:gu(p),significand:d}),n}class da extends dn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=Eo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return Yt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Yt(t)?Math.max(0,t):null,this.max=Yt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yt(this._userMin)&&(this.min=t===Ys(this.min,0)?Ys(this.min,-1):Ys(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=t?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(Ys(n,-1)),r(Ys(i,1)))),n<=0&&o(Ys(i,-1)),i<=0&&r(Ys(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=Ny(s,this);return t.bounds==="ticks"&&sf(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ii(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Is(t),this._valueRange=Is(this.max)-Is(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Is(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}Q(da,"id","logarithmic"),Q(da,"defaults",{ticks:{callback:Xo.formatters.logarithmic,major:{enabled:!0}}});function fa(e){const t=e.ticks;if(t.display&&e.display){const s=de(t.backdropPadding);return xt(t.font&&t.font.size,Wt.font.size)+s.height}return 0}function Fy(e,t,s){return s=Ut(s)?s:[s],{w:Hb(e,t.string,s),h:s.length*t.lineHeight}}function xu(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function $y(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?Mt/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),d=ee(c.font),h=Fy(e.ctx,d,e._pointLabels[l]);n[l]=h;const p=re(e.getIndexAngle(l)+a),m=Math.round($a(p)),g=xu(m,u.x,h.w,0,180),x=xu(m,u.y,h.h,90,270);By(s,t,p,g,x)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=zy(e,n,i)}function By(e,t,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function jy(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=e.getPointPosition(t,n+i+r,o),c=Math.round($a(re(l.angle+Jt))),u=Wy(l.y,a.h,c),d=Hy(c),h=Uy(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Vy(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:o}=e;return!(ps({x:s,y:n},t)||ps({x:s,y:o},t)||ps({x:i,y:n},t)||ps({x:i,y:o},t))}function zy(e,t,s){const n=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:fa(o)/2,additionalAngle:r?Mt/i:0};let c;for(let u=0;u<i;u++){l.padding=s[u],l.size=t[u];const d=jy(e,u,l);n.push(d),a==="auto"&&(d.visible=Vy(d,c),d.visible&&(c=d))}return n}function Hy(e){return e===0||e===180?"center":e<180?"left":"right"}function Uy(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function Wy(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function qy(e,t,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=t;if(!kt(a)){const l=rn(t.borderRadius),c=de(t.backdropPadding);e.fillStyle=a;const u=n-c.left,d=i-c.top,h=o-n+c.width,p=r-i+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),yi(e,{x:u,y:d,w:h,h:p,radius:l}),e.fill()):e.fillRect(u,d,h,p)}}function Gy(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const o=e._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(i));qy(s,r,o);const a=ee(r.font),{x:l,y:c,textAlign:u}=o;cn(s,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function Yf(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,Ht);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function Yy(e,t,s,n,i){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Yf(e,s,r,n),o.closePath(),o.stroke(),o.restore())}function Ky(e,t,s){return js(e,{label:s,index:t,type:"pointLabel"})}class Yn extends Eo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=de(fa(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Yt(t)&&!isNaN(t)?t:0,this.max=Yt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fa(this.options))}generateTickLabels(t){Eo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=jt(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?$y(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=Ht/(this._pointLabels.length||1),n=this.options.startAngle||0;return re(t*s+Re(n))}getDistanceFromCenterForValue(t){if(kt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(kt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return Ky(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Jt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Yf(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&Gy(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),p=i.setContext(h),m=o.setContext(h);Yy(this,p,l,r,m)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(t.lineWidth=h,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),u=ee(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=de(c.backdropPadding);t.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}cn(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}Q(Yn,"id","radialLinear"),Q(Yn,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Q(Yn,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(Yn,"descriptors",{angleLines:{_fallback:"grid"}});const sr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},we=Object.keys(sr);function vu(e,t){return e-t}function yu(e,t){if(kt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),Yt(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(Cn(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function _u(e,t,s,n){const i=we.length;for(let o=we.indexOf(e);o<i-1;++o){const r=sr[we[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(a*r.size))<=n)return we[o]}return we[i-1]}function Xy(e,t,s,n,i){for(let o=we.length-1;o>=we.indexOf(s);o--){const r=we[o];if(sr[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return we[s?we.indexOf(s):0]}function Jy(e){for(let t=we.indexOf(e)+1,s=we.length;t<s;++t)if(sr[we[t]].common)return we[t]}function wu(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Ba(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function Qy(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function ku(e,t,s){const n=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:Qy(e,n,i,s)}class ki extends dn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new r1._date(t.adapters.date);i.init(s),ni(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:yu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Yt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=Yt(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=Ib(i,o,r);return this._unit=s.unit||(n.autoSkip?_u(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):Xy(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Jy(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),ku(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=ne(s,0,r),n=ne(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||_u(o.minUnit,s,n,this._getLabelCapacity(s)),a=xt(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Cn(l)||l===!0,u={};let d=s,h,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":r),t.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<n;h=+t.add(h,a,r),p++)wu(u,h,m);return(h===n||i.bounds==="ticks"||p===1)&&wu(u,h,m),Object.keys(u).sort(vu).map(g=>+g)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return jt(r,[t,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=n[s],p=c&&d&&h&&h.major;return this._adapter.format(t,i||(p?d:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Re(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,ku(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(yu(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return rf(t.sort(vu))}}Q(ki,"id","time"),Q(ki,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gi(e,t,s){let n=0,i=e.length-1,o,r,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=hs(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=hs(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[i]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class ha extends ki{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Gi(s,this.min),this._tableRange=Gi(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=t.length;r<a;++r)c=t[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Gi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Gi(this._table,n*this._tableRange+this._minPos,!0)}}Q(ha,"id","timeseries"),Q(ha,"defaults",ki.defaults);var Zy=Object.freeze({__proto__:null,CategoryScale:ca,LinearScale:ua,LogarithmicScale:da,RadialLinearScale:Yn,TimeScale:ki,TimeSeriesScale:ha});const t_=[o1,Dv,Iy,Zy];Pe.register(...t_);const Ai={"50m":{M:{ELITE:{standards:{INTERNATIONAL:5.65,NATIONAL:5.85},performance_ranges:{min:5.7,max:5.9},tests:{fly30m:{min:2.8,max:2.9},block30m:{target:3.75},cmj:{min:60,max:68}},mechanics:{contactTime:{min:80,max:88},vMax:{min:11.8,max:12.3}}},U20:{standards:{NATIONAL:6.1},performance_ranges:{min:6,max:6.3},tests:{fly30m:{min:3,max:3.15},block30m:{target:4.05},cmj:{min:50,max:56}},mechanics:{contactTime:{min:100,max:110},vMax:{min:10.8,max:11.4}}}},F:{ELITE:{standards:{INTERNATIONAL:6.2,NATIONAL:6.45},performance_ranges:{min:6.25,max:6.55},tests:{fly30m:{min:3.15,max:3.3},block30m:{target:4.1},cmj:{min:46,max:54}},mechanics:{contactTime:{min:94,max:104},vMax:{min:10.6,max:11.1}}},U20:{standards:{NATIONAL:6.75},performance_ranges:{min:6.65,max:6.95},tests:{fly30m:{min:3.35,max:3.5},block30m:{target:4.45},cmj:{min:38,max:44}},mechanics:{contactTime:{min:110,max:120},vMax:{min:9.8,max:10.4}}}}},"60m":{M:{ELITE:{standards:{INTERNATIONAL:6.55,NATIONAL:6.75},performance_ranges:{min:6.6,max:6.8},tests:{fly30m:{min:2.85,max:2.95},block30m:{target:3.8},cmj:{min:58,max:65}},mechanics:{contactTime:{min:82,max:92},vMax:{min:11.6,max:12.1}}},U20:{standards:{NATIONAL:6.95},performance_ranges:{min:6.9,max:7.15},tests:{fly30m:{min:3.05,max:3.15},block30m:{target:4.15},cmj:{min:48,max:54}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.6,max:11.2}}}},F:{ELITE:{standards:{INTERNATIONAL:7.15,NATIONAL:7.4},performance_ranges:{min:7.2,max:7.5},tests:{fly30m:{min:3.2,max:3.35},block30m:{target:4.15},cmj:{min:45,max:52}},mechanics:{contactTime:{min:96,max:106},vMax:{min:10.5,max:11}}},U20:{standards:{NATIONAL:7.7},performance_ranges:{min:7.6,max:7.95},tests:{fly30m:{min:3.4,max:3.55},block30m:{target:4.6},cmj:{min:36,max:42}},mechanics:{contactTime:{min:115,max:125},vMax:{min:9.6,max:10.2}}}}},"80m":{M:{U16:{standards:{NATIONAL:9.4,REGIONAL:10.2},performance_ranges:{min:9.4,max:9.9},tests:{fly30m:{min:3.5,max:3.7},block30m:{target:4.4},cmj:{min:36,max:42}},mechanics:{contactTime:{min:130,max:150},vMax:{min:8.8,max:10}}}},F:{U16:{standards:{NATIONAL:10.2,REGIONAL:11},performance_ranges:{min:10.2,max:10.8},tests:{fly30m:{min:3.9,max:4.1},block30m:{target:5.1},cmj:{min:28,max:34}},mechanics:{contactTime:{min:135,max:155},vMax:{min:8.2,max:8.9}}}}},"50mH":{M:{ELITE:{standards:{INTERNATIONAL:6.45,NATIONAL:6.75},performance_ranges:{min:6.5,max:6.85},specs:{start:13.72,space:9.14,height:1.06},tests:{fly30m:{min:3.1,max:3.3},cmj:{min:55,max:62}},mechanics:{contactTime:{min:95,max:105},vMax:{min:9.8,max:10.5}}},U20:{specs:{start:13.72,space:9.14,height:.99},tests:{cmj:{min:48,max:54}}},U18:{specs:{start:13.72,space:9.14,height:.91},tests:{cmj:{min:42,max:48}}}},F:{ELITE:{standards:{INTERNATIONAL:6.85,NATIONAL:7.2},performance_ranges:{min:6.95,max:7.3},specs:{start:13,space:8.5,height:.84},tests:{fly30m:{min:3.5,max:3.7},cmj:{min:42,max:48}},mechanics:{contactTime:{min:105,max:115},vMax:{min:8.8,max:9.4}}},U20:{specs:{start:13,space:8.5,height:.84},tests:{cmj:{min:36,max:42}}},U18:{specs:{start:13,space:8.5,height:.76},tests:{cmj:{min:32,max:38}}}}},"60mH":{M:{ELITE:{standards:{INTERNATIONAL:7.55,NATIONAL:7.95},performance_ranges:{min:7.6,max:8.1},specs:{start:13.72,space:9.14,height:1.06},tests:{fly30m:{min:3.1,max:3.3},cmj:{min:56,max:64}},mechanics:{contactTime:{min:95,max:105},vMax:{min:9.8,max:10.6}}},U20:{standards:{NATIONAL:8.3},specs:{start:13.72,space:9.14,height:.99},tests:{cmj:{min:47,max:53}}},U18:{specs:{start:13.72,space:9.14,height:.91},tests:{cmj:{min:41,max:47}}}},F:{ELITE:{standards:{INTERNATIONAL:8.05,NATIONAL:8.5},performance_ranges:{min:8.1,max:8.65},specs:{start:13,space:8.5,height:.84},tests:{fly30m:{min:3.5,max:3.7},cmj:{min:44,max:50}},mechanics:{contactTime:{min:105,max:115},vMax:{min:8.8,max:9.5}}},U20:{standards:{NATIONAL:8.9},specs:{start:13,space:8.5,height:.84},tests:{cmj:{min:35,max:41}}},U18:{specs:{start:13,space:8.5,height:.76},tests:{cmj:{min:31,max:37}}}}},"100m":{M:{ELITE:{standards:{INTERNATIONAL:10.05,NATIONAL:10.4,REGIONAL:10.9},performance_ranges:{min:10.2,max:10.5},tests:{fly30m:{min:2.85,max:2.95},block30m:{target:3.8},cmj:{min:58,max:65,target:62}},mechanics:{contactTime:{min:80,max:90},vMax:{min:11.6,max:12.2}}},U23:{standards:{INTERNATIONAL:10.2,NATIONAL:10.6,REGIONAL:11},performance_ranges:{min:10.4,max:10.8},tests:{fly30m:{min:2.95,max:3.05},block30m:{target:3.95},cmj:{min:52,max:58}},mechanics:{contactTime:{min:90,max:100},vMax:{min:11.2,max:11.6}}},U20:{standards:{INTERNATIONAL:10.45,NATIONAL:10.85,REGIONAL:11.3},performance_ranges:{min:10.8,max:11.2},tests:{fly30m:{min:3.05,max:3.15},block30m:{target:4.15},cmj:{min:48,max:54}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.6,max:11.2}}},U18:{standards:{INTERNATIONAL:10.7,NATIONAL:11.1,REGIONAL:11.6},performance_ranges:{min:11.3,max:11.6},tests:{fly30m:{min:3.2,max:3.4},block30m:{target:4.25},cmj:{min:42,max:48}},mechanics:{contactTime:{min:115,max:130},vMax:{min:10,max:10.6}}},U16:{standards:{INTERNATIONAL:11.2,NATIONAL:11.6,REGIONAL:12.2},performance_ranges:{min:11.6,max:12.2},tests:{fly30m:{min:3.5,max:3.7},block30m:{target:4.4},cmj:{min:36,max:42}},mechanics:{contactTime:{min:130,max:150},vMax:{min:8.8,max:10}}}},F:{ELITE:{standards:{INTERNATIONAL:11.15,NATIONAL:11.6,REGIONAL:12.3},performance_ranges:{min:11.2,max:11.6},tests:{fly30m:{min:3.2,max:3.35},block30m:{target:4.15},cmj:{min:45,max:52,target:48}},mechanics:{contactTime:{min:95,max:105},vMax:{min:10.5,max:11}}},U23:{standards:{INTERNATIONAL:11.3,NATIONAL:11.8,REGIONAL:12.5},performance_ranges:{min:11.5,max:12},tests:{fly30m:{min:3.3,max:3.45},block30m:{target:4.35},cmj:{min:40,max:46}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.1,max:10.6}}},U20:{standards:{INTERNATIONAL:11.6,NATIONAL:12.1,REGIONAL:12.8},performance_ranges:{min:11.8,max:12.3},tests:{fly30m:{min:3.4,max:3.55},block30m:{target:4.6},cmj:{min:36,max:42}},mechanics:{contactTime:{min:115,max:125},vMax:{min:9.6,max:10.2}}},U18:{standards:{INTERNATIONAL:11.9,NATIONAL:12.4,REGIONAL:13.1},performance_ranges:{min:12.4,max:13},tests:{fly30m:{min:3.6,max:3.8},block30m:{target:4.8},cmj:{min:32,max:38}},mechanics:{contactTime:{min:125,max:140},vMax:{min:9,max:9.6}}},U16:{standards:{INTERNATIONAL:12.3,NATIONAL:12.9,REGIONAL:13.6},performance_ranges:{min:12.8,max:13.4},tests:{fly30m:{min:3.9,max:4.1},block30m:{target:5.1},cmj:{min:28,max:34}},mechanics:{contactTime:{min:135,max:155},vMax:{min:8.2,max:8.9}}}}},"200m":{M:{ELITE:{standards:{INTERNATIONAL:20.3,NATIONAL:21,REGIONAL:22},performance_ranges:{min:20.5,max:21.1},tests:{fly30m:{min:2.85,max:2.95},block30m:{target:3.85},cmj:{min:55,max:62}},mechanics:{contactTime:{min:85,max:95},vMax:{min:11.4,max:12}}},U23:{standards:{INTERNATIONAL:20.6,NATIONAL:21.4,REGIONAL:22.4},performance_ranges:{min:21,max:21.8},tests:{fly30m:{min:2.95,max:3.05},block30m:{target:4},cmj:{min:50,max:58}},mechanics:{contactTime:{min:92,max:102},vMax:{min:11,max:11.5}}},U20:{standards:{INTERNATIONAL:21,NATIONAL:21.8,REGIONAL:22.8},performance_ranges:{min:21.8,max:22.5},tests:{fly30m:{min:3.05,max:3.2},block30m:{target:4.2},cmj:{min:46,max:52}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.4,max:11}}},U18:{standards:{INTERNATIONAL:21.6,NATIONAL:22.4,REGIONAL:23.5},performance_ranges:{min:22.8,max:23.8},tests:{fly30m:{min:3.25,max:3.45},block30m:{target:4.3},cmj:{min:40,max:46}},mechanics:{contactTime:{min:115,max:130},vMax:{min:9.8,max:10.4}}},U16:{performance_ranges:{min:24.5,max:26},tests:{fly30m:{min:3.55,max:3.75},block30m:{target:4.45},cmj:{min:35,max:40}},mechanics:{contactTime:{min:130,max:150},vMax:{min:8.6,max:9.8}}}},F:{ELITE:{standards:{INTERNATIONAL:22.8,NATIONAL:23.8,REGIONAL:25},performance_ranges:{min:22.8,max:23.6},tests:{fly30m:{min:3.25,max:3.4},block30m:{target:4.25},cmj:{min:42,max:48}},mechanics:{contactTime:{min:98,max:108},vMax:{min:10.3,max:10.8}}},U23:{standards:{INTERNATIONAL:23.2,NATIONAL:24.2,REGIONAL:25.4},performance_ranges:{min:24,max:25},tests:{fly30m:{min:3.35,max:3.5},block30m:{target:4.4},cmj:{min:38,max:44}},mechanics:{contactTime:{min:108,max:118},vMax:{min:10,max:10.4}}},U20:{standards:{INTERNATIONAL:23.6,NATIONAL:24.6,REGIONAL:25.8},performance_ranges:{min:24.2,max:25.2},tests:{fly30m:{min:3.45,max:3.6},block30m:{target:4.65},cmj:{min:35,max:41}},mechanics:{contactTime:{min:118,max:128},vMax:{min:9.4,max:10}}},U18:{standards:{INTERNATIONAL:24.2,NATIONAL:25.2,REGIONAL:26.5},performance_ranges:{min:25.5,max:26.8},tests:{fly30m:{min:3.65,max:3.85},block30m:{target:4.85},cmj:{min:30,max:36}},mechanics:{contactTime:{min:128,max:143},vMax:{min:8.8,max:9.4}}},U16:{performance_ranges:{min:27.5,max:29},tests:{fly30m:{min:3.95,max:4.15},block30m:{target:5.15},cmj:{min:27,max:32}},mechanics:{contactTime:{min:138,max:158},vMax:{min:8,max:8.7}}}}},"400m":{M:{ELITE:{standards:{INTERNATIONAL:45.3,NATIONAL:47,REGIONAL:49.5},performance_ranges:{min:45.8,max:46.8},tests:{fly30m:{min:3,max:3.15},block30m:{target:3.95},cmj:{min:50,max:58}},mechanics:{contactTime:{min:95,max:105},vMax:{min:10.8,max:11.4}},model:{target:46,splits:{100:11.1,200:22,300:33.5,400:46},diff:2}},U23:{standards:{INTERNATIONAL:46,NATIONAL:47.8,REGIONAL:50.5},performance_ranges:{min:46.8,max:48.5},tests:{fly30m:{min:3.1,max:3.25},block30m:{target:4.1},cmj:{min:48,max:55}},mechanics:{contactTime:{min:100,max:110},vMax:{min:10.4,max:11}},model:{target:47.5,splits:{100:11.4,200:22.8,300:34.6,400:47.5},diff:2.2}},U20:{standards:{INTERNATIONAL:46.8,NATIONAL:48.5,REGIONAL:51},performance_ranges:{min:48.5,max:49.8},tests:{fly30m:{min:3.2,max:3.35},block30m:{target:4.25},cmj:{min:45,max:52}},mechanics:{contactTime:{min:110,max:120},vMax:{min:10,max:10.6}},model:{target:49,splits:{100:11.8,200:23.5,300:35.8,400:49},diff:2.3}},U18:{standards:{INTERNATIONAL:48,NATIONAL:50,REGIONAL:53},performance_ranges:{min:50.5,max:53},tests:{fly30m:{min:3.4,max:3.6},block30m:{target:4.4},cmj:{min:40,max:46}},mechanics:{contactTime:{min:120,max:135},vMax:{min:9.4,max:10}},model:{target:51.5,splits:{100:12.2,200:24.5,300:37.5,400:51.5},diff:2.8}}},F:{ELITE:{standards:{INTERNATIONAL:51.5,NATIONAL:53.5,REGIONAL:56.5},performance_ranges:{min:51.5,max:53.5},tests:{fly30m:{min:3.45,max:3.65},block30m:{target:4.45},cmj:{min:38,max:44}},mechanics:{contactTime:{min:110,max:120},vMax:{min:9.6,max:10.2}},model:{target:52,splits:{100:12.5,200:24.8,300:37.8,400:52},diff:2.4}},U23:{standards:{INTERNATIONAL:52.5,NATIONAL:54.8,REGIONAL:57.8},performance_ranges:{min:53.5,max:56},tests:{fly30m:{min:3.6,max:3.8},block30m:{target:4.6},cmj:{min:36,max:42}},mechanics:{contactTime:{min:115,max:125},vMax:{min:9.2,max:9.8}},model:{target:54,splits:{100:12.9,200:25.8,300:39.2,400:54},diff:2.8}},U20:{standards:{INTERNATIONAL:53.5,NATIONAL:56,REGIONAL:59},performance_ranges:{min:54.5,max:57},tests:{fly30m:{min:3.7,max:3.9},block30m:{target:4.85},cmj:{min:34,max:39}},mechanics:{contactTime:{min:120,max:130},vMax:{min:8.8,max:9.4}},model:{target:56,splits:{100:13.2,200:26.5,300:40.5,400:56},diff:3.2}},U18:{standards:{INTERNATIONAL:55,NATIONAL:57.5,REGIONAL:61},performance_ranges:{min:57.5,max:61},tests:{fly30m:{min:3.95,max:4.2},block30m:{target:5.1},cmj:{min:30,max:35}},mechanics:{contactTime:{min:130,max:145},vMax:{min:8.2,max:8.8}},model:{target:59.5,splits:{100:14,200:28.2,300:43.5,400:59.5},diff:3.5}}}},"100mH":{F:{ELITE:{standards:{INTERNATIONAL:12.8,NATIONAL:13.8},performance_ranges:{min:13,max:13.6},tests:{fly30m:{min:3.4,max:3.6},cmj:{min:44,max:50}},mechanics:{contactTime:{min:105,max:115},vMax:{min:9.2,max:9.8}},specs:{start:13,space:8.5,height:.84}},U23:{standards:{INTERNATIONAL:13,NATIONAL:14.2},performance_ranges:{min:13.5,max:14.1},tests:{cmj:{min:39,max:45}}},U20:{standards:{INTERNATIONAL:13.5,NATIONAL:14.8},performance_ranges:{min:14,max:14.6},tests:{cmj:{min:35,max:41}},specs:{height:.84}},U18:{standards:{INTERNATIONAL:13.8,NATIONAL:15},performance_ranges:{min:14.5,max:15.2},tests:{cmj:{min:31,max:37}},specs:{height:.76}}}},"110mH":{M:{ELITE:{standards:{INTERNATIONAL:13.2,NATIONAL:13.9},performance_ranges:{min:13.4,max:13.8},tests:{fly30m:{min:3,max:3.2},cmj:{min:56,max:64}},mechanics:{contactTime:{min:95,max:105},vMax:{min:10.2,max:10.8}},specs:{start:13.72,space:9.14,height:1.06}},U23:{standards:{INTERNATIONAL:13.5,NATIONAL:14.3},performance_ranges:{min:13.8,max:14.2},tests:{cmj:{min:51,max:57}}},U20:{standards:{INTERNATIONAL:13.8,NATIONAL:14.8},performance_ranges:{min:14.2,max:14.7},tests:{cmj:{min:47,max:53}},specs:{height:.99}},U18:{standards:{INTERNATIONAL:14.2,NATIONAL:15.5},performance_ranges:{min:14.8,max:15.4},tests:{cmj:{min:41,max:47}},specs:{height:.91}}}},"400mH":{M:{ELITE:{standards:{INTERNATIONAL:49,NATIONAL:52},tests:{fly30m:{min:3.1,max:3.3},cmj:{min:50,max:57}},mechanics:{contactTime:{min:105,max:120},vMax:{min:10,max:10.6}},specs:{start:45,space:35,height:.91}}},F:{ELITE:{standards:{INTERNATIONAL:55,NATIONAL:59},tests:{fly30m:{min:3.6,max:3.85},cmj:{min:38,max:45}},mechanics:{contactTime:{min:120,max:135},vMax:{min:8.8,max:9.4}},specs:{start:45,space:35,height:.76}}}}},ks={REACTION_TIME:{OFFICIAL:.15,TRAINING_U18:.16,TRAINING_ELITE:.15},VMAX_ESTIMATION_COEFF:{U16:1.18,U18:1.16,U20:1.16,U23:1.14,ELITE:1.14},ACCEL_BONUS:.15,PACING_400M:{U16:3,U18:2,ELITE:1.5}},e_={tau:{min:1.8,max:.7},vmax:{min:6,max:12.5},pmax:{min:10,max:45},endurance:{min:1.35,max:1.05},reactivity:{min:5,max:25}},Vt={f0:{high:11.5,low:9},vmax:{low:9.5},vri:{high:1.22,low:1.14},prestige:{low:8,high:15},fatigue:{high:1.28},stiffness:{high_ct:105,elite_ct:90,vmax_threshold:9},kinematic:{freq:{M:{low:3.8,high:4.8,opt_min:4,opt_max:4.6},F:{low:4,high:5.1,opt_min:4.2,opt_max:4.9}}},fv_ratio:{high:1.15,low:.85},hurdles:{ie_short:{excellent:.9,poor:1.35},diff_long:{excellent:2.5,poor:5}},sprint_ratios:{short_long:{power:1.52,endurance:1.58},speed_endurance:{speed:1.98,endurance:2.05}},long_sprint:{asr_margin:{speed:3.5,resistant:5}}},Io={M:{ELITE:{tau:.95,vmax:11.6,f0:12.9,v0:12.2,pmax:28,endurance:1.1,reactivity:15,contactTime:{min:80,max:90}},U23:{tau:.98,vmax:11.2,f0:11.9,v0:11.8,pmax:25,endurance:1.12,reactivity:14,contactTime:{min:90,max:100}},U20:{tau:1.02,vmax:10.8,f0:11,v0:11.4,pmax:22,endurance:1.14,reactivity:12,contactTime:{min:105,max:115}},U18:{tau:1.1,vmax:10.2,f0:9.7,v0:10.8,pmax:19,endurance:1.18,reactivity:10,contactTime:{min:115,max:130}},U16:{tau:1.2,vmax:9.2,f0:8,v0:9.8,pmax:15,endurance:1.22,reactivity:8,contactTime:{min:130,max:150}}},F:{ELITE:{tau:1.02,vmax:10.6,f0:11,v0:11.2,pmax:23,endurance:1.12,reactivity:13,contactTime:{min:95,max:105}},U23:{tau:1.06,vmax:10.2,f0:10.2,v0:10.8,pmax:20,endurance:1.14,reactivity:12,contactTime:{min:105,max:115}},U20:{tau:1.12,vmax:9.8,f0:9.3,v0:10.4,pmax:18,endurance:1.16,reactivity:11,contactTime:{min:115,max:125}},U18:{tau:1.18,vmax:9.2,f0:8.4,v0:9.8,pmax:15,endurance:1.2,reactivity:9,contactTime:{min:125,max:140}},U16:{tau:1.28,vmax:8.4,f0:7,v0:9,pmax:12,endurance:1.24,reactivity:7,contactTime:{min:135,max:155}}}},Xt={FLAT:"flat",FLAT_LONG:"flat_long",LONG_SPRINT:"long_sprint",HURDLES:"hurdles",HURDLES_LONG:"hurdles_long"},s_={DEFAULT_TAKEOFF_OFFSET:2},ds={"50m":{id:"50m",name:"50m",type:Xt.FLAT,distance:50,availability:{M:["U18","U20","U23","ELITE"],F:["U18","U20","U23","ELITE"]},params:{kFactor:{U16:.7,default:.37}},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"20m",type:"split",distance:20},{label:"30m",type:"split",distance:30},{label:"Arrive (50m)",type:"split",distance:50}],analysis:[{label:"Dpart (0-20)",start:0,end:20,type:"accel"},{label:"Vitesse (20-50)",start:20,end:50,type:"total"}]},"60m":{id:"60m",name:"60m",type:Xt.FLAT,distance:60,availability:{M:["U18","U20","U23","ELITE"],F:["U18","U20","U23","ELITE"]},params:{kFactor:{U16:.7,default:.37}},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"Arrive (60m)",type:"split",distance:60}],analysis:[{label:"Dpart (0-30)",start:0,end:30,type:"accel"},{label:"Transition (30-60)",start:30,end:60,type:"vmax"},{label:"60m",start:0,end:60,type:"total"}]},"80m":{id:"80m",name:"80m",type:Xt.FLAT,distance:80,availability:{M:["U16"],F:["U16"]},params:{kFactor:{U16:.7,default:.37}},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"Arrive (80m)",type:"split",distance:80}],analysis:[{label:"Dpart (0-30)",start:0,end:30,type:"accel"},{label:"Transition (30-80)",start:30,end:80,type:"vmax"},{label:"80m",start:0,end:80,type:"total"}]},"100m":{id:"100m",name:"100m",type:Xt.FLAT,distance:100,availability:{M:["U16","U18","U20","U23","ELITE"],F:["U16","U18","U20","U23","ELITE"]},params:{baseStartCost:.92,kFactor:{U16:.7,U18:.37,U20:.37,F:.37,default:.2},meroRatio:1.54,accelBonusThreshold:4.25},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"50m",type:"split",distance:50},{label:"60m",type:"split",distance:60},{label:"Arrive (100m)",type:"split",distance:100}],analysis:[{label:"Dpart (0-30)",start:0,end:30,type:"accel"},{label:"Transition / Vmax (30-60)",start:30,end:60,type:"vmax"},{label:"Maintien vitesse (60-100)",start:60,end:100,type:"speed_maint"},{label:"60m",start:0,end:60,type:"total"},{label:"100m",start:0,end:100,type:"total"},{label:"Endurance (50-100)",start:50,end:100,type:"endurance"}]},"200m":{id:"200m",name:"200m",type:Xt.FLAT_LONG,distance:200,availability:{M:["U16","U18","U20","U23","ELITE"],F:["U16","U18","U20","U23","ELITE"]},params:{fatigueIndexThresholds:{speed:1.25,endurance:1.15},deltas:{speed:.2,endurance:-.3,neutral:-.1}},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"100m",type:"split",distance:100},{label:"150m",type:"split",distance:150},{label:"Arrive (200m)",type:"split",distance:200}],analysis:[{label:"Virage (0-100m)",start:0,end:100,type:"vmax"},{label:"Sortie virage (100-150m)",start:100,end:150,type:"speed_maint"},{label:"Maintien / Dclration (150-200m)",start:150,end:200,type:"endurance"},{label:"200m",start:0,end:200,type:"total"}]},"400m":{id:"400m",name:"400m",type:Xt.LONG_SPRINT,distance:400,availability:{M:["U18","U20","U23","ELITE"],F:["U18","U20","U23","ELITE"]},params:{fatigueIndexThresholds:{sprinter:1.2,resistant:1.1},margins:{U16_sprinter:5.5,sprinter:5,resistant:2.8,default:3.6}},capture:[{label:"Dpart (0m)",type:"split",distance:0},{label:"100m",type:"split",distance:100},{label:"200m",type:"split",distance:200},{label:"300m",type:"split",distance:300},{label:"Arrive (400m)",type:"split",distance:400}],analysis:[{label:"1er 200m",start:0,end:200,type:"total"},{label:"2e 200m",start:200,end:400,type:"total"},{label:"400m",start:0,end:400,type:"total"}]},"50mH":{id:"50mH",name:"50m Haies",type:Xt.HURDLES,distance:50,hurdleCount:4,availability:{M:["U18","U20","ELITE"],F:["U18","U20","ELITE"]},params:{ieTarget:{U18:1.4,U20:1.4,U16:1.8,M:1,F:.95}}},"60mH":{id:"60mH",name:"60m Haies",type:Xt.HURDLES,distance:60,hurdleCount:5,availability:{M:["U18","U20","ELITE"],F:["U18","U20","ELITE"]},params:{ieTarget:{U18:1.4,U20:1.4,U16:1.8,M:1,F:.95}}},"100mH":{id:"100mH",name:"100m Haies (F)",type:Xt.HURDLES,distance:100,hurdleCount:10,availability:{F:["U18","U20","U23","ELITE"]},params:{ieTarget:{U18:1.4,U20:1.4,U16:1.8,F:.95,default:1}}},"110mH":{id:"110mH",name:"110m Haies (M)",type:Xt.HURDLES,distance:110,hurdleCount:10,availability:{M:["U18","U20","U23","ELITE"]},params:{ieTarget:{U18:1.4,U20:1.4,U16:1.8,M:1,default:1}}},"400mH":{id:"400mH",name:"400m Haies",type:Xt.HURDLES_LONG,distance:400,hurdleCount:10,availability:{M:["U20","U23","ELITE"],F:["U20","U23","ELITE"]},params:{diff400:{F:4.5,M:4,U18_bonus:1}}}},Kf=(e,t="M",s="ELITE")=>{var r,a;const n=Ai[e];if(!n)return null;const i=n[t]||n.M,o=i[s]||i.ELITE;if(o!=null&&o.specs){const l={...o.specs},c=((r=i.ELITE)==null?void 0:r.specs)||{};return l.start=l.start||c.start,l.space=l.space||c.space,l}return((a=i.ELITE)==null?void 0:a.specs)||null},n_=(e,t="M",s="ELITE")=>{const n=ds[e];if(!n)return[];if(n.type===Xt.HURDLES||n.type===Xt.HURDLES_LONG){const i=Kf(e,t,s);if(i&&i.start&&i.space){const{start:o,space:r}=i,a=[{label:"Dpart (0m)",type:"split",distance:0}];for(let l=0;l<n.hurdleCount;l++){const c=o+l*r;n.type===Xt.HURDLES&&a.push({label:`H${l+1} Take-off`,type:"takeoff",distance:c-s_.DEFAULT_TAKEOFF_OFFSET}),a.push({label:`H${l+1} Touchdown`,type:"touchdown",distance:c})}return a.push({label:`Arrive (${n.distance}m)`,type:"split",distance:n.distance}),a}}return n.capture||[]},Xa=(e,t="M",s="ELITE")=>{const n=ds[e];if(!n)return[];if(n.type===Xt.HURDLES||n.type===Xt.HURDLES_LONG){const i=Kf(e,t,s);if(i&&i.start&&i.space){const{start:o,space:r}=i,a=[{label:"Dpart-H1",start:0,end:o,type:"accel"}];for(let c=1;c<n.hurdleCount;c++){const u=o+(c-1)*r,d=o+c*r;a.push({label:`H${c}-H${c+1}`,start:u,end:d,type:"rhythm"})}const l=o+(n.hurdleCount-1)*r;return a.push({label:"Final",start:l,end:n.distance,type:"finish"}),a.push({label:n.name,start:0,end:n.distance,type:"total"}),a}}return n.analysis||[]},Ja=(e,t)=>Object.values(ds).filter(s=>!s.availability||!s.availability[e]?!1:s.availability[e].includes(t)).sort((s,n)=>s.distance!==n.distance?s.distance-n.distance:s.name.localeCompare(n.name)),i_=(e,t)=>{const s=new Set(t.map(n=>"pb_"+n.id.toLowerCase()));return e.map(n=>({...n,fields:n.id==="pbs"?n.fields.filter(i=>!i.id.startsWith("pb_")||s.has(i.id)):n.fields}))};class ls{static calculateFatigueIndex(t){if(!t.test_30m_fly)return 0;let s=t.test_120m||t.test_80m||t.test_60m||0,n=t.test_120m?120:t.test_80m?80:t.test_60m?60:0;return s>0?30/t.test_30m_fly/(n/s):0}static calculatePrestigeIndex(t){return!t.cmj_height||!t.sj_height?0:(t.cmj_height-t.sj_height)/t.sj_height*100}static calculateF0(t,s){return t/s}static calculatePmax(t,s){return this.calculateF0(t,s)*t/4}}class Xf{constructor(){this.CONSTANTS={DEFAULT_RT:ks.REACTION_TIME.OFFICIAL}}predict(t,s){var r,a;const n=ds[s];if(!n)throw new Error(`Discipline ${s} non supporte.`);const i=this.calculateProfile(t);let o={time:0,range:0,splits:[],method:"Model",tags:[],warnings:i.warnings||[],sources:i.sources||[]};switch(n.type){case Xt.FLAT:o=this.predictFlat(i,n,t);break;case Xt.FLAT_LONG:o=this.predictFlatLong(i,n,t);break;case Xt.LONG_SPRINT:o=this.predictLongSprint(i,n,t);break;case Xt.HURDLES:o=this.predictHurdles(i,n,t);break;case Xt.HURDLES_LONG:o=this.predictHurdlesLong(i,n,t);break}return((r=i.warnings)==null?void 0:r.length)>0&&(o.warnings=[...o.warnings||[],...i.warnings]),((a=i.sources)==null?void 0:a.length)>0&&(o.sources=[...o.sources||[],...i.sources]),{...o,profile:i}}predictFlat(t,s,n){var E,B,$,j;const{vmax:i,tau:o,rt:r}=t,{distance:a,params:l}=s;let u=this.calculateTimeAtDistance(a,i,o)+r,d=null,h="",p=((E=l.kFactor)==null?void 0:E.default)||.2;n.category==="U16"?p=((B=l.kFactor)==null?void 0:B.U16)||p:(["U18","U20"].includes(n.category)||n.gender==="F")&&(p=(($=l.kFactor)==null?void 0:$.U18)||((j=l.kFactor)==null?void 0:j.F)||p);const m=n.metrics;a===100&&l.baseStartCost&&(m.test_30m_fly?(d=m.test_30m_fly*3.33+l.baseStartCost+p,h=`Fly-to-100 (K=${p}s)`):m.test_20m_fly&&(d=m.test_20m_fly*5+l.baseStartCost+p,h="Fly-to-100 (20m)"));let g=null;l.meroRatio&&(g=(m.pb_60m||this.calculateTimeAtDistance(60,i,o)+r)*l.meroRatio);let x=l.accelBonusThreshold&&m.test_30m_block&&m.test_30m_block<l.accelBonusThreshold?ks.ACCEL_BONUS:0,v=u,_="Modle Physique";d?(v=d,_=h,g&&g-d>.15&&(v=d*.7+g*.3,_+=" + Mero-correction"),x>0&&(v-=x,_+=" + Accel-bonus")):g&&a===100&&(v=g,_="Loi de Mero");const C=m[`pb_${a}m`]||(a===100?m.pb_100m:null);C&&C-v>.5&&(v=(v+C)/2,_="Moyenne (Potentiel vs Ralis)");const S=this.generateSplits(v,u,a,t,m.step_len_avg_r||2);return{time:v,range:.1,splits:S,scaleFactor:v/u,tags:[_]}}predictFlatLong(t,s,n){const{params:i,distance:o}=s;let r=n.metrics.pb_100m||parseFloat(this.predictFlat(t,ds["100m"],n).time),a=i.deltas.neutral,l="Neutre";const c=t.endurance;c>i.fatigueIndexThresholds.speed?(a=i.deltas.speed,l="Speed-Biased"):c<i.fatigueIndexThresholds.endurance&&c>0&&(a=i.deltas.endurance,l="Endurance-Biased");const u=r*2+a,d=[],p=this.predictFlat(t,ds["100m"],n).splits.find(v=>v.distance===50)||{time:r*.6,velocity:0};d.push({distance:50,time:p.time,segmentTime:p.time,velocity:p.velocity}),d.push({distance:100,time:r,segmentTime:r-p.time,velocity:50/(r-p.time)});const g=(u-r)*.49,x=r+g;return d.push({distance:150,time:x,segmentTime:g,velocity:50/g}),d.push({distance:200,time:u,segmentTime:u-x,velocity:50/(u-x)}),{time:u,range:.25,splits:d,scaleFactor:1,tags:[l,`Base 100m + Delta ${a}s`]}}predictLongSprint(t,s,n){const{params:i}=s;let o=n.metrics.pb_200m||parseFloat(this.predictFlatLong(t,ds["200m"],n).time);const r=t.endurance;let a=i.margins.default;r>i.fatigueIndexThresholds.sprinter?a=n.category==="U16"?i.margins.U16_sprinter:i.margins.sprinter:r<i.fatigueIndexThresholds.resistant&&r>0&&(a=i.margins.resistant);const l=o*2+a;let c=ks.PACING_400M[n.category]||ks.PACING_400M.ELITE;r>1.25&&(c+=.5);const u=o+c,d=[{distance:200,time:u,segmentTime:u,velocity:200/u},{distance:400,time:l,segmentTime:l-u,velocity:200/(l-u)}];return{time:l,range:.8,splits:d,scaleFactor:1,tags:["ASR Model",`Margin +${a}s`]}}predictHurdles(t,s,n){const i=this.predictFlat(t,s,n),o=parseFloat(i.time),r=s.params.ieTarget;let a=r.default||1;return n.category==="U16"?a=r.U16||a:["U18","U20"].includes(n.category)?a=r.U18||a:n.gender==="F"?a=r.F||a:n.gender==="M"&&(a=r.M||a),{time:o+a,range:.3,splits:i.splits,tags:["Technique Index",`IE Target: +${a}s`]}}predictHurdlesLong(t,s,n){const i=this.predictLongSprint(t,ds["400m"],n),o=parseFloat(i.time),r=s.params.diff400;let a=(n.gender==="F"?r.F:r.M)+(n.category==="U18"?r.U18_bonus:0);return{time:o+a,range:1,splits:i.splits,tags:["400mH Differential",`T400 + ${a}s`]}}generateSplits(t,s,n,i,o){const{vmax:r,tau:a,rt:l}=i,c=[],u=t/s;let d=l*u;const h=n<=110?5:10;for(let p=h;p<=n;p+=h){const m=(this.calculateTimeAtDistance(p,r,a)+l)*u,g=m-d,x=h/g,v=o*(.82+.18*(x/r)),_=x/v;c.push({distance:p,time:m,segmentTime:g,velocity:x,frequency:_,stepLength:v}),d=m}return c}calculateProfile(t){var g,x;const s=t.metrics,n=t.gender||"M",i=t.category||"ELITE",o=((g=Io[n])==null?void 0:g[i])||((x=Io[n])==null?void 0:x.ELITE);let r=o.vmax,a=o.tau,l=["Standards de catgorie"],c=[],u=[];if(s.test_30m_fly&&u.push({val:30/s.test_30m_fly,type:"30m Fly"}),s.test_20m_fly&&u.push({val:20/s.test_20m_fly,type:"20m Fly"}),s.pb_100m){const v=ks.VMAX_ESTIMATION_COEFF[i]||ks.VMAX_ESTIMATION_COEFF.ELITE;u.push({val:100/s.pb_100m*v,type:"Est. PB 100m"})}if(u.length>0){const v=u.filter(C=>C.type.includes("Fly")),_=v.length>0?v.reduce((C,S)=>C.val>S.val?C:S):u[0];r=_.val,l=[_.type]}const d=i==="U16"||i==="U18"?ks.REACTION_TIME.TRAINING_U18:ks.REACTION_TIME.TRAINING_ELITE;s.test_30m_block?(a=this.solveTau(30,s.test_30m_block-d,r),l.push("Test 30m Block")):s.pb_60m&&(a=this.solveTau(60,s.pb_60m-d,r),l.push("PB 60m")),r>12.6&&c.push("Vmax exceptionnelle : Proche ou suprieure aux limites humaines (12.5 m/s)."),a<.7&&c.push("Tau extrmement bas : Acclration potentiellement survalue.");const h=ls.calculateF0(r,a);h>13.5&&r<9.5&&c.push("Profil atypique : Acclration trs forte par rapport  la Vmax (Risque d'erreur de mesure).");const p=ls.calculatePmax(r,a),m=ls.calculateFatigueIndex(s);return{vmax:r,tau:a,rt:d,f0:h,pmax:p,endurance:m,sources:l,warnings:c}}solveTau(t,s,n){let i=1;for(let o=0;o<15;o++){let r=Math.exp(-s/i),a=n*(s+i*r-i)-t,l=n*(r*(1+s/i)-1);if(Math.abs(l)<1e-4)break;let c=i-a/l;if(Math.abs(c-i)<1e-4)return c;i=c}return Math.max(.5,Math.min(i,2.5))}calculateTimeAtDistance(t,s,n){let i=t/(s*.7);for(let o=0;o<15;o++){let r=Math.exp(-i/n),a=s*(i+n*r-n)-t,l=s*(1-r);if(Math.abs(a)<.001)return i;i=i-a/l}return i}}class As{static getRefData(t,s,n){const i=Ai[t];if(!i)return null;const o=i[s]||i.M;return o?o[n]||o.ELITE:null}static normalizeQuality(t,s){const n=e_[t];return n?Math.max(0,Math.min(100,100*(s-n.min)/(n.max-n.min))):50}static findBestLevel(t,s,n,i){const o=Ai[s];if(!o)return null;const r=o[n]||o.M;if(!r)return null;const a=["ELITE","U23","U20","U18","U16"],l=h=>{let p=r[h];if(!p)return null;for(const m of i.split("."))p=p?p[m]:null;return p};let c=!0;const u=l("ELITE"),d=l("U16")||l("U18")||l("U20");if(u&&d){const h=u.min!==void 0?u.min:u.target,p=d.min!==void 0?d.min:d.target;h!==void 0&&p!==void 0&&(c=h<p)}for(const h of a){const p=l(h);if(!p)continue;const m=p.min!==void 0?p.min:p.target,g=p.max!==void 0?p.max:p.target;if(c){if(t<=g)return h}else if(t>=m)return h}return"Loisir"}static generateAnalysisGrid(t,s,n,i){var d,h,p,m,g;const o=[],r=t.gender||"M",a=t.category||"U20",l=this.getRefData(n,r,a),c=this.getRefData("100m",r,a);if(l&&l.performance_ranges){const{min:x,max:v}=l.performance_ranges,_=parseFloat(s);let C=_<x?"excellent":_>v?"bad":"good";const S=this.findBestLevel(_,n,r,"performance_ranges");o.push({id:"perf",label:`Perf. Cible (${n})`,value:_,target:[x,v],status:C,level:S,unit:"s"})}if(t.metrics.test_30m_fly){const x=t.metrics.test_30m_fly;if((d=c==null?void 0:c.tests)!=null&&d.fly30m){const{min:v,max:_}=c.tests.fly30m;o.push({id:"fly30",label:"Vitesse Max (Fly 30m)",value:x,target:[v,_],status:x<v?"excellent":x>_?"bad":"good",level:this.findBestLevel(x,"100m",r,"tests.fly30m"),unit:"s"})}}if(t.metrics.test_30m_block){const x=t.metrics.test_30m_block;if((h=c==null?void 0:c.tests)!=null&&h.block30m){const v=c.tests.block30m.target;o.push({id:"block30",label:"Acclration (Block 30m)",value:x,target:v,status:x<=v?"good":"bad",level:this.findBestLevel(x,"100m",r,"tests.block30m"),unit:"s_target"})}}if(t.metrics.contact_time_r||t.metrics.contact_time_l){const x=t.metrics.contact_time_r||t.metrics.contact_time_l,v=x>10?x:x*1e3;if((p=c==null?void 0:c.mechanics)!=null&&p.contactTime){const{min:_,max:C}=c.mechanics.contactTime;o.push({id:"contact",label:"Stiffness (Contact)",value:v,target:[_,C],status:v<_?"excellent":v>C?"bad":"good",level:this.findBestLevel(v,"100m",r,"mechanics.contactTime"),unit:"ms"})}}if(t.metrics.cmj_height){const x=t.metrics.cmj_height;if((m=c==null?void 0:c.tests)!=null&&m.cmj){const{min:v,max:_}=c.tests.cmj;o.push({id:"cmj",label:"Dtente Verticale (CMJ)",value:x,target:[v,_],status:x>_?"excellent":x<v?"bad":"good",level:this.findBestLevel(x,n,r,"tests.cmj"),unit:"cm"})}}if(i.vmax){const x=i.vmax;if((g=c==null?void 0:c.mechanics)!=null&&g.vMax){const{min:v,max:_}=c.mechanics.vMax;o.push({id:"vmax",label:"Vitesse Max (Vmax)",value:x,target:[v,_],status:x>_?"excellent":x<v?"bad":"good",level:this.findBestLevel(x,"100m",r,"mechanics.vMax"),unit:"speed"})}}if(i.tau){const v=this.getBenchmarkForAthlete(t).tau;o.push({id:"tau",label:"Acclration (Tau)",value:i.tau,target:[v-.05,v+.05],status:i.tau<v-.02?"excellent":i.tau>v+.05?"bad":"good",unit:"s"})}const u=i.pmax||ls.calculatePmax(i.vmax,i.tau);if(u){const v=this.getBenchmarkForAthlete(t).pmax;o.push({id:"pmax",label:"Puissance (Pmax)",value:u,target:[v-2,v+2],status:u>v+1?"excellent":u<v-2?"bad":"good",unit:"power"})}return o}static generateAdvice(t,s,n,i="100m"){const o={profile:t,metrics:s,athlete:n,targetEvent:i,advice:[],strengths:[],weaknesses:[]};return this._analyzeFVProfile(o),this._analyzeVelocityReserve(o),this._analyzePower(o),this._analyzeSSCEfficiency(o),this._analyzeVerticalStiffness(o),this._analyzeKinematicBalance(o),this._analyzeFatigue(o),this._analyzeHurdles(o),this._analyzeSprintProfile(o),this._analyze400mStrategy(o),{advice:o.advice,strengths:o.strengths,weaknesses:o.weaknesses}}static _analyzeFVProfile(t){const{profile:s,athlete:n}=t,i=s.f0,o=s.vmax,r=i/o;i>Vt.f0.high&&(t.strengths.push("Explosivit brute : Capacit de production de force horizontale initiale hors norme."),o>=10.5&&t.strengths.push("Profil complet : Alliance rare entre acclration foudroyante et haute vlocit.")),r>Vt.fv_ratio.high?o<Vt.vmax.low&&t.advice.push("Orientation Vitesse Max : Votre profil est 'Force-Dominant'. Privilgiez le sprint lanc pour dbloquer votre plafond de vitesse."):i<Vt.f0.low&&(t.weaknesses.push("Dficit de puissance initiale : Capacit de projection horizontale limite au dpart."),t.advice.push("Dveloppement Force-Vitesse : Travaillez la force maximale (Squat/Fentes) combine  des dparts rsists (Heavy Sled)."))}static _analyzeVelocityReserve(t){const{metrics:s,profile:n}=t;if(!s.pb_100m)return;const i=100/s.pb_100m,o=n.vmax/i;o>Vt.vri.high?(t.weaknesses.push("Sous-exploitation de la Vmax : cart trop important entre votre pointe de vitesse et votre chrono."),t.advice.push("Priorit Endurance de Vitesse : Intgrez des rptitions de 80m-120m  haute intensit (95%+) pour maintenir votre vlocit plus longtemps.")):o<Vt.vri.low&&o>0&&(t.strengths.push("Efficacit temporelle : Capacit remarquable  maintenir une haute fraction de Vmax sur la distance."),t.advice.push("lvation du Plafond : Votre endurance est optimale, progressez dsormais en augmentant votre vitesse de pointe absolue."))}static _analyzePower(t){const{profile:s,athlete:n}=t,i=this.getBenchmarkForAthlete(n);s.pmax>i.pmax+2?t.strengths.push(`Puissance relative suprieure : Votre ratio Watts/kg (${s.pmax.toFixed(1)}) est une force majeure.`):s.pmax<i.pmax-3&&t.weaknesses.push("Dficit de puissance systmique : Puissance maximale produite insuffisante pour la catgorie.")}static _analyzeSSCEfficiency(t){const{metrics:s}=t,n=ls.calculatePrestigeIndex(s);n<=0||(n<Vt.prestige.low?(t.weaknesses.push("Dficit de ractivit (SSC lent) : Temps de transition excentrique/concentrique trop long."),t.advice.push("Travail Pliomtrique : Accentuez la pliomtrie basse (Pogos, corde  sauter) pour amliorer la raideur de cheville.")):n>Vt.prestige.high&&t.strengths.push("Ractivit lastique suprieure (SSC rapide) : Excellente utilisation de l'nergie stocke (Prestige Index)."))}static _analyzeVerticalStiffness(t){const{metrics:s,profile:n,athlete:i}=t,o=i.gender||"M",r=s.contact_time_r||s.contact_time_l;if(!r)return;const a=r>10?r:r*1e3,l=this.findBestLevel(a,"100m",o,"mechanics.contactTime");l&&l!=="Loisir"&&t.advice.push(`Analyse de l'appui : Votre temps de contact est class '${l}'.`),a>Vt.stiffness.high_ct&&n.vmax>Vt.stiffness.vmax_threshold?(t.weaknesses.push("Temps de sol excessifs : Manque de raideur (stiffness) verticale  haute vitesse."),t.advice.push("Renforcement de la Stiffness : Intgrez des bonds horizontaux et des montes de genoux 'griffes'.")):a<Vt.stiffness.elite_ct&&t.strengths.push("Stiffness d'lite : Temps de contact au sol trs brefs, signe d'une grande efficacit mcanique.")}static _analyzeKinematicBalance(t){const{metrics:s,profile:n,athlete:i}=t;if(!s.step_len_avg_r||n.vmax<=0)return;const o=n.vmax/s.step_len_avg_r,r=i.gender||"M",a=Vt.kinematic.freq[r];o<a.low?(t.weaknesses.push("Frquence gestuelle basse."),t.advice.push("Optimisation Vlocit : Travaillez la vitesse de pied et la coordination segmentaire (survitesse).")):o>a.high?(t.weaknesses.push("Amplitude de foule restreinte."),t.advice.push("Optimisation Amplitude : Travaillez la force de pousse et l'ouverture de hanche (amplitude active).")):o>=a.opt_min&&o<=a.opt_max&&t.strengths.push("quilibre cinmatique optimal : Rapport frquence/amplitude idal pour la performance.")}static _analyzeFatigue(t){const{profile:s}=t;s.endurance>Vt.fatigue.high&&(t.weaknesses.push("Dcroissance de vitesse prcoce."),t.advice.push("Capacit Tampon : Intgrez des sances de rsistance lactique."))}static _analyzeHurdles(t){const{metrics:s,targetEvent:n}=t,i=["50mH","60mH","100mH","110mH"].includes(n),o=n==="400mH";if(i){const r=s.pb_100m||(s.pb_60m?s.pb_60m*1.55:null),a=s[`pb_${n.toLowerCase()}`];if(r&&a&&n.includes("100")||n.includes("110")){const l=a-r;l<Vt.hurdles.ie_short.excellent?(t.strengths.push(`Technique de franchissement d'lite (IE: +${l.toFixed(2)}s).`),t.advice.push("Priorit Vitesse Plate : Votre technique est sature, gagnez en vitesse pure pour progresser.")):l>Vt.hurdles.ie_short.poor&&(t.weaknesses.push(`Dficit technique important (IE: +${l.toFixed(2)}s).`),t.advice.push("Focus Technique : Travaillez la jambe de retour et l'engagement du bassin au-dessus de la haie."))}}if(o){const r=s.pb_400m,a=s.pb_400mh;if(r&&a){const l=a-r;l<Vt.hurdles.diff_long.excellent?t.strengths.push("Efficacit rythmique suprieure sur 400mH."):l>Vt.hurdles.diff_long.poor&&(t.weaknesses.push("Gestion du rythme ou endurance spcifique 400mH perfectible."),t.advice.push("Schma de course : Travaillez la transition de rythme entre la 5me et la 8me haie."))}}}static _analyzeSprintProfile(t){const{metrics:s}=t,n=s.pb_60m,i=s.pb_100m,o=s.pb_200m;if(n&&i){const r=i/n;r<Vt.sprint_ratios.short_long.power?(t.strengths.push("Profil 'Dmarreur' : Excellente mise en action et maintien de la vitesse sur 60m."),t.advice.push("Focus Fin de Course : Travaillez la vlocit terminale pour mieux finir vos 100m.")):r>Vt.sprint_ratios.short_long.endurance&&(t.strengths.push("Profil 'Finisseur' : Capacit d'acclration prolonge."),t.advice.push("Focus Dpart : Optimisez votre pousse dans les blocs pour abaisser votre chrono de base."))}if(i&&o){const r=o/i;r<Vt.sprint_ratios.speed_endurance.speed?t.strengths.push("Haute endurance de vitesse : Trs faible dperdition entre le 100m et le 200m."):r>Vt.sprint_ratios.speed_endurance.endurance&&(t.weaknesses.push("Dficit d'endurance lactique : Chute de vitesse importante sur le deuxime 100m."),t.advice.push("Travail Spcifique : Intgrez des sances de 'Tempo' et de rsistance  haute intensit."))}}static _analyze400mStrategy(t){const{metrics:s,targetEvent:n}=t;if(n!=="400m")return;const i=s.pb_200m,o=s.pb_400m;if(i&&o){const r=o-i*2;r<Vt.long_sprint.asr_margin.speed?(t.strengths.push("Rsistance exceptionnelle sur 400m."),t.advice.push("Plafond de Vitesse : Votre endurance est dj trs haute, progressez en amliorant votre record sur 200m.")):r>Vt.long_sprint.asr_margin.resistant&&(t.weaknesses.push("Rserve de vitesse sous-exploite : cart trop important entre votre 200m et votre 400m."),t.advice.push("Focus Arobie/Lactique : Augmentez le volume de vos sances de rsistance spcifique 400m."))}}static analyzeConsistency(t,s,n){const i=[],o=n[`pb_${s.toLowerCase()}`];if(o){const r=o-t;r>.3?i.push({type:"opportunity",text:"Potentiel thorique suprieur au record actuel."}):r<-.2&&i.push({type:"anomaly",text:"Record actuel plus rapide que la prdiction physique."})}return i}static getStatusClasses(t){return t==="excellent"?"border-purple-200 bg-purple-50/30":t==="good"?"border-emerald-200 bg-emerald-50/30":t==="bad"?"border-red-200 bg-red-50/30":"border-slate-200 bg-white"}static getBadgeClasses(t){return t==="excellent"?"bg-purple-600 text-white":t==="good"?"bg-emerald-600 text-white":t==="bad"?"bg-red-600 text-white":"bg-slate-100 text-slate-600"}static getBenchmarkForAthlete(t){var i,o;const s=t.gender||"M",n=t.category||"ELITE";return((i=Io[s])==null?void 0:i[n])||((o=Io[s])==null?void 0:o.ELITE)}static calculateQualities(t,s,n){if(!t)return null;const i=ls.calculateFatigueIndex(s),o=ls.calculatePrestigeIndex(s),r=[{label:"Explosivit",score:this.normalizeQuality("tau",t.tau),isMissing:!s.test_30m_block&&!s.pb_60m},{label:"Vitesse Max",score:this.normalizeQuality("vmax",t.vmax),isMissing:!s.test_30m_fly&&!s.test_20m_fly},{label:"Endurance",score:this.normalizeQuality("endurance",i||1.25),isMissing:!i},{label:"Ractivit",score:this.normalizeQuality("reactivity",o||5),isMissing:!s.cmj_height||!s.sj_height},{label:"Puissance",score:this.normalizeQuality("pmax",t.pmax),isMissing:!t.tau}],a=this.getBenchmarkForAthlete(n),l=[{label:"Explosivit",score:this.normalizeQuality("tau",a.tau)},{label:"Vitesse Max",score:this.normalizeQuality("vmax",a.vmax)},{label:"Endurance",score:this.normalizeQuality("endurance",a.endurance)},{label:"Ractivit",score:this.normalizeQuality("reactivity",a.reactivity)},{label:"Puissance",score:this.normalizeQuality("pmax",a.pmax)}];return{scores:r,benchmarks:l}}static getPhysicsProfile(t){if(!t||!t.vmax||!t.tau)return null;const s=t.vmax,n=t.tau,i=ls.calculateF0(s,n),o=ls.calculatePmax(s,n);return{f0:i,vmax:s,pmax:o,tau:n}}static interpretFVProfile(t){if(!t)return null;const s=t.f0/t.vmax;return s>Vt.fv_ratio.high?{label:"Force-Dominant",color:"text-blue-400",description:"Forte capacit d'acclration initiale mais plafond de vitesse atteint rapidement.",advice:"Priorit : Sprint lanc, survitesse et travail de frquence gestuelle."}:s<Vt.fv_ratio.low?{label:"Velocity-Dominant",color:"text-emerald-400",description:"Excellente vitesse de pointe thorique mais manque d'explosivit en sortie de blocks.",advice:"Priorit : Force maximale (Squat), charges lourdes (Heavy Sled) et puissance initiale."}:{label:"Profil quilibr",color:"text-purple-400",description:"Bonne harmonie entre la force produite au dpart et la vitesse de pointe.",advice:"Continuez le dveloppement parallle des deux qualits pour lever le niveau global."}}}class pe{static getAtomicSegments(t,s=[]){const n=new Set([0]);s.forEach(c=>{typeof c.start=="number"&&n.add(c.start),typeof c.end=="number"&&n.add(c.end)});const i=Array.from(n).filter(c=>c!==null&&!isNaN(c)).sort((c,u)=>c-u),o=[],r=ds[t],a=(r==null?void 0:r.distance)||i[i.length-1];for(let c=1;c<i.length;c++){const u=i[c-1],d=i[c];d>a||Math.abs(d-u)<.01||o.push({start:u,end:d,label:`${u}-${d}m`})}const l=i[i.length-1];return l<a&&o.push({start:l,end:a,label:`${l}-${a}m`}),o}static calculateVirtualBest(t,s,n="speed"){if(!t||t.length===0)return null;const i=t[0].discipline,o=this.getAtomicSegments(i,s);let r=0,a=!0;o.forEach(u=>{const d=t.map(p=>{const m=p instanceof yt?p:new yt(p),g=m.getTimeAtDistance(u.start),x=m.getTimeAtDistance(u.end);return g!==null&&x!==null?x-g:999}),h=Math.min(...d);h===999?a=!1:r+=h});const l=n!=="time",c=s.map(u=>{const d=t.map(h=>{const p=h instanceof yt?h:new yt(h),m=p.getTimeAtDistance(u.start),g=p.getTimeAtDistance(u.end);if(m===null||g===null)return null;const x=g-m,v=u.end-u.start;if(n==="speed")return v/x;if(n==="time")return x;const _=p.calculateIntervals([u]);return _[0]?_[0][n]:null}).filter(h=>h!==null&&h>0);return d.length===0?null:l?Math.max(...d):Math.min(...d)});return{totalTime:a?r:0,segments:c}}static calculatePerformanceIndex(t,s){return!t||!s?0:s/t*100}static getSegmentConsistency(t,s){return!t||t.length<2?null:s.map(n=>{const i=t.map(l=>{const c=l instanceof yt?l:new yt(l),u=c.getTimeAtDistance(n.start),d=c.getTimeAtDistance(n.end);return u===null||d===null?null:(n.end-n.start)/(d-u)}).filter(l=>l!==null);if(i.length<2)return{label:n.label,cv:0};const o=i.reduce((l,c)=>l+c,0)/i.length,r=i.reduce((l,c)=>l+Math.pow(c-o,2),0)/i.length,a=Math.sqrt(r);return{label:n.label,mean:o,stdDev:a,cv:a/o*100}})}static projectPredictionToSegments(t,s,n="speed",i){if(!t||!t.profile||!t.splits)return null;const o=s.map(r=>{const a=p=>{if(p===0)return 0;const m=t.splits.find(_=>Math.abs(_.distance-p)<.01);if(m)return m.time;const g=t.splits.find(_=>_.distance>p),x=[...t.splits].reverse().find(_=>_.distance<=p)||{distance:0,time:0};if(!g)return t.time;const v=(p-x.distance)/(g.distance-x.distance);return x.time+v*(g.time-x.time)},l=a(r.start),u=a(r.end)-l,d=r.end-r.start;if(n==="speed")return d/u;if(n==="time")return u;const h=t.splits.filter(p=>p.distance>r.start&&p.distance<=r.end);return h.length>0?h.reduce((p,m)=>p+(p[n]||0),0)/h.length:0});return{totalTime:parseFloat(t.time),segments:o}}static getRaceTotalTime(t){if(!t)return 0;const s=t instanceof yt?t:new yt(t),n=parseInt(t.discipline),i=s.calculateIntervals([{start:0,end:n}])[0];return i?i.time:0}static getStartOffset(t){if(!t||!t.milestones)return 0;const s=t.milestones.find(n=>n.distance===0);return s?s.time:0}static formatRaceTime(t,s){const n=this.getStartOffset(s),i=t-n;return i<-.001?"---":i.toFixed(3)+"s"}}class ft{static time(t,s=2){return t==null||t===0?"-":t.toFixed(s)+"s"}static speed(t,s=2){return t==null||t===0?"-":t.toFixed(s)+" m/s"}static frequency(t,s=2){return t==null||t===0?"-":t.toFixed(s)+" Hz"}static distance(t,s=2){return t==null||t===0?"-":t.toFixed(s)+" m"}static diff(t,s=2){return t==null||t===0?"0.00":(t>0?"+":"")+t.toFixed(s)}static number(t,s=2){return t==null||t===0?"-":t.toFixed(s)}static chartTooltipConfig(t={}){return{backgroundColor:"#1e293b",titleFont:{size:12,weight:"bold"},bodyFont:{size:11},padding:10,cornerRadius:8,displayColors:!0,borderColor:"rgba(255,255,255,0.1)",borderWidth:1,callbacks:t}}}const Jf=[{id:"pbs",title:"Records Personnels (PB)",icon:"",description:"Vos meilleures performances officielles.",fields:[{id:"pb_50m",label:"PB 50m",unit:"s",placeholder:"6.xx",step:.01},{id:"pb_60m",label:"PB 60m",unit:"s",placeholder:"7.xx",step:.01},{id:"pb_80m",label:"PB 80m",unit:"s",placeholder:"9.xx",step:.01},{id:"pb_100m",label:"PB 100m",unit:"s",placeholder:"10.xx",step:.01},{id:"pb_200m",label:"PB 200m",unit:"s",placeholder:"21.xx",step:.01},{id:"pb_400m",label:"PB 400m",unit:"s",placeholder:"48.xx",step:.01},{id:"pb_50mh",label:"PB 50m Haies",unit:"s",placeholder:"6.xx",step:.01},{id:"pb_60mh",label:"PB 60m Haies",unit:"s",placeholder:"7.xx",step:.01},{id:"pb_100mh",label:"PB 100m Haies",unit:"s",placeholder:"13.xx",step:.01},{id:"pb_110mh",label:"PB 110m Haies",unit:"s",placeholder:"14.xx",step:.01},{id:"pb_400mh",label:"PB 400m Haies",unit:"s",placeholder:"52.xx",step:.01}]},{id:"tests_sprint",title:"Tests Vitesse & Acclration",icon:"",description:"Tests chronomtrs  l'entranement (Cellules/Timing Gates).",fields:[{id:"test_20m_block",label:"20m Block",unit:"s",placeholder:"3.xx",step:.01,tooltip:"Dpart arrt en block."},{id:"test_30m_block",label:"30m Block",unit:"s",placeholder:"4.xx",step:.01,tooltip:"Dpart arrt en block. Indicateur cl d'acclration."},{id:"test_20m_fly",label:"20m Lanc (Fly)",unit:"s",placeholder:"1.xx",step:.01,tooltip:"Distance lance. Vitesse maximale pure."},{id:"test_30m_fly",label:"30m Lanc (Fly)",unit:"s",placeholder:"2.xx",step:.01,tooltip:"Distance lance. Vitesse maximale pure."},{id:"test_60m",label:"60m (Entranement)",unit:"s",placeholder:"7.xx",step:.01},{id:"test_80m",label:"80m",unit:"s",placeholder:"9.xx",step:.01},{id:"test_120m",label:"120m",unit:"s",placeholder:"13.xx",step:.01,tooltip:"Indicateur d'endurance de vitesse."}]},{id:"tests_biomech",title:"Biomcanique (Optojump/Freelap)",icon:"",description:"Donnes techniques avances.",fields:[{id:"contact_time_r",label:"Temps Contact (D)",unit:"ms",placeholder:"1xx",step:1,tooltip:"Temps au sol  vitesse max."},{id:"contact_time_l",label:"Temps Contact (G)",unit:"ms",placeholder:"1xx",step:1},{id:"step_len_avg_r",label:"Long. Moy. Pas (D)",unit:"m",placeholder:"2.xx",step:.01},{id:"step_len_avg_l",label:"Long. Moy. Pas (G)",unit:"m",placeholder:"2.xx",step:.01},{id:"first_contact_dist",label:"Dist. 1er Appui",unit:"m",placeholder:"0.xx",step:.01,tooltip:"Distance entre la ligne et le 1er pied."},{id:"time_to_first_contact",label:"Temps 1er Appui",unit:"s",placeholder:"0.xx",step:.01}]},{id:"tests_power",title:"Puissance & Force",icon:"",description:"Tests physiques gnraux.",fields:[{id:"cmj_height",label:"CMJ (Saut)",unit:"cm",placeholder:"50.0",step:.5,tooltip:"Counter Movement Jump (Mains sur les hanches)."},{id:"sj_height",label:"Squat Jump (SJ)",unit:"cm",placeholder:"45.0",step:.5,tooltip:"Saut sans lan (Dpart flchi arrt)."},{id:"cmj_power",label:"Puissance CMJ",unit:"W/kg",placeholder:"50.0",step:.1},{id:"bound_test",label:"5 Foules (Bonds)",unit:"m",placeholder:"14.xx",step:.1,tooltip:"Distance totale sur 5 foules bondissantes."},{id:"shot_toss_fwd",label:"Lancer Avant",unit:"m",placeholder:"15.xx",step:.1},{id:"shot_toss_bwd",label:"Lancer Arrire",unit:"m",placeholder:"16.xx",step:.1}]}],Vn={Vmax:{term:"Vitesse Maximale (Vmax)",def:"La vitesse de pointe absolue atteinte par l'athlte, exprime en m/s. Scientifiquement, elle reprsente la limite suprieure de la capacit contractile des muscles  produire de la force  haute vlocit. C'est l'indicateur de performance brute le plus critique pour le 100m et le 200m."},Tau:{term:"Constante de Temps (Tau)",def:"Paramtre du modle de Morin/Samozino reprsentant l'acclration initiale. Un Tau faible (ex: 0.8s) signifie que l'athlte atteint sa Vmax trs rapidement (profil explosif). Il sert  quantifier l'efficacit de la mise en action et la production de force horizontale lors des premiers appuis."},Stiffness:{term:"Raideur Musculo-Tendineuse (Stiffness)",def:"Capacit du complexe muscle-tendon  agir comme un ressort rigide lors de l'impact au sol. Une raideur leve se traduit par des temps de contact trs courts (<100ms) et une meilleure restitution de l'nergie lastique, essentielle pour maintenir la vitesse en fin de course."},Fly:{term:"Sprint Lanc (Fly)",def:"Mthode d'valuation de la vitesse maximale o le chronomtrage dbute aprs une zone d'lan. Cela permet d'isoler la capacit de vlocit pure en liminant la variable de l'acclration initiale depuis les blocs."},CMJ:{term:"Counter Movement Jump (CMJ)",def:"Saut vertical avec contre-mouvement testant la puissance explosive des membres infrieurs. Il mesure l'utilisation du Cycle tirement-Dtente (SSC). Un score lev est fortement corrl  la capacit d'acclration initiale en sprint."},ASR:{term:"Anaerobic Speed Reserve (ASR)",def:"Diffrence entre la vitesse maximale de sprint et la vitesse  VO2max. Sur 400m, une ASR leve permet  l'athlte de courir  une fraction plus faible de sa vitesse maximale, retardant ainsi l'apparition de la fatigue neuromusculaire."},SSC:{term:"Cycle tirement-Dtente (SSC)",def:"Phnomne physiologique o une contraction excentrique (tirement) est immdiatement suivie d'une contraction concentrique. Ce cycle permet de produire une force bien suprieure  une contraction simple grce  l'nergie lastique stocke."},"Modle Physique":{term:"Modle de Dynamique Physique",def:"Calcul prdictif utilisant les lois de la physique (F=ma) adaptes au sprint. Il intgre la rsistance de l'air et les constantes physiologiques individuelles pour simuler une course idale base sur votre profil de force."},"Loi de Mero":{term:"Modle Statistique de Mero",def:"quation issue des recherches du Pr. Antti Mero. Elle utilise des corrlations historiques entre les temps de passage au 60m et le rsultat final au 100m pour prdire la capacit de maintien de la vitesse."},"Fly-to-100":{term:"Projection Fly-to-100",def:"Mthode de calcul estimant le temps sur 100m  partir d'un test de vitesse lanc (ex: Fly 30m). Elle permet de dissocier le potentiel de vitesse pure de la technique de dpart."},"Speed-Biased":{term:"Profil Vitesse (Speed-Biased)",def:"Dsigne un athlte dont la performance repose sur une Vmax trs leve mais qui possde une endurance de vitesse limite. Ce profil excelle souvent sur 60m et 100m mais ncessite un travail spcifique pour le 200m."},"Endurance-Biased":{term:"Profil Endurance (Endurance-Biased)",def:"Dsigne un athlte capable de maintenir un haut pourcentage de sa Vmax sur de longues dures. Moins explosif au dpart, ce profil est redoutable sur les fins de course de 100m et sur le 200m/400m."},"Profil Sprinter":{term:"Profil Sprinter (400m)",def:"Athlte de 400m venant des disciplines de vitesse pure. Sa stratgie de course repose sur un passage rapide au 200m pour capitaliser sur sa rserve de vitesse."},"Profil Rsistant":{term:"Profil Rsistant (400m)",def:"Athlte de 400m avec un profil physiologique orient vers le 800m. Sa force rside dans sa capacit  tolrer des niveaux d'acidose trs levs en fin de course."},"Technique Index":{term:"Indice de Technique de Haie",def:"Ratio calcul entre le temps sur les haies et le temps sur plat. Il quantifie la perte de temps spcifique au franchissement. Un indice optimal suggre que la technique de haie ne limite pas l'expression de la vitesse de l'athlte."},"IE Target":{term:"Index d'Efficacit (IE)",def:`La diffrence de temps cible entre un sprint plat et une course de haies. C'est l'objectif technique  atteindre pour que le passage d'obstacle soit considr comme "transparent" vis--vis de la vitesse de course.`},T400:{term:"Base de Temps 400m (T400)",def:"Le temps de rfrence sur 400m plat utilis pour calculer le potentiel sur 400m haies. Il sert de fondation pour valuer l'endurance spcifique  l'effort long du tour de piste."},Margin:{term:"Marge de Segment (Margin)",def:"cart temporel ajout entre deux segments de course (ex: entre le premier et le second 200m d'un 400m). Elle reprsente le cot nergtique et la fatigue accumule au cours de l'preuve."},"400mH Differential":{term:"Diffrentiel 400m Haies",def:"L'cart typique entre le record sur 400m plat et le 400m haies. Il mesure l'aptitude de l'athlte  maintenir son rythme malgr les 10 obstacles, combinant technique et gestion de l'effort."},"Moyenne (Potentiel vs Ralis)":{term:"Pondration Raliste",def:"Algorithme qui quilibre votre potentiel physique thorique (ce que vos muscles peuvent faire) avec vos records actuels (ce que vous avez dj prouv). Cela vite les prdictions trop optimistes ou dconnectes de la ralit du terrain."}},o_=[`Swiss Athletics - Tableaux de Performance & Standards (2026).
`,"Haugen, T. A., & Buchheit, M. (2016). Sprint Running Performance Monitoring: Methodological and Practical Considerations.","Weyand, P. G., et al. (2000). Faster top running speeds are achieved with greater ground forces not more rapid leg movements.","Morin, J. B., & Samozino, P. (2016). Interpreting Power-Force-Velocity profiles for individualized training. IJSPP.","Mero, A., Komi, P. V., & Gregor, R. J. (1992). Biomechanics of sprint running. A review.","Letzelter, M. & Letzelter, S. (1990). Entranement de force.","Di Prampero, P. E., et al. (2005). Sprint running: a new energetic approach."],r_={class:"max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 grid grid-cols-1 lg:grid-cols-12 gap-8"},a_={class:"lg:col-span-4 space-y-6 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar pr-1 pb-10"},l_={class:"bg-white rounded-xl p-5 border border-slate-200 shadow-sm"},c_={class:"flex items-center justify-between mb-4"},u_={class:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold border border-blue-100"},d_={class:"space-y-4"},f_={class:"grid grid-cols-2 gap-4"},h_={class:"space-y-4"},p_=["onClick"],m_={class:"text-sm font-bold text-slate-800 flex items-center"},g_={class:"mr-3 text-lg opacity-80"},b_={class:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-400"},x_={class:"p-4 pt-0 grid grid-cols-1 gap-4 sm:grid-cols-2 border-t border-slate-100"},v_={class:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1"},y_={class:"relative group"},__=["step","placeholder","onUpdate:modelValue"],w_={class:"absolute right-3 top-2 text-xs text-slate-400 font-medium"},k_={class:"pt-2"},A_=["disabled"],S_={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T_={key:1,class:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24"},C_={class:"lg:col-span-8 space-y-6",id:"analysis-content"},M_={class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden"},E_={class:"p-6 border-b border-slate-100 bg-slate-50/50 flex flex-wrap items-center justify-between gap-4"},I_={class:"relative"},P_=["value"],L_={key:0,class:"p-8 text-center animate-fade-in"},O_={class:"inline-flex flex-col items-center"},R_={class:"flex items-baseline justify-center gap-3 mt-2"},D_={class:"text-7xl font-black text-slate-900 tracking-tighter"},N_={key:0,class:"mt-4 flex flex-col items-center"},F_={class:"flex items-center gap-2"},$_={class:"w-32 h-1.5 bg-slate-100 rounded-full overflow-hidden"},B_={class:"text-xs font-bold text-slate-700"},j_={class:"mt-4 text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full"},V_={class:"mt-6 flex flex-wrap justify-center gap-2"},z_={class:"px-2.5 py-1 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100 shadow-sm cursor-help hover:bg-blue-100 transition-colors"},H_={key:0,class:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-slate-800 text-white text-[10px] rounded-lg shadow-xl w-56 z-50 pointer-events-none leading-relaxed font-normal"},U_={class:"font-bold block mb-1 text-center border-b border-slate-600 pb-1 text-blue-300 uppercase tracking-tighter"},W_={key:1,class:"py-20 text-center"},q_={key:0,class:"space-y-6 animate-fade-in"},G_={key:0,class:"space-y-2"},Y_={class:"mr-2 mt-0.5"},K_={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},X_={class:"flex justify-between items-start mb-1"},J_={class:"text-[10px] font-bold text-slate-400 uppercase flex items-center"},Q_={key:0,class:"group relative inline-block ml-1"},Z_={class:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-slate-800 text-white text-xs rounded-lg shadow-xl w-48 z-50 pointer-events-none normal-case font-normal"},t2={class:"font-bold block mb-1"},e2={key:1,class:"text-[9px] font-black px-1.5 py-0.5 rounded bg-blue-100 text-blue-700"},s2={class:"flex items-baseline gap-2 mb-3"},n2={class:"text-2xl font-bold text-slate-800 tracking-tight"},i2={class:"mt-auto pt-3 border-t border-slate-100 flex items-center justify-between"},o2={class:"text-[9px] text-slate-400 font-medium italic text-right leading-tight"},r2={key:1,class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},a2={class:"relative h-64 w-full"},l2={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},c2={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm lg:col-span-2"},u2={class:"overflow-hidden rounded-lg border border-slate-100"},d2={class:"w-full text-sm text-left"},f2={class:"font-mono text-slate-700 divide-y divide-slate-100"},h2={class:"px-4 py-2.5 font-medium text-slate-600 text-xs"},p2={class:"px-4 py-2.5 text-slate-900 font-bold"},m2={class:"px-4 py-2.5 text-blue-600 font-mono text-xs"},g2={class:"px-4 py-2.5 text-slate-400 text-[10px]"},b2={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},x2={class:"relative h-64 w-full"},v2={class:"bg-slate-900 rounded-xl p-6 border border-slate-800 shadow-sm"},y2={class:"flex items-center justify-between mb-6"},_2={key:0,class:"flex gap-4"},w2={class:"text-center"},k2={class:"text-xs font-bold text-white leading-none"},A2={class:"text-center"},S2={class:"text-xs font-bold text-blue-400 leading-none"},T2={class:"relative h-48 w-full"},C2={key:0,class:"mt-4 p-3 bg-white/5 rounded-lg border border-white/5 animate-fade-in"},M2={class:"flex items-center gap-2 mb-1"},E2={class:"text-[11px] text-slate-400 leading-tight"},I2={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},P2={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},L2={class:"space-y-2 text-sm text-slate-600 list-inside marker:text-green-500 pl-2"},O2={class:"space-y-2 text-sm text-slate-600 list-inside marker:text-orange-500 pl-2"},R2={class:"mt-8 pt-6 border-t border-slate-100"},D2={class:"space-y-2 text-sm text-slate-700 leading-relaxed bg-blue-50/50 p-4 rounded-lg border border-blue-100/50"},N2={class:"mt-12 pt-8 text-slate-400 text-xs text-start border-t border-slate-200"},F2={class:"space-y-1 opacity-70"},$2={key:1,class:"mt-12 pt-8 text-slate-400 text-xs text-start border-t border-slate-200"},B2={class:"space-y-1 opacity-70"},j2={class:"font-bold text-slate-500"},V2={__name:"Analysis",setup(e){const t=ct(new te),s=new Xf,n=ct(!1),i=ct("100m"),o=ct(null),r=ct(null),a=_t(()=>i_(Jf,u.value)),l=ct([!1,!1,!1,!1]),c=o_,u=_t(()=>Ja(t.value.gender,t.value.category));ms(u,Y=>{Y.length>0&&!Y.find(I=>I.id===i.value)&&(i.value=Y[0].id,j())});const d=_t(()=>{if(!o.value)return[];const Y=Xa(i.value,t.value.gender,t.value.category),I=pe.projectPredictionToSegments(o.value,Y,"speed",s),ht=pe.projectPredictionToSegments(o.value,Y,"time",s);return!I||!ht?[]:Y.map((lt,ut)=>({label:lt.label,distance:`${lt.start}-${lt.end}m`,time:ht.segments[ut],velocity:I.segments[ut]}))}),h=ct(null),p=ct(null),m=ct(null),g=ct(null),x=ct(null);let v=null,_=null,C=null;const S=()=>{const Y=Rt.getCurrentAthleteId();if(Y){const I=te.load(Y);I&&(t.value=I,Object.keys(t.value.metrics).length>0&&j())}},E=Y=>{l.value[Y]=!l.value[Y]},B=_t(()=>{var ht;const Y=t.value.gender||"M",I=(ht=Ai[i.value])==null?void 0:ht[Y];return I?Object.values(I).some(lt=>lt&&lt.standards):!1});let $=null;const j=()=>{$&&clearTimeout($),n.value=!0,$=setTimeout(()=>{try{o.value=s.predict(t.value,i.value),r.value=As.generateAdvice(o.value.profile,t.value.metrics,t.value,i.value),o.value.analysisGrid=As.generateAnalysisGrid(t.value,o.value.time,i.value,o.value.profile),o.value.consistency=As.analyzeConsistency(o.value.time,i.value,t.value.metrics),g.value=As.getPhysicsProfile(o.value.profile),x.value=As.interpretFVProfile(g.value),Ci(()=>{setTimeout(()=>{w()},50)})}catch(Y){console.error(Y),alert("Erreur lors du calcul.")}finally{n.value=!1,$=null}},400)},V=()=>{t.value.save(),Rt.setCurrentAthlete(t.value.id),j()},K=Y=>{const I=Object.keys(Vn).sort((ht,lt)=>lt.length-ht.length).find(ht=>Y.toLowerCase().includes(ht.toLowerCase()));return I?Vn[I]:null},R=_t(()=>{var I,ht,lt,ut,H;if(!o.value)return[];const Y=[...o.value.tags,...((I=o.value.consistency)==null?void 0:I.map(P=>P.text))||[],...((ht=o.value.analysisGrid)==null?void 0:ht.map(P=>P.label+" "+(P.obs||"")))||[],...((lt=r.value)==null?void 0:lt.strengths)||[],...((ut=r.value)==null?void 0:ut.weaknesses)||[],...((H=r.value)==null?void 0:H.advice)||[]].join(" ").toLowerCase();return Object.values(Vn).filter(P=>{const J=P.term.toLowerCase();return Y.includes(J)||Object.keys(Vn).some(X=>Vn[X]===P&&Y.includes(X.toLowerCase()))}).sort((P,J)=>P.term.localeCompare(J.term))}),w=()=>{Z(),q(),dt()},Z=()=>{var b,y;const Y=(b=h.value)==null?void 0:b.getContext("2d");if(!Y)return;v&&v.destroy();const I=["U16","U18","U20","U23","ELITE"],ht=t.value.gender,lt=(y=Ai[i.value])==null?void 0:y[ht];if(!lt)return;const ut=I.map(k=>{var D,F;return((F=(D=lt[k])==null?void 0:D.standards)==null?void 0:F.INTERNATIONAL)||null}),H=I.map(k=>{var D,F;return((F=(D=lt[k])==null?void 0:D.standards)==null?void 0:F.NATIONAL)||null}),P=I.map(k=>{var D,F;return((F=(D=lt[k])==null?void 0:D.standards)==null?void 0:F.REGIONAL)||null}),J=I.map(k=>k===t.value.category?parseFloat(o.value.time):null),X=`pb_${i.value.toLowerCase()}`,et=t.value.metrics[X]||null,L=I.map(k=>k===t.value.category?et:null);v=new Pe(Y,{type:"line",data:{labels:I,datasets:[{label:"International",data:ut,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.05)",fill:!0,tension:.3,spanGaps:!0},{label:"National",data:H,borderColor:"#22c55e",borderDash:[5,5],tension:.3,spanGaps:!0},{label:"Rgional",data:P,borderColor:"#94a3b8",borderDash:[2,2],tension:.3,spanGaps:!0},{label:"Record (PB)",data:L,type:"scatter",backgroundColor:"#f59e0b",borderColor:"#fff",borderWidth:2,pointRadius:7,zIndex:10},{label:"Potentiel",data:J,type:"scatter",backgroundColor:"#3b82f6",borderColor:"#fff",borderWidth:2,pointRadius:7,zIndex:11}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{reverse:!0,grid:{color:"#f1f5f9"},title:{display:!0,text:"Performance (s)",font:{size:10}}},x:{grid:{display:!1},ticks:{font:{weight:"bold"}}}},plugins:{legend:{position:"bottom",labels:{boxWidth:8,font:{size:10},usePointStyle:!0}},tooltip:ft.chartTooltipConfig({label:k=>`${k.dataset.label}: ${ft.number(k.raw)}s`})}}})},q=()=>{var ht;const Y=(ht=p.value)==null?void 0:ht.getContext("2d");if(!Y||!g.value)return;_&&_.destroy();const I=As.calculateQualities(g.value,t.value.metrics,t.value);I&&(_=new Pe(Y,{type:"radar",data:{labels:I.scores.map(lt=>lt.label),datasets:[{label:"Profil Actuel",data:I.scores.map(lt=>lt.score),backgroundColor:"rgba(37, 99, 235, 0.25)",borderColor:"#2563eb",borderWidth:3,pointBackgroundColor:lt=>I.scores[lt.dataIndex].isMissing?"#94a3b8":"#2563eb",pointBorderColor:"#fff",pointRadius:4,zIndex:10},{label:`Objectif ${t.value.category}`,data:I.benchmarks.map(lt=>lt.score),backgroundColor:"rgba(148, 163, 184, 0.1)",borderColor:"#94a3b8",borderWidth:2,borderDash:[5,5],pointRadius:0,fill:!0,zIndex:5}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:0,max:100,beginAtZero:!0,ticks:{display:!1,stepSize:20},grid:{color:"#f1f5f9"},angleLines:{color:"#f1f5f9"},pointLabels:{font:{size:10,weight:"bold"},color:"#64748b"}}},plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,font:{size:10}}},tooltip:ft.chartTooltipConfig({label:lt=>{const H=I.scores[lt.dataIndex].isMissing?" (Donne estime)":"";return`${lt.dataset.label}: ${lt.raw.toFixed(0)}/100${H}`}})}}}))},dt=()=>{var X;const Y=(X=m.value)==null?void 0:X.getContext("2d");if(!Y||!g.value)return;C&&C.destroy();const{f0:I,vmax:ht,pmax:lt}=g.value,ut=20,H=[],P=[],J=[];for(let et=0;et<=ut;et++){const L=ht/ut*et,b=I*(1-L/ht),y=b*L;J.push(L.toFixed(1)),H.push(b),P.push(y)}C=new Pe(Y,{type:"line",data:{labels:J,datasets:[{label:"Force (N/kg)",data:H,borderColor:"#3b82f6",backgroundColor:"transparent",borderWidth:3,tension:0,pointRadius:0,yAxisID:"y"},{label:"Puissance (W/kg)",data:P,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!0,tension:.4,pointRadius:0,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{title:{display:!0,text:"Vitesse (m/s)",color:"#94a3b8",font:{size:10}},grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"#64748b"}},y:{title:{display:!0,text:"Force (N/kg)",color:"#3b82f6",font:{size:10}},grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"#3b82f6"},min:0},y1:{position:"right",title:{display:!0,text:"Puissance (W/kg)",color:"#10b981",font:{size:10}},grid:{display:!1},ticks:{color:"#10b981"},min:0}},plugins:{legend:{display:!1},tooltip:ft.chartTooltipConfig({label:et=>`${et.dataset.label}: ${et.raw.toFixed(2)}`})}}})},at=Y=>As.getStatusClasses(Y),O=Y=>As.getBadgeClasses(Y),nt=Y=>{switch(Y.unit){case"s":return ft.time(Y.value);case"s_target":return ft.time(Y.value,2);case"ms":return ft.number(Y.value,0)+"ms";case"cm":return ft.number(Y.value,1)+" cm";case"speed":return ft.speed(Y.value);case"power":return ft.number(Y.value,1)+" W/kg";default:return ft.number(Y.value)}},gt=Y=>{if(Array.isArray(Y.target)){const[I,ht]=Y.target;switch(Y.unit){case"s":return`${ft.number(I)}-${ft.number(ht)}s`;case"ms":return`${ft.number(I,0)}-${ft.number(ht,0)}ms`;case"cm":return`${ft.number(I,0)}-${ft.number(ht,0)} cm`;case"speed":return`${ft.number(I)}-${ft.number(ht)} m/s`;case"power":return`${ft.number(I,1)}-${ft.number(ht,1)} W/kg`;default:return`${ft.number(I)}-${ft.number(ht)}`}}return Y.unit==="s_target"?`< ${ft.time(Y.target)}`:ft.number(Y.target)},qt=Y=>{if(!Y.target)return null;let I=0,ht=!1;if(Array.isArray(Y.target)){const[H,P]=Y.target;if(Y.value<H)I=Y.value-H;else if(Y.value>P)I=Y.value-P;else return null}else I=Y.value-Y.target;ht=["s","s_target","ms","tau"].includes(Y.unit||Y.id)?I<0:I>0;let ut=ft.diff(I);return Y.unit==="ms"&&(ut=(I>0?"+":"")+Math.round(I)+"ms"),Y.unit==="cm"&&(ut=(I>0?"+":"")+I.toFixed(1)+"cm"),Y.unit==="power"&&(ut=(I>0?"+":"")+I.toFixed(1)+" W/kg"),{val:ut,isGood:ht}};return Ve(()=>{S(),window.addEventListener("athlete-updated",S)}),(Y,I)=>{var ht,lt,ut;return T(),M("div",r_,[f("aside",a_,[f("section",l_,[f("div",c_,[I[4]||(I[4]=f("h2",{class:"text-sm font-bold text-slate-900 uppercase tracking-wide flex items-center"},[f("span",{class:"w-1 h-4 bg-blue-500 rounded-full mr-2"}),pt(" Athlte ")],-1)),f("div",u_,N(t.value.category)+" ("+N(t.value.age)+" ans) ",1)]),f("div",d_,[f("div",null,[I[5]||(I[5]=f("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Identifiant",-1)),zt(f("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=H=>t.value.name=H),onChange:V,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder-slate-400",placeholder:"Ex: Michael"},null,544),[[se,t.value.name]])]),f("div",f_,[f("div",null,[I[6]||(I[6]=f("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Anne",-1)),zt(f("input",{type:"number","onUpdate:modelValue":I[1]||(I[1]=H=>t.value.birthYear=H),onChange:V,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"2005"},null,544),[[se,t.value.birthYear,void 0,{number:!0}]])]),f("div",null,[I[8]||(I[8]=f("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Sexe",-1)),zt(f("select",{"onUpdate:modelValue":I[2]||(I[2]=H=>t.value.gender=H),onChange:V,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"},[...I[7]||(I[7]=[f("option",{value:"M"},"Homme",-1),f("option",{value:"F"},"Femme",-1)])],544),[[An,t.value.gender]])])])])]),f("div",h_,[(T(!0),M(rt,null,wt(a.value,(H,P)=>(T(),M("section",{key:H.title,class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden transition-all duration-200 hover:shadow-md"},[f("div",{onClick:J=>E(P),class:"p-4 flex items-center justify-between cursor-pointer bg-white hover:bg-slate-50 transition-colors select-none"},[f("h3",m_,[f("span",g_,N(H.icon),1),pt(" "+N(H.title),1)]),f("div",b_,[(T(),M("svg",{class:Nt(["w-3 h-3 transform transition-transform duration-300",{"rotate-180":l.value[P]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...I[9]||(I[9]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,p_),zt(f("div",x_,[(T(!0),M(rt,null,wt(H.fields,J=>(T(),M("div",{key:J.id},[f("label",v_,N(J.label),1),f("div",y_,[zt(f("input",{type:"number",step:J.step,placeholder:J.placeholder,"onUpdate:modelValue":X=>t.value.metrics[J.id]=X,onInput:V,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 text-sm font-medium focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all pl-3 pr-8 placeholder-slate-300"},null,40,__),[[se,t.value.metrics[J.id],void 0,{number:!0}]]),f("span",w_,N(J.unit),1)])]))),128))],512),[[o0,l.value[P]]])]))),128))]),f("div",k_,[f("button",{onClick:j,disabled:n.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 transition-all transform hover:-translate-y-0.5 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(T(),M("svg",T_,[...I[11]||(I[11]=[f("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),f("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(T(),M("svg",S_,[...I[10]||(I[10]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},null,-1),f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),pt(" "+N(n.value?"Calcul en cours...":"Lancer l'Analyse"),1)],8,A_)])]),f("article",C_,[f("div",M_,[f("div",E_,[I[13]||(I[13]=f("div",null,[f("h2",{class:"text-lg font-bold text-slate-900"},"Prdiction"),f("p",{class:"text-xs text-slate-500"},"Slectionnez la discipline cible")],-1)),f("div",I_,[zt(f("select",{"onUpdate:modelValue":I[3]||(I[3]=H=>i.value=H),onChange:j,class:"appearance-none bg-white border border-slate-300 hover:border-blue-400 rounded-lg pl-4 pr-10 py-2 text-slate-900 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all cursor-pointer shadow-sm"},[(T(!0),M(rt,null,wt(u.value,H=>(T(),M("option",{key:H.id,value:H.id},N(H.name),9,P_))),128))],544),[[An,i.value]]),I[12]||(I[12]=f("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500"},[f("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),o.value?(T(),M("div",L_,[f("div",O_,[I[16]||(I[16]=f("div",{class:"text-xs font-bold text-blue-600 uppercase tracking-widest mb-2 bg-blue-50 px-3 py-1 rounded-full border border-blue-100"},"Potentiel Estim",-1)),f("div",R_,[f("div",D_,N(Ct(ft).number(parseFloat(o.value.time))),1),I[14]||(I[14]=f("span",{class:"text-4xl font-bold text-slate-400"},"s",-1))]),t.value.metrics["pb_"+i.value.toLowerCase()]?(T(),M("div",N_,[I[15]||(I[15]=f("div",{class:"text-[10px] font-black text-slate-400 uppercase tracking-tighter mb-1"},"Indice de Ralisation",-1)),f("div",F_,[f("div",$_,[f("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:Ie({width:Math.min(100,Ct(pe).calculatePerformanceIndex(t.value.metrics["pb_"+i.value.toLowerCase()],o.value.time))+"%"})},null,4)]),f("span",B_,N(Ct(ft).number(Ct(pe).calculatePerformanceIndex(t.value.metrics["pb_"+i.value.toLowerCase()],o.value.time),1))+"% ",1)])])):st("",!0),f("div",j_,"Intervalle  "+N(Ct(ft).time(o.value.range)),1)]),f("div",V_,[(T(!0),M(rt,null,wt(o.value.tags,H=>(T(),M("div",{key:H,class:"group relative inline-block"},[f("span",z_,N(H),1),K(H)?(T(),M("div",H_,[f("span",U_,N(K(H).term),1),pt(" "+N(K(H).def)+" ",1),I[17]||(I[17]=f("svg",{class:"absolute text-slate-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255"},[f("polygon",{class:"fill-current",points:"0,0 127.5,127.5 255,0"})],-1))])):st("",!0)]))),128))])])):(T(),M("div",W_,[...I[18]||(I[18]=[Ds('<div class="w-16 h-16 bg-slate-100 text-slate-400 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h3 class="text-slate-900 font-medium text-lg">Prt  calculer</h3><p class="text-slate-500 mt-1 max-w-sm mx-auto">Remplissez les formulaires  gauche et lancez l&#39;analyse pour obtenir vos prdictions.</p>',3)])]))]),o.value?(T(),M("div",q_,[o.value.consistency&&o.value.consistency.length>0?(T(),M("div",G_,[(T(!0),M(rt,null,wt(o.value.consistency,H=>(T(),M("div",{key:H.text,class:Nt(["border px-3 py-2 rounded-lg text-sm flex items-start animate-fade-in",H.type==="anomaly"?"bg-red-50 text-red-800 border-red-200":"bg-emerald-50 text-emerald-800 border-emerald-200"])},[f("span",Y_,N(H.type==="anomaly"?"":""),1),f("span",null,N(H.text),1)],2))),128))])):st("",!0),f("div",K_,[(T(!0),M(rt,null,wt(o.value.analysisGrid,H=>(T(),M("div",{key:H.label,class:Nt(["p-4 rounded-xl border shadow-sm flex flex-col justify-between hover:shadow-md transition-all",at(H.status)])},[f("div",null,[f("div",X_,[f("div",J_,[pt(N(H.label)+" ",1),K(H.label)?(T(),M("div",Q_,[I[20]||(I[20]=f("svg",{class:"w-3 h-3 text-slate-300 cursor-help hover:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f("div",Z_,[f("span",t2,N(K(H.label).term),1),pt(" "+N(K(H.label).def)+" ",1),I[19]||(I[19]=f("svg",{class:"absolute text-slate-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255"},[f("polygon",{class:"fill-current",points:"0,0 127.5,127.5 255,0"})],-1))])])):st("",!0)]),qt(H)?(T(),M("div",{key:0,class:Nt(["text-[9px] font-black px-1.5 py-0.5 rounded flex items-center gap-1",qt(H).isGood?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"])},[f("span",null,N(qt(H).val),1)],2)):H.target?(T(),M("div",e2,"OK")):st("",!0)]),f("div",s2,[f("div",n2,N(nt(H)),1)])]),f("div",i2,[H.level?(T(),M("span",{key:0,class:Nt(["px-1.5 py-0.5 rounded text-[9px] font-black uppercase tracking-tighter",O(H.status)])},N(H.level),3)):st("",!0),f("div",o2," Cible: "+N(gt(H)),1)])],2))),128))]),B.value?(T(),M("div",r2,[I[21]||(I[21]=f("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6 flex items-center"},[f("svg",{class:"w-4 h-4 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),pt(" Positionnement & Courbe des Standards ")],-1)),f("div",a2,[f("canvas",{ref_key:"standardsChartCanvas",ref:h},null,512)])])):st("",!0),f("div",l2,[f("div",c2,[I[23]||(I[23]=f("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"},"Dcoupage de Course",-1)),f("div",u2,[f("table",d2,[I[22]||(I[22]=f("thead",{class:"text-xs text-slate-500 uppercase bg-slate-50 border-b border-slate-100"},[f("tr",null,[f("th",{class:"px-4 py-3"},"Dist."),f("th",{class:"px-4 py-3"},"Temps"),f("th",{class:"px-4 py-3"},"Segment"),f("th",{class:"px-4 py-3"},"V (m/s)")])],-1)),f("tbody",f2,[(T(!0),M(rt,null,wt(d.value,H=>(T(),M("tr",{key:H.distance,class:"hover:bg-slate-50 transition-colors"},[f("td",h2,N(H.label),1),f("td",p2,N(Ct(ft).time(H.time)),1),f("td",m2,N(H.distance),1),f("td",g2,N(Ct(ft).speed(H.velocity)),1)]))),128))])])])]),f("div",b2,[I[24]||(I[24]=f("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"},"Qualits athltiques",-1)),f("div",x2,[f("canvas",{ref_key:"radarChartCanvas",ref:p},null,512)])]),f("div",v2,[f("div",y2,[I[27]||(I[27]=f("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Profil Force-Vitesse",-1)),g.value?(T(),M("div",_2,[f("div",w2,[I[25]||(I[25]=f("p",{class:"text-[8px] text-slate-500 uppercase font-black"},"F0",-1)),f("p",k2,N(Ct(ft).number(g.value.f0)),1)]),f("div",A2,[I[26]||(I[26]=f("p",{class:"text-[8px] text-slate-500 uppercase font-black"},"Vmax",-1)),f("p",S2,N(Ct(ft).number(g.value.vmax)),1)])])):st("",!0)]),f("div",T2,[f("canvas",{ref_key:"fvProfileChartCanvas",ref:m},null,512)]),x.value?(T(),M("div",C2,[f("div",M2,[f("span",{class:Nt(["w-1.5 h-1.5 rounded-full bg-current",x.value.color])},null,2),f("span",{class:Nt(["text-[10px] font-black uppercase tracking-widest",x.value.color])},N(x.value.label),3)]),f("p",E2,N(x.value.description),1)])):st("",!0)])]),f("div",I2,[I[32]||(I[32]=f("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6"},"Diagnostique Technique",-1)),f("div",P2,[f("div",null,[I[28]||(I[28]=Ds('<div class="flex items-center mb-3"><div class="w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-2"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div><h4 class="font-bold text-slate-900">Points forts</h4></div>',1)),f("ul",L2,[(T(!0),M(rt,null,wt(((ht=r.value)==null?void 0:ht.strengths)||[],H=>(T(),M("li",{key:H},N(H),1))),128))])]),f("div",null,[I[29]||(I[29]=Ds('<div class="flex items-center mb-3"><div class="w-6 h-6 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center mr-2"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><h4 class="font-bold text-slate-900">Axes de travail</h4></div>',1)),f("ul",O2,[(T(!0),M(rt,null,wt(((lt=r.value)==null?void 0:lt.weaknesses)||[],H=>(T(),M("li",{key:H},N(H),1))),128))])])]),f("div",R2,[I[31]||(I[31]=f("h4",{class:"text-blue-600 font-bold mb-3 flex items-center"},[f("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),pt(" Conseils de Coach ")],-1)),f("div",D2,[(T(!0),M(rt,null,wt(((ut=r.value)==null?void 0:ut.advice)||[],H=>(T(),M("p",{key:H,class:"flex items-start"},[I[30]||(I[30]=f("span",{class:"text-blue-500 mr-2"},"",-1)),pt(" "+N(H),1)]))),128))])])])])):st("",!0),f("section",N2,[I[33]||(I[33]=f("h4",{class:"uppercase tracking-widest font-bold mb-4 opacity-50"},"Rfrences scientifiques",-1)),f("ul",F2,[(T(!0),M(rt,null,wt(Ct(c),H=>(T(),M("li",{key:H},N(H),1))),128))])]),R.value.length>0?(T(),M("section",$2,[I[34]||(I[34]=f("h4",{class:"uppercase tracking-widest font-bold mb-4 opacity-50"},"Glossaire",-1)),f("ul",B2,[(T(!0),M(rt,null,wt(R.value,H=>(T(),M("li",{key:H.term},[f("span",j2,N(H.term)+":",1),pt(" "+N(H.def),1)]))),128))])])):st("",!0)])])}}},z2={class:"bg-slate-900 rounded-2xl p-6 text-white mb-8 shadow-xl shadow-slate-200/50 overflow-hidden relative border border-slate-800"},H2={class:"flex items-center justify-between mb-6 border-b border-white/5 pb-4"},U2={class:"flex items-center gap-4"},W2={class:"flex items-center gap-2"},q2={key:0,class:"w-2 h-2 rounded-full bg-red-500 animate-pulse"},G2={class:"text-xs font-black uppercase tracking-[0.2em] text-slate-400"},Y2={class:"flex items-center gap-2"},K2={class:"cursor-pointer bg-blue-600 hover:bg-blue-500 px-3 py-1.5 rounded-lg text-[10px] font-black transition-all active:scale-95 flex items-center gap-2"},X2={key:0,class:"mb-6 space-y-0 rounded-xl overflow-hidden border border-white/10 bg-black"},J2={class:"aspect-video relative group"},Q2=["src"],Z2={class:"absolute top-4 left-4 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10 font-mono text-xs text-blue-400 tabular-nums"},tw={class:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 via-black/40 to-transparent pt-12"},ew=["max"],sw={class:"flex items-center justify-between p-4 bg-slate-800/80 backdrop-blur-sm border-t border-white/5"},nw={class:"flex items-center gap-4"},iw={key:0,class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},ow={key:1,class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},rw={class:"flex items-center bg-black/30 rounded-xl p-1 border border-white/5"},aw=["onClick"],lw={class:"flex items-center gap-3"},cw={class:"flex items-center gap-1 bg-black/30 px-2 py-1 rounded-lg border border-white/5"},uw={class:"flex flex-col items-center justify-center"},dw={class:"text-center"},fw={class:"text-2xl font-mono tabular-nums font-black text-blue-400 tracking-tighter drop-shadow-2xl mb-2"},hw={key:0,class:"text-[10px] font-mono text-slate-500 uppercase tracking-[0.1em]"},pw={class:"w-full grid grid-cols-1 md:grid-cols-2 gap-6 items-center"},mw={class:"bg-white/5 rounded-2xl p-4 border border-white/5"},gw={class:"flex items-center justify-between"},bw={class:"text-xl font-bold text-white"},xw={class:"flex gap-3"},vw=["disabled"],yw={class:"mt-6 pt-4 border-t border-white/5 text-[10px] text-slate-400 flex justify-between font-bold"},_w={key:0,class:"text-blue-500 flex items-center gap-1 animate-pulse"},ww={__name:"VideoAnalyzer",props:{nextMilestone:Object,hasMilestones:Boolean},emits:["capture","reset","set-as-start"],setup(e,{expose:t,emit:s}){const n=e,i=s,o=ct(null),r=ct(null),a=ct(!0),l=ct(0),c=ct(0),u=ct(1),d=ct(!1),h=ct(0),p=ct(0),m=ct(null),g=R=>{const w=R.target.files[0];w&&(r.value=URL.createObjectURL(w),a.value=!0)},x=()=>{r.value=null,a.value=!0},v=()=>{o.value&&(o.value.playbackRate=u.value,c.value=o.value.duration)},_=()=>{o.value&&(l.value=o.value.currentTime)},C=()=>{o.value&&(o.value.currentTime=l.value)},S=()=>{o.value&&(o.value.paused?(o.value.play(),a.value=!1):(o.value.pause(),a.value=!0))},E=R=>{o.value&&(o.value.pause(),a.value=!0,o.value.currentTime+=R)};ms(u,R=>{o.value&&(o.value.playbackRate=R)});const B=()=>{d.value=!0,h.value=performance.now(),p.value=0,m.value=setInterval(()=>{p.value=(performance.now()-h.value)/1e3},10)},$=()=>{d.value=!1,m.value&&(clearInterval(m.value),m.value=null)},j=()=>{const R=r.value?l.value:p.value;i("capture",R),!n.nextMilestone&&!r.value&&$()},V=R=>isNaN(R)?"0.00s":R.toFixed(2)+"s";t({getCurrentTime:()=>r.value?l.value:p.value});const K=R=>{if(!(R.target.tagName==="INPUT"||R.target.tagName==="TEXTAREA")){if(R.key===" "||R.code==="Space"){if(R.preventDefault(),R.repeat)return;r.value||d.value?j():B()}if(r.value){const w=R.shiftKey?1:.01;R.key==="ArrowRight"&&(R.preventDefault(),E(w)),R.key==="ArrowLeft"&&(R.preventDefault(),E(-w)),R.key.toLowerCase()==="l"&&(R.preventDefault(),S())}}};return Ve(()=>window.addEventListener("keydown",K)),In(()=>{window.removeEventListener("keydown",K),$()}),(R,w)=>{var Z;return T(),M("div",z2,[f("div",H2,[f("div",U2,[f("div",W2,[d.value?(T(),M("div",q2)):st("",!0),f("h4",G2,N(r.value?"Analyse Vido":d.value?"Enregistrement":"Outil de Capture"),1)])]),f("div",Y2,[f("label",K2,[f("input",{type:"file",accept:"video/*",class:"hidden",onChange:g},null,32),w[7]||(w[7]=f("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)),pt(" "+N(r.value?"Changer":"Charger Vido"),1)]),r.value?(T(),M("button",{key:0,onClick:x,class:"p-1.5 text-slate-500 hover:text-red-400 transition-colors"},[...w[8]||(w[8]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):st("",!0)])]),r.value?(T(),M("div",X2,[f("div",J2,[f("video",{ref_key:"videoRef",ref:o,src:r.value,class:"w-full h-full",onTimeupdate:_,onLoadedmetadata:v,onClick:S},null,40,Q2),f("div",Z2," T: "+N(V(l.value)),1),a.value?(T(),M("div",{key:0,onClick:S,class:"absolute inset-0 flex items-center justify-center bg-black/20 cursor-pointer hover:bg-black/40 transition-all"},[...w[9]||(w[9]=[f("div",{class:"w-16 h-16 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/20 scale-90 hover:scale-100 transition-transform"},[f("svg",{class:"w-8 h-8 text-white translate-x-1",fill:"currentColor",viewBox:"0 0 24 24"},[f("path",{d:"M8 5v14l11-7z"})])],-1)])])):st("",!0),f("div",tw,[zt(f("input",{type:"range",min:"0",max:c.value,step:"0.001","onUpdate:modelValue":w[0]||(w[0]=q=>l.value=q),onInput:C,class:"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-blue-500 hover:h-2 transition-all"},null,40,ew),[[se,l.value,void 0,{number:!0}]])])]),f("div",sw,[f("div",nw,[f("button",{onClick:S,class:"w-10 h-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full transition-colors"},[a.value?(T(),M("svg",iw,[...w[10]||(w[10]=[f("path",{d:"M8 5v14l11-7z"},null,-1)])])):(T(),M("svg",ow,[...w[11]||(w[11]=[f("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)])]))]),f("div",rw,[(T(),M(rt,null,wt([.25,.5,1],q=>f("button",{key:q,onClick:dt=>u.value=q,class:Nt(["px-2 py-1.5 rounded text-[9px] font-black transition-all",u.value===q?"bg-blue-600 text-white":"text-slate-500 hover:text-white"])},N(q)+"x ",11,aw)),64))])]),f("div",lw,[f("div",cw,[f("button",{onClick:w[1]||(w[1]=q=>E(-1)),class:"px-2 py-1.5 hover:bg-white/5 rounded-lg text-[10px] font-black text-slate-500",title:"Shift+Gauche"},"-1s"),f("button",{onClick:w[2]||(w[2]=q=>E(-.01)),class:"p-2 hover:bg-white/5 rounded-lg text-white",title:"Gauche"},[...w[12]||(w[12]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),f("button",{onClick:w[3]||(w[3]=q=>E(.01)),class:"p-2 hover:bg-white/5 rounded-lg text-white",title:"Droite"},[...w[13]||(w[13]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),f("button",{onClick:w[4]||(w[4]=q=>E(1)),class:"px-2 py-1.5 hover:bg-white/5 rounded-lg text-[10px] font-black text-slate-500",title:"Shift+Droite"},"+1s")]),f("button",{onClick:w[5]||(w[5]=q=>R.$emit("set-as-start",l.value)),class:"px-3 py-2 bg-blue-600/10 hover:bg-blue-600 text-blue-400 hover:text-white rounded-lg text-[10px] font-black transition-all border border-blue-600/20"}," DPART (0m) ")])])])):st("",!0),f("div",uw,[f("div",dw,[f("div",fw,[pt(N(V(r.value?l.value:p.value))+" ",1),r.value?(T(),M("span",hw," / "+N(V(c.value)),1)):st("",!0)])]),f("div",pw,[f("div",mw,[w[14]||(w[14]=f("p",{class:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1"},"Cible",-1)),f("div",gw,[f("div",bw,N(((Z=e.nextMilestone)==null?void 0:Z.label)||"Squence termine"),1),e.hasMilestones?(T(),M("button",{key:0,onClick:w[6]||(w[6]=q=>R.$emit("reset")),class:"text-[9px] px-2 py-1 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-lg transition-all uppercase font-black border border-red-500/20"}," Rinitialiser ")):st("",!0)])]),f("div",xw,[r.value?(T(),M("button",{key:1,onClick:j,disabled:!e.nextMilestone,class:Nt(["flex-1 py-6 sm:text-xl font-black rounded-2xl transition-all active:scale-95 shadow-xl uppercase tracking-widest",e.nextMilestone?"bg-blue-600 hover:bg-blue-500 text-white shadow-blue-600/40":"bg-slate-800 text-slate-600 cursor-not-allowed"])},N(e.nextMilestone?"Capturer Frame":"Termin"),11,vw)):(T(),M(rt,{key:0},[d.value?(T(),M("button",{key:1,onClick:j,class:"flex-[2] py-5 bg-white text-slate-900 sm:text-xl font-black rounded-2xl transition-all active:scale-95 shadow-xl shadow-white/10 uppercase tracking-widest"}," Capturer ")):(T(),M("button",{key:0,onClick:B,class:"flex-1 py-5 bg-blue-600 hover:bg-blue-500 text-white font-black rounded-2xl transition-all shadow-xl shadow-blue-900/40 text-lg uppercase tracking-wider"}," Dmarrer ")),d.value?(T(),M("button",{key:2,onClick:$,class:"flex-1 py-5 bg-slate-800 hover:bg-red-600 text-slate-400 hover:text-white rounded-2xl transition-all font-black uppercase text-xs"}," Stop ")):st("",!0)],64))])])]),f("div",yw,[w[16]||(w[16]=f("div",{class:"flex gap-4"},[f("span",null,"ESPACE : Capture"),f("span",null,"FLCHES : Pas--pas"),f("span",null,"SHIFT+FLCHES : +/- 1s"),f("span",null,"L : Play/Pause")],-1)),r.value?(T(),M("div",_w,[...w[15]||(w[15]=[f("div",{class:"w-1.5 h-1.5 rounded-full bg-blue-500"},null,-1),pt(" ANALYSE VIDO ACTIVE ",-1)])])):st("",!0)])])}}},kw={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Aw={class:"mb-8"},Sw={class:"flex mb-4","aria-label":"Breadcrumb"},Tw={class:"flex items-center space-x-2"},Cw={class:"flex items-center space-x-2"},Mw={class:"text-xs font-bold text-slate-900 uppercase tracking-widest"},Ew={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},Iw={class:"flex bg-slate-100 p-1 rounded-xl w-fit"},Pw={class:"flex items-center gap-3"},Lw={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ow={class:"lg:col-span-1 space-y-4"},Rw={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Dw={class:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto"},Nw={key:0,class:"p-8 text-center text-slate-400 italic text-sm"},Fw=["onClick"],$w={class:"flex justify-between items-start mb-1"},Bw={class:"font-bold text-slate-900"},jw={class:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 text-slate-600 rounded-full uppercase"},Vw={class:"text-xs text-slate-500 flex items-center gap-2"},zw={class:"lg:col-span-2"},Hw={key:0,class:"space-y-6"},Uw={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},Ww={class:"flex justify-between items-start mb-6"},qw={class:"flex items-center gap-4 text-sm text-slate-500"},Gw={class:"flex items-center gap-2"},Yw={class:"overflow-hidden border border-slate-100 rounded-xl mb-8"},Kw={class:"w-full text-left text-sm"},Xw={class:"divide-y divide-slate-100"},Jw={class:"px-4 py-3"},Qw=["onUpdate:modelValue"],Zw={class:"px-4 py-3"},tk=["onUpdate:modelValue"],ek={class:"px-4 py-3"},sk={class:"flex items-center gap-2"},nk=["onUpdate:modelValue"],ik=["onClick"],ok={class:"px-4 py-3 font-mono font-bold text-blue-600"},rk={class:"px-4 py-3 text-right space-x-2"},ak=["onClick"],lk=["onClick"],ck={key:0},uk={key:0,class:"mb-12"},dk={class:"overflow-hidden border border-slate-100 rounded-2xl shadow-sm bg-white"},fk={class:"w-full text-left text-sm border-collapse"},hk={class:"divide-y divide-slate-100"},pk={key:0,class:"hover:bg-blue-50/30 transition-colors group"},mk={class:"px-4 py-3"},gk={class:"font-black text-slate-400 group-hover:text-blue-600 text-[10px] uppercase tracking-widest"},bk={class:"px-4 py-3 text-xs font-bold text-slate-500"},xk={class:"px-4 py-3 font-mono font-bold text-slate-900"},vk={class:"px-4 py-3"},yk={class:"flex items-center gap-2"},_k={class:"font-black text-blue-600 tabular-nums"},wk={class:"hidden sm:block w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden"},kk={class:"px-4 py-3 text-slate-500 font-medium"},Ak={class:"px-4 py-3 font-bold text-slate-700"},Sk={class:"px-4 py-3 font-bold text-slate-700"},Tk={key:1,class:"mb-12"},Ck={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Mk={class:"bg-slate-900 rounded-2xl p-6 text-white shadow-xl"},Ek={class:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar"},Ik={class:"text-xs font-bold"},Pk={class:"flex items-center gap-3"},Lk=["onUpdate:modelValue"],Ok={class:"overflow-hidden border border-slate-100 rounded-2xl bg-white shadow-sm"},Rk={class:"w-full text-left text-sm"},Dk={class:"divide-y divide-slate-100"},Nk={class:"px-4 py-3 text-xs font-bold text-slate-700"},Fk={class:"px-4 py-3 text-right font-mono font-bold text-slate-900"},$k={class:"px-4 py-3 text-right"},Bk={class:"text-blue-600 font-black"},jk={key:2},Vk={class:"bg-slate-50 border border-slate-100 rounded-2xl p-5 mb-6"},zk={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Hk={class:"block text-[9px] font-black text-slate-400 uppercase mb-1"},Uk=["onUpdate:modelValue"],Wk={class:"overflow-hidden border border-slate-100 rounded-2xl bg-white/50"},qk={class:"w-full text-left text-xs border-collapse"},Gk={class:"divide-y divide-slate-100"},Yk={class:"px-4 py-2 font-bold text-slate-600"},Kk={class:"px-4 py-2 text-right font-mono text-slate-500"},Xk={class:"px-4 py-2 text-right font-black text-slate-900"},Jk={class:"px-4 py-2 text-right text-slate-600"},Qk={class:"px-4 py-2 text-right text-slate-600"},Zk={class:"mt-8 pt-8 border-t border-slate-100"},t5={key:1,class:"h-full flex flex-col items-center justify-center p-12 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200 text-slate-400"},e5={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm"},s5={class:"bg-white rounded-3xl shadow-xl w-full max-w-md overflow-hidden"},n5={class:"p-6 space-y-4"},i5=["value"],o5={class:"p-6 bg-slate-50 flex gap-3"},r5={__name:"RaceAnalysis",setup(e){const t=La(),s=ct(null),n=ct([]),i=ct(null),o=ct(!1),r=ct(null),a=_t(()=>s.value?Ja(s.value.gender,s.value.category):[]);ms(a,R=>{R.length>0&&!R.find(w=>w.id===l.value.discipline)&&(l.value.discipline=R[0].id)});const l=ct({discipline:"100m",name:"",date:new Date().toISOString().split("T")[0]}),c=_t(()=>{var Z,q;if(!i.value)return null;const R=n_(i.value.discipline,(Z=s.value)==null?void 0:Z.gender,(q=s.value)==null?void 0:q.category),w=i.value.milestones.length;return R[w]||null}),u=R=>pe.formatRaceTime(R,i.value),d=R=>{if(!i.value)return;const w=i.value instanceof yt?i.value:new yt(i.value);w.setMilestone(0,R,"split","Dpart (0m)"),w.save(),g(),i.value=yt.load(i.value.id)},h=_t(()=>i.value?(i.value instanceof yt?i.value:new yt(i.value)).segmentSpeeds:[]),p=_t(()=>i.value?(i.value instanceof yt?i.value:new yt(i.value)).hurdleAnalysis:[]),m=_t(()=>{var Z,q;if(!i.value)return[];const R=i.value instanceof yt?i.value:new yt(i.value),w=Xa(i.value.discipline,(Z=s.value)==null?void 0:Z.gender,(q=s.value)==null?void 0:q.category);return R.calculateIntervals(w)}),g=()=>{const R=t.query.athleteId||Rt.getCurrentAthleteId();R&&(s.value=te.load(R),n.value=yt.getByAthlete(R))},x=R=>{i.value=R},v=()=>{i.value&&(i.value.save(),n.value=yt.getByAthlete(s.value.id))},_=()=>{const R=new yt({athleteId:s.value.id,discipline:l.value.discipline,name:l.value.name,date:l.value.date});R.save(),g(),i.value=R,o.value=!1,l.value={discipline:"100m",name:"",date:new Date().toISOString().split("T")[0]}},C=R=>{confirm("Supprimer cette analyse ?")&&(R.delete(),i.value=null,g())},S=R=>{const w=on.generateShareLink(R.id);w&&navigator.clipboard.writeText(w).then(()=>{alert("Lien de partage de la course copi !")})},E=R=>{i.value.milestones.splice(R,1),v()},B=()=>{i.value&&i.value.milestones.push({label:"Nouveau jalon",type:"split",time:0,distance:0})},$=R=>{if(!i.value||!c.value)return;const w=c.value;i.value.milestones.push({label:w.label,type:w.type,distance:w.distance,time:parseFloat(R.toFixed(3))}),v()},j=()=>{confirm("Rinitialiser tous les jalons capturs pour cette course ?")&&(i.value.milestones=[],v())},V=R=>{if(r.value){const w=r.value.getCurrentTime();i.value.milestones[R].time=parseFloat(w.toFixed(3)),v()}},K=R=>new Date(R).toLocaleDateString("fr-CH",{day:"numeric",month:"long",year:"numeric"});return Ve(()=>{g()}),In(()=>{}),(R,w)=>{var q,dt,at;const Z=po("router-link");return T(),M("div",kw,[f("div",Aw,[f("nav",Sw,[f("ol",Tw,[f("li",null,[Tt(Z,{to:"/",class:"text-xs font-bold text-slate-400 hover:text-blue-600 uppercase tracking-widest transition-colors"},{default:Qt(()=>[...w[10]||(w[10]=[pt("Tableau de bord",-1)])]),_:1})]),f("li",Cw,[w[11]||(w[11]=f("svg",{class:"w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),f("span",Mw,N(((q=s.value)==null?void 0:q.name)||"Athlte"),1)])])]),f("div",Ew,[f("div",null,[w[14]||(w[14]=f("h2",{class:"text-4xl font-black text-slate-900 tracking-tight mb-4"},[pt(" Analyse des "),f("span",{class:"text-blue-600"},"courses")],-1)),f("div",Iw,[Tt(Z,{to:{path:"/races-analysis",query:{athleteId:(dt=s.value)==null?void 0:dt.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all bg-white text-blue-600 shadow-sm"},{default:Qt(()=>[...w[12]||(w[12]=[pt(" Dcoupe et liste ",-1)])]),_:1},8,["to"]),Tt(Z,{to:{path:"/races-evolution",query:{athleteId:(at=s.value)==null?void 0:at.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all text-slate-500 hover:text-slate-700"},{default:Qt(()=>[...w[13]||(w[13]=[pt(" volution & comparaison ",-1)])]),_:1},8,["to"])])]),f("div",Pw,[f("button",{onClick:w[0]||(w[0]=O=>o.value=!0),class:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-black rounded-xl transition-all shadow-lg shadow-blue-200 uppercase tracking-wider"},[...w[15]||(w[15]=[f("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),pt(" Nouvelle course ",-1)])])])])]),f("div",Lw,[f("div",Ow,[f("div",Rw,[w[17]||(w[17]=f("div",{class:"p-4 border-b border-slate-100 bg-slate-50/50"},[f("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest"},"Historique des courses")],-1)),f("div",Dw,[n.value.length===0?(T(),M("div",Nw," Aucune course analyse pour le moment. ")):st("",!0),(T(!0),M(rt,null,wt(n.value,O=>{var nt;return T(),M("div",{key:O.id,onClick:gt=>x(O),class:Nt(["p-4 cursor-pointer transition-colors hover:bg-slate-50",((nt=i.value)==null?void 0:nt.id)===O.id?"bg-blue-50/50 border-l-4 border-blue-600":""])},[f("div",$w,[f("span",Bw,N(O.name||O.discipline),1),f("span",jw,N(O.discipline),1)]),f("div",Vw,[w[16]||(w[16]=f("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),pt(" "+N(K(O.date)),1)])],10,Fw)}),128))])])]),f("div",zw,[i.value?(T(),M("div",Hw,[f("div",Uw,[f("div",Ww,[f("div",null,[zt(f("input",{"onUpdate:modelValue":w[1]||(w[1]=O=>i.value.name=O),onBlur:v,class:"text-2xl font-bold text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-1",placeholder:"Nom de la course (ex: Finale Rgionale)"},null,544),[[se,i.value.name]]),f("div",qw,[f("span",null,N(i.value.discipline),1),w[18]||(w[18]=f("span",null,"",-1)),zt(f("input",{type:"date","onUpdate:modelValue":w[2]||(w[2]=O=>i.value.date=O),onChange:v,class:"bg-transparent border-none p-0 text-sm focus:ring-0 text-slate-500 cursor-pointer"},null,544),[[se,i.value.date]])])]),f("div",Gw,[f("button",{onClick:w[3]||(w[3]=O=>S(i.value)),class:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"Partager cette course"},[...w[19]||(w[19]=[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])]),f("button",{onClick:w[4]||(w[4]=O=>C(i.value)),class:"p-2 text-slate-400 hover:text-red-600 transition-colors",title:"Supprimer"},[...w[20]||(w[20]=[f("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])]),Tt(ww,{ref_key:"videoAnalyzerRef",ref:r,"next-milestone":c.value,"has-milestones":i.value.milestones.length>0,onCapture:$,onReset:j,onSetAsStart:d},null,8,["next-milestone","has-milestones"]),f("div",null,[f("div",{class:"flex items-center justify-between mb-4"},[w[21]||(w[21]=f("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest"},"Temps de passage & Jalons",-1)),f("button",{onClick:B,class:"text-xs font-bold text-blue-600 hover:underline"},"Ajouter manuellement")]),f("div",Yw,[f("table",Kw,[w[26]||(w[26]=f("thead",{class:"bg-slate-50 text-slate-500 font-bold text-[10px] uppercase"},[f("tr",null,[f("th",{class:"px-4 py-3"},"Jalon"),f("th",{class:"px-4 py-3"},"Type"),f("th",{class:"px-4 py-3"},"Capture (v)"),f("th",{class:"px-4 py-3 text-blue-600"},"Course (s)"),f("th",{class:"px-4 py-3 text-right"},"Action")])],-1)),f("tbody",Xw,[(T(!0),M(rt,null,wt(i.value.milestones,(O,nt)=>(T(),M("tr",{key:nt,class:"group hover:bg-slate-50 transition-colors"},[f("td",Jw,[zt(f("input",{"onUpdate:modelValue":gt=>O.label=gt,onBlur:v,class:"bg-transparent border-none p-0 text-sm focus:ring-0 font-bold text-slate-900 w-full"},null,40,Qw),[[se,O.label]])]),f("td",Zw,[zt(f("select",{"onUpdate:modelValue":gt=>O.type=gt,onChange:v,class:"bg-transparent border-none p-0 text-xs focus:ring-0 text-slate-500 cursor-pointer"},[...w[22]||(w[22]=[f("option",{value:"split"},"Split",-1),f("option",{value:"takeoff"},"Take-off",-1),f("option",{value:"touchdown"},"Touch-down",-1)])],40,tk),[[An,O.type]])]),f("td",ek,[f("div",sk,[zt(f("input",{type:"number",step:"0.001","onUpdate:modelValue":gt=>O.time=gt,onBlur:v,class:"bg-transparent border-none p-0 text-xs font-mono text-slate-400 w-20"},null,40,nk),[[se,O.time,void 0,{number:!0}]]),f("button",{onClick:gt=>V(nt),class:"p-1 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded opacity-0 group-hover:opacity-100 transition-all",title:"Synchroniser avec le temps actuel"},[...w[23]||(w[23]=[f("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,ik)])]),f("td",ok,N(u(O.time)),1),f("td",rk,[O.distance===0?(T(),M("button",{key:0,onClick:gt=>d(O.time),class:"text-[9px] font-bold px-2 py-1 bg-blue-50 text-blue-600 rounded uppercase hover:bg-blue-100 transition-colors",title:"Synchroniser le dpart sur ce temps"}," Sync Start ",8,ak)):st("",!0),f("button",{onClick:gt=>E(nt),class:"p-1 text-slate-300 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-all"},[...w[24]||(w[24]=[f("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,lk)])]))),128)),i.value.milestones.length===0?(T(),M("tr",ck,[...w[25]||(w[25]=[f("td",{colspan:"5",class:"px-4 py-8 text-center text-slate-400 italic"},"Aucun jalon enregistr. Utilisez l'outil de capture ou l'ajout manuel.",-1)])])):st("",!0)])])]),m.value.length>0?(T(),M("div",uk,[w[28]||(w[28]=f("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4 flex items-center"},[f("span",{class:"mr-2"},""),pt(" Analyse Temporelle (Splits) ")],-1)),f("div",dk,[f("table",fk,[w[27]||(w[27]=f("thead",{class:"bg-slate-50 text-slate-500 font-bold text-[10px] uppercase border-b border-slate-100"},[f("tr",null,[f("th",{class:"px-4 py-3"},"Segment"),f("th",{class:"px-4 py-3"},"Distance"),f("th",{class:"px-4 py-3"},"Temps"),f("th",{class:"px-4 py-3 text-blue-600"},"Vitesse (m/s)"),f("th",{class:"px-4 py-3"},"Pas"),f("th",{class:"px-4 py-3"},"Frq. (Hz)"),f("th",{class:"px-4 py-3"},"Ampl. (m)")])],-1)),f("tbody",hk,[(T(!0),M(rt,null,wt(m.value,(O,nt)=>(T(),M(rt,{key:nt},[O?(T(),M("tr",pk,[f("td",mk,[f("span",gk,N(O.label),1)]),f("td",bk,N(O.start)+"-"+N(O.end)+"m ",1),f("td",xk,N(Ct(ft).time(O.time,3)),1),f("td",vk,[f("div",yk,[f("span",_k,N(Ct(ft).number(O.speed)),1),f("div",wk,[f("div",{class:"h-full bg-blue-500",style:Ie({width:Math.min(O.speed/12*100,100)+"%"})},null,4)])])]),f("td",kk,N(O.steps||"---"),1),f("td",Ak,N(O.frequency>0?Ct(ft).number(O.frequency):"---"),1),f("td",Sk,N(O.stepLength>0?Ct(ft).number(O.stepLength):"---"),1)])):st("",!0)],64))),128))])])])])):st("",!0),p.value.length>0?(T(),M("div",Tk,[w[33]||(w[33]=f("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4 flex items-center"},[f("span",{class:"mr-2"},""),pt(" Analyse spcifique Haies (Inter-haies) ")],-1)),f("div",Ck,[f("div",Mk,[w[30]||(w[30]=f("h5",{class:"text-[10px] font-bold text-blue-400 uppercase mb-4 tracking-widest"},"Nombre de pas entre les haies",-1)),f("div",Ek,[(T(!0),M(rt,null,wt(p.value,O=>(T(),M("div",{key:"hurdle-step-"+O.label,class:"flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors"},[f("span",Ik,N(O.label),1),f("div",Pk,[zt(f("input",{type:"number","onUpdate:modelValue":nt=>i.value.stepCounts[O.id]=nt,onBlur:v,placeholder:"---",class:"w-16 bg-white/10 border-none rounded-lg p-1.5 text-center text-sm font-bold focus:ring-2 focus:ring-blue-500 text-white"},null,40,Lk),[[se,i.value.stepCounts[O.id],void 0,{number:!0}]]),w[29]||(w[29]=f("span",{class:"text-[10px] text-slate-500 uppercase font-bold"},"pas",-1))])]))),128))])]),f("div",Ok,[f("table",Rk,[w[32]||(w[32]=f("thead",{class:"bg-slate-50 text-slate-400 font-bold text-[9px] uppercase"},[f("tr",null,[f("th",{class:"px-4 py-3"},"Squence"),f("th",{class:"px-4 py-3 text-right"},"Temps"),f("th",{class:"px-4 py-3 text-right"},"Vitesse")])],-1)),f("tbody",Dk,[(T(!0),M(rt,null,wt(p.value,O=>(T(),M("tr",{key:"hurdle-time-"+O.label,class:"hover:bg-slate-50 transition-colors"},[f("td",Nk,N(O.label),1),f("td",Fk,N(Ct(ft).time(O.time,3)),1),f("td",$k,[f("span",Bk,N(Ct(ft).number(O.speed)),1),w[31]||(w[31]=f("span",{class:"text-[9px] text-slate-400 ml-1"},"m/s",-1))])]))),128))])])])])])):st("",!0),h.value.length>0?(T(),M("div",jk,[w[36]||(w[36]=f("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4 flex items-center"},[f("span",{class:"mr-2"},""),pt(" Analyse Biomcanique (Segments) ")],-1)),f("div",Vk,[w[34]||(w[34]=f("h5",{class:"text-[10px] font-bold text-slate-400 uppercase mb-4 tracking-widest"},"Saisie du nombre de pas",-1)),f("div",zk,[(T(!0),M(rt,null,wt(h.value,O=>(T(),M("div",{key:"input-"+O.id,class:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 transition-all"},[f("label",Hk,N(O.segment),1),zt(f("input",{type:"number","onUpdate:modelValue":nt=>i.value.stepCounts[O.id]=nt,onBlur:v,placeholder:"Nb pas",class:"w-full bg-transparent border-none p-0 text-sm font-black text-slate-900 focus:ring-0"},null,40,Uk),[[se,i.value.stepCounts[O.id],void 0,{number:!0}]])]))),128))])]),f("div",Wk,[f("table",qk,[w[35]||(w[35]=f("thead",{class:"bg-slate-50/50 text-slate-400 font-bold text-[9px] uppercase border-b border-slate-100"},[f("tr",null,[f("th",{class:"px-4 py-2"},"Intervalle"),f("th",{class:"px-4 py-2 text-right"},"Temps"),f("th",{class:"px-4 py-2 text-right text-blue-500"},"Vitesse"),f("th",{class:"px-4 py-2 text-right"},"Frq."),f("th",{class:"px-4 py-2 text-right"},"Ampl.")])],-1)),f("tbody",Gk,[(T(!0),M(rt,null,wt(h.value,O=>(T(),M("tr",{key:O.segment,class:"hover:bg-slate-50 transition-colors"},[f("td",Yk,N(O.segment),1),f("td",Kk,N(Ct(ft).time(O.time,3)),1),f("td",Xk,N(Ct(ft).number(O.speed))+" m/s",1),f("td",Jk,N(O.frequency>0?Ct(ft).number(O.frequency)+" Hz":"---"),1),f("td",Qk,N(O.stepLength>0?Ct(ft).number(O.stepLength)+" m":"---"),1)]))),128))])])])])):st("",!0)]),f("div",Zk,[w[37]||(w[37]=f("label",{class:"block text-sm font-bold text-slate-900 uppercase tracking-widest mb-2"},"Notes & Analyse",-1)),zt(f("textarea",{"onUpdate:modelValue":w[5]||(w[5]=O=>i.value.note=O),onBlur:v,rows:"4",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-4",placeholder:"Ex: Bonnes sensations, vent de face en ligne droite, fatigue en fin de course..."},null,544),[[se,i.value.note]])])])])):(T(),M("div",t5,[...w[38]||(w[38]=[f("svg",{class:"w-16 h-16 mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),f("p",{class:"font-bold"},"Slectionnez une course pour voir son analyse",-1),f("p",{class:"text-sm"},"Ou crez-en une nouvelle pour commencer le dcoupage.",-1)])]))])]),o.value?(T(),M("div",e5,[f("div",s5,[w[42]||(w[42]=f("div",{class:"p-6 border-b border-slate-100"},[f("h3",{class:"text-xl font-bold text-slate-900"},"Nouvelle course")],-1)),f("div",n5,[f("div",null,[w[39]||(w[39]=f("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Discipline",-1)),zt(f("select",{"onUpdate:modelValue":w[6]||(w[6]=O=>l.value.discipline=O),class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},[(T(!0),M(rt,null,wt(a.value,O=>(T(),M("option",{key:O.id,value:O.id},N(O.name),9,i5))),128))],512),[[An,l.value.discipline]])]),f("div",null,[w[40]||(w[40]=f("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Nom de la course / Sance",-1)),zt(f("input",{"onUpdate:modelValue":w[7]||(w[7]=O=>l.value.name=O),type:"text",placeholder:"Ex: Meeting de Genve",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},null,512),[[se,l.value.name]])]),f("div",null,[w[41]||(w[41]=f("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Date",-1)),zt(f("input",{"onUpdate:modelValue":w[8]||(w[8]=O=>l.value.date=O),type:"date",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},null,512),[[se,l.value.date]])])]),f("div",o5,[f("button",{onClick:w[9]||(w[9]=O=>o.value=!1),class:"flex-1 px-4 py-3 text-sm font-bold text-slate-500 hover:text-slate-700 transition-colors"},"Annuler"),f("button",{onClick:_,class:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded-xl transition-all"},"Crer l'analyse")])])])):st("",!0)])}}},a5={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},l5={class:"mb-8"},c5={class:"flex mb-4","aria-label":"Breadcrumb"},u5={class:"flex items-center space-x-2"},d5={class:"flex items-center space-x-2"},f5={class:"text-xs font-bold text-slate-900 uppercase tracking-widest"},h5={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},p5={class:"flex bg-slate-100 p-1 rounded-xl w-fit"},m5={class:"flex items-center gap-3 overflow-x-auto pb-2 lg:pb-0 custom-scrollbar"},g5={class:"flex bg-slate-100 p-1 rounded-xl whitespace-nowrap"},b5=["onClick"],x5={key:0,class:"p-12 text-center bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200"},v5={key:1,class:"space-y-6"},y5={class:"bg-white rounded-3xl p-6 border border-slate-200 shadow-sm"},_5={class:"h-56 w-full relative"},w5={class:"flex flex-wrap items-center justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-100 gap-4"},k5={class:"flex items-center gap-6"},A5={class:"flex items-center gap-3"},S5={class:"flex bg-slate-100 p-1 rounded-lg"},T5={class:"flex items-center gap-3"},C5={class:"flex bg-slate-100 p-1 rounded-lg"},M5=["onClick"],E5={class:"flex flex-wrap items-center gap-6"},I5={class:"flex items-center gap-3"},P5={class:"flex bg-slate-100 p-1 rounded-lg"},L5=["onClick"],O5={class:"flex items-center gap-3"},R5={class:"flex items-center gap-2 bg-slate-100 px-3 py-1.5 rounded-lg"},D5={class:"text-[10px] font-black text-slate-600 w-6"},N5={class:"flex items-center gap-3 border-l border-slate-200 pl-6 ml-2"},F5=["value"],$5={key:0,class:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden"},B5={class:"flex border-b border-slate-100 bg-slate-50/80 backdrop-blur-sm sticky top-0 z-20"},j5={class:"flex-1 flex"},V5={class:"text-[9px] font-black text-slate-400 uppercase"},z5={class:"divide-y divide-slate-100 bg-slate-50/30"},H5={key:0,class:"flex border-b border-blue-100 bg-blue-50/30 relative"},U5={class:"w-40 flex-shrink-0 p-4 border-r border-blue-100 flex flex-col justify-center"},W5={class:"text-xl font-black text-blue-600 tabular-nums"},q5={class:"flex-1 flex"},G5={class:"w-full h-full rounded flex items-center justify-center border border-blue-200/50 bg-white/50"},Y5={class:"text-xs font-black text-blue-500"},K5={key:1,class:"flex border-b border-purple-100 bg-purple-50/30 relative"},X5={class:"w-40 flex-shrink-0 p-4 border-r border-purple-100 flex flex-col justify-center"},J5={class:"text-xl font-black text-purple-600 tabular-nums"},Q5={class:"flex-1 flex"},Z5={class:"w-full h-full rounded flex items-center justify-center border border-purple-200/50 bg-white/50"},t4={class:"text-xs font-black text-purple-500"},e4={key:2,class:"flex relative z-10 bg-yellow-50/50 border-b-2 border-yellow-200"},s4={class:"w-40 flex-shrink-0 p-4 border-r border-yellow-100 flex flex-col justify-center"},n4={class:"flex items-center gap-1 mb-1"},i4={class:"text-[10px] font-bold text-slate-500"},o4={class:"flex items-baseline gap-2"},r4={class:"text-xl font-black text-slate-900 tabular-nums"},a4={class:"flex-1 flex"},l4={class:"text-xs font-black"},c4={key:3,class:"flex border-b border-slate-100 bg-slate-50/50 relative"},u4={class:"flex-1 flex h-14"},d4={class:"text-[11px] font-black text-slate-800"},f4={class:"w-12 h-1 bg-slate-200 rounded-full mt-1 overflow-hidden"},h4={class:"divide-y divide-slate-100"},p4={class:"w-40 flex-shrink-0 p-4 border-r border-slate-100 flex flex-col justify-center"},m4={class:"text-[10px] font-bold text-slate-500 mb-1 truncate"},g4={class:"flex items-baseline gap-2 flex-wrap"},b4={class:"text-sm font-black text-slate-800 tabular-nums"},x4={class:"flex-1 flex h-14"},v4={class:"text-xs font-black"},y4={key:1,class:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden divide-y divide-slate-100"},_4={key:0,class:"flex items-center p-4 bg-blue-50/30 relative group border-b border-blue-100"},w4={class:"w-48 flex-shrink-0 pr-6"},k4={class:"flex items-baseline gap-2"},A4={class:"text-2xl font-black text-blue-600 leading-none"},S4={key:0,class:"text-xs font-bold text-blue-500"},T4={class:"flex-1 relative py-4"},C4={class:"flex h-6 w-full bg-blue-100/30 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-blue-200/50"},M4={class:"text-[8px] font-black leading-none truncate"},E4={key:1,class:"flex items-center p-4 bg-purple-50/30 relative group border-b border-purple-100"},I4={class:"w-48 flex-shrink-0 pr-6"},P4={class:"flex items-baseline gap-2"},L4={class:"text-2xl font-black text-purple-600 leading-none"},O4={key:0,class:"text-xs ml-0.5 opacity-40"},R4={key:0,class:"text-xs font-bold text-purple-500"},D4={class:"flex-1 relative py-4"},N4={class:"flex h-6 w-full bg-purple-100/30 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-purple-200/50"},F4={class:"text-[8px] font-black leading-none truncate"},$4={class:"w-48 flex-shrink-0 pr-6"},B4={class:"flex items-center gap-2 mb-1"},j4={key:0,class:"text-[8px] font-black bg-yellow-400 text-white px-1.5 py-0.5 rounded uppercase"},V4={class:"text-[10px] font-black text-slate-400 tabular-nums uppercase"},z4={class:"flex items-baseline gap-2"},H4={class:"text-2xl font-black text-slate-900 leading-none"},U4=["onClick"],W4={class:"text-[10px] font-bold text-slate-400 truncate block mt-1"},q4={class:"flex-1 relative py-4"},G4={class:"absolute -bottom-1 -left-4 w-8 text-center text-[7px] font-black text-slate-500 uppercase leading-none"},Y4={class:"flex h-6 w-full bg-slate-100 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-slate-200"},K4={class:"text-[8px] font-black leading-none truncate"},X4={__name:"RacesEvolution",setup(e){const t=ct(null),s=ct([]),n=ct("100m"),i=ct("speed"),o=ct("indigo"),r=ct(10),a=ct("timeline"),l=ct(null),c={indigo:"Intensit",traffic:"Trafic",elite:"lite"},u={indigo:L=>{const b=96-L*50;return{backgroundColor:`hsl(230, 80%, ${b}%)`,color:b>65?"#1e1b4b":"#fff"}},traffic:L=>({backgroundColor:`hsl(${L<.5?L*2*45:45+(L-.5)*2*85}, 85%, 65%)`,color:"#1a1a1a"}),elite:L=>L<.7?{backgroundColor:`hsl(240, 10%, ${95-L/.7*20}%)`,color:"#1a1a1a"}:{backgroundColor:`hsl(${280-(L-.7)/.3*40}, 80%, 60%)`,color:"#fff"}},d=(L,b,y)=>{if(L==null||L===0||!b)return{backgroundColor:"#f8fafc",color:"#cbd5e1"};const D=y!=="time"?L/b:b/L,F=1-r.value/100,A=Math.max(0,Math.min(1,(D-F)/(1-F)));return u[o.value](A)},h=new Xf,p=ct(null),m=ct(null);let g=null;const x=[{id:"speed",label:"Vitesse",unit:"m/s"},{id:"frequency",label:"Frq.",unit:"Hz"},{id:"stepLength",label:"Ampl.",unit:"m"},{id:"time",label:"Temps",unit:"s"}],v=L=>{if(!t.value)return!1;const b=ut(L);if(b<=0)return!1;const y=`pb_${n.value.toLowerCase()}`,k=t.value.metrics[y]||999;return b<k-.005},_=L=>{if(!t.value)return;const b=ut(L),y=`pb_${n.value.toLowerCase()}`;t.value.metrics[y]=parseFloat(b.toFixed(2)),t.value.save(),K(),alert(`Record personnel (${n.value}) mis  jour dans le profil !`)},C=_t(()=>pe.projectPredictionToSegments(p.value,O.value,i.value,h));_t(()=>q.value?{segments:O.value.map((b,y)=>{const k=lt(q.value,y);return k?k[i.value]:0})}:null);const S=_t(()=>pe.calculateVirtualBest(Z.value,O.value,i.value)),E=_t(()=>{if(!l.value)return S.value;const L=Z.value.find(k=>k.id===l.value);if(!L)return S.value;const y=(L instanceof yt?L:new yt(L)).calculateIntervals(O.value).map(k=>k?k[i.value]:null);return{totalTime:pe.getRaceTotalTime(L),segments:y}}),B=_t(()=>{const L=l.value?Z.value.find(b=>b.id===l.value):null;return L?(L instanceof yt?L:new yt(L)).calculateIntervals(gt.value):Y.value}),$=_t(()=>q.value?(q.value instanceof yt?q.value:new yt(q.value)).calculateIntervals(gt.value):[]),j=_t(()=>{var L;return((L=E.value)==null?void 0:L.segments)||[]}),V=()=>{if(!q.value)return[];let L=0;return(q.value instanceof yt?q.value:new yt(q.value)).segmentSpeeds.map(y=>(L+=y.time,{label:y.label,percent:L/at.value*100}))},K=()=>{if(t.value)try{p.value=h.predict(t.value,n.value),Ci(()=>R())}catch(L){console.error(L)}},R=()=>{var G;const L=(G=m.value)==null?void 0:G.getContext("2d");if(!L)return;g&&g.destroy();const b=gt.value.map(z=>z.label),y=qt.value.map(z=>z?z[i.value]:null),k=B.value.map(z=>z?z[i.value]:null),D=$.value.map(z=>z?z[i.value]:null),F=x.find(z=>z.id===i.value),A=!!l.value;let U=-1;if(i.value==="speed"&&y.length>0){const z=y.filter(W=>W!==null);if(z.length>0){const W=Math.max(...z);U=y.indexOf(W)}}g=new Pe(L,{type:"line",data:{labels:b,datasets:[{label:`Potentiel thorique (${F.label})`,data:y,borderColor:"rgba(59, 130, 246, 0.4)",borderDash:[5,5],backgroundColor:"transparent",tension:.4,pointRadius:z=>z.dataIndex===U?6:0,pointBackgroundColor:"#3b82f6",pointBorderWidth:2,pointBorderColor:"#fff",zIndex:1,spanGaps:!0},{label:"Record (PB)",data:D,borderColor:"#facc15",backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:"#facc15",tension:.4,zIndex:2,spanGaps:!0},{label:A?"Course Ghost":"Record virtuel (VB)",data:k,borderColor:A?"#8b5cf6":"#2563eb",backgroundColor:A?"rgba(139, 92, 246, 0.1)":"rgba(37, 99, 235, 0.1)",fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:A?"#8b5cf6":"#2563eb",zIndex:0,spanGaps:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:ft.chartTooltipConfig({mode:"index",intersect:!1,label:z=>`${z.dataset.label}: ${ft.number(z.raw)}${F.unit}`})},scales:{y:{grid:{color:"#f1f5f9"},title:{display:!0,text:F.unit,font:{size:10,weight:"bold"}},beginAtZero:i.value!=="speed"},x:{grid:{display:!1}}}}})},w=_t(()=>{if(!t.value)return[];const L=Ja(t.value.gender,t.value.category),b=new Set(s.value.map(y=>y.discipline));return L.filter(y=>b.has(y.id))});ms(w,L=>{L.length>0&&!L.find(b=>b.id===n.value)&&(n.value=L[0].id)});const Z=_t(()=>s.value.filter(L=>L.discipline===n.value).sort((L,b)=>new Date(b.date)-new Date(L.date))),q=_t(()=>{const L=Z.value.filter(b=>ut(b)>0);return L.length===0?null:L.reduce((b,y)=>ut(y)<ut(b)-.001?y:b)}),dt=_t(()=>q.value?Z.value.filter(L=>L.id!==q.value.id):Z.value),at=_t(()=>{const L=Z.value.map(b=>ut(b)).filter(b=>b>0);return C.value&&L.push(C.value.totalTime),S.value&&L.push(S.value.totalTime),L.length>0?Math.max(...L)*1.05:15}),O=_t(()=>{var L,b;return Xa(n.value,(L=t.value)==null?void 0:L.gender,(b=t.value)==null?void 0:b.category)||[]}),nt=_t(()=>pe.getSegmentConsistency(Z.value,O.value)),gt=_t(()=>pe.getAtomicSegments(n.value,O.value)),qt=_t(()=>{const L=pe.projectPredictionToSegments(p.value,gt.value,i.value,h);if(!L)return[];const b=pe.projectPredictionToSegments(p.value,gt.value,"time",h);return gt.value.map((y,k)=>({time:b.segments[k],[i.value]:L.segments[k]}))}),Y=_t(()=>{const L=pe.calculateVirtualBest(Z.value,gt.value,i.value);if(!L)return[];const b=pe.calculateVirtualBest(Z.value,gt.value,"time");return gt.value.map((y,k)=>({time:b.segments[k],[i.value]:L.segments[k]}))}),I=L=>(L instanceof yt?L:new yt(L)).calculateIntervals(gt.value),ht=new Map,lt=(L,b)=>{if(!L)return null;const y=L.id+n.value+i.value;if(ht.has(y))return ht.get(y)[b];const D=(L instanceof yt?L:new yt(L)).calculateIntervals(O.value);return ht.set(y,D),D[b]},ut=L=>pe.getRaceTotalTime(L),H=L=>ft.diff(L),P=L=>i.value==="speed"?ft.number(L):i.value==="time"?ft.number(L,3):ft.number(L),J=(L,b)=>{const y=lt(L,b),k=j.value[b];return d(y==null?void 0:y[i.value],k,i.value)},X=L=>new Date(L).toLocaleDateString("fr-CH",{day:"numeric",month:"short"});ms([n,i,t,l],K);const et=()=>{const L=Rt.getCurrentAthleteId();if(L){const b=te.load(L);b&&(t.value=b,s.value=yt.getByAthlete(L),K())}};return Ve(()=>{et(),window.addEventListener("athlete-updated",et)}),(L,b)=>{var k,D,F;const y=po("router-link");return T(),M("div",a5,[f("div",l5,[f("nav",c5,[f("ol",u5,[f("li",null,[Tt(y,{to:"/",class:"text-xs font-bold text-slate-400 hover:text-blue-600 uppercase tracking-widest transition-colors"},{default:Qt(()=>[...b[5]||(b[5]=[pt("Tableau de bord",-1)])]),_:1})]),f("li",d5,[b[6]||(b[6]=f("svg",{class:"w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),f("span",f5,N(((k=t.value)==null?void 0:k.name)||"Athlte"),1)])])]),f("div",h5,[f("div",null,[b[9]||(b[9]=f("h2",{class:"text-4xl font-black text-slate-900 tracking-tight mb-4"},[pt(" Analyse des "),f("span",{class:"text-blue-600"},"courses")],-1)),f("div",p5,[Tt(y,{to:{path:"/races-analysis",query:{athleteId:(D=t.value)==null?void 0:D.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all text-slate-500 hover:text-slate-700"},{default:Qt(()=>[...b[7]||(b[7]=[pt(" Dcoupe et liste ",-1)])]),_:1},8,["to"]),Tt(y,{to:{path:"/races-evolution",query:{athleteId:(F=t.value)==null?void 0:F.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all bg-white text-blue-600 shadow-sm"},{default:Qt(()=>[...b[8]||(b[8]=[pt(" volution & comparaison ",-1)])]),_:1},8,["to"])])]),f("div",m5,[b[10]||(b[10]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest hidden lg:block"},"Discipline",-1)),f("div",g5,[(T(!0),M(rt,null,wt(w.value,A=>(T(),M("button",{key:A.id,onClick:U=>n.value=A.id,class:Nt(["px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all",n.value===A.id?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"])},N(A.name),11,b5))),128))])])])]),Z.value.length===0?(T(),M("div",x5,[...b[11]||(b[11]=[f("p",{class:"text-slate-400 font-bold"},"Aucune course enregistre pour cette discipline.",-1)])])):(T(),M("div",v5,[f("div",y5,[b[12]||(b[12]=Ds('<div class="flex items-center justify-between mb-6"><h3 class="text-xs font-black text-slate-400 uppercase tracking-widest">Thorie vs Ralit</h3><div class="flex items-center gap-4"><div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-blue-400/50"></div><span class="text-[10px] font-bold text-slate-500 uppercase">Potentiel thorique</span></div><div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-blue-600"></div><span class="text-[10px] font-bold text-slate-500 uppercase">Record virtuel (VB)</span></div></div></div>',1)),f("div",_5,[f("canvas",{ref_key:"comparisonChartCanvas",ref:m},null,512)])]),f("div",w5,[f("div",k5,[f("div",A5,[b[13]||(b[13]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Vue :",-1)),f("div",S5,[f("button",{onClick:b[0]||(b[0]=A=>a.value="grid"),class:Nt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",a.value==="grid"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-900"])},"Grille",2),f("button",{onClick:b[1]||(b[1]=A=>a.value="timeline"),class:Nt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",a.value==="timeline"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-900"])},"Chronologie",2)])]),f("div",T5,[b[14]||(b[14]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Mtrique :",-1)),f("div",C5,[(T(),M(rt,null,wt(x,A=>f("button",{key:A.id,onClick:U=>i.value=A.id,class:Nt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",i.value===A.id?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:text-slate-900"])},N(A.label),11,M5)),64))])])]),f("div",E5,[f("div",I5,[b[15]||(b[15]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Thme :",-1)),f("div",P5,[(T(),M(rt,null,wt(c,(A,U)=>f("button",{key:U,onClick:G=>o.value=U,class:Nt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",o.value===U?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-900"])},N(A),11,L5)),64))])]),f("div",O5,[b[16]||(b[16]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Tolrance :",-1)),f("div",R5,[zt(f("input",{type:"range",min:"2",max:"30","onUpdate:modelValue":b[2]||(b[2]=A=>r.value=A),class:"w-20 h-1.5 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"},null,512),[[se,r.value,void 0,{number:!0}]]),f("span",D5,N(r.value)+"%",1)])]),f("div",N5,[b[18]||(b[18]=f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Comparer :",-1)),zt(f("select",{"onUpdate:modelValue":b[3]||(b[3]=A=>l.value=A),class:"bg-slate-100 border-none rounded-lg px-3 py-1.5 text-[10px] font-black uppercase text-slate-700 focus:ring-2 focus:ring-blue-500/20 outline-none cursor-pointer"},[b[17]||(b[17]=f("option",{value:null},"Record Virtuel (VB)",-1)),(T(!0),M(rt,null,wt(Z.value,A=>(T(),M("option",{key:A.id,value:A.id},N(X(A.date))+" - "+N(A.name||A.discipline),9,F5))),128))],512),[[An,l.value]])])])]),a.value==="grid"?(T(),M("div",$5,[f("div",B5,[b[19]||(b[19]=f("div",{class:"w-40 flex-shrink-0 p-4 border-r border-slate-100"},[f("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Type / Chrono")],-1)),f("div",j5,[(T(!0),M(rt,null,wt(O.value,(A,U)=>(T(),M("div",{key:U,class:"flex-1 p-2 border-r border-slate-100 last:border-0 flex items-center justify-center"},[f("span",V5,N(A.label),1)]))),128))])]),f("div",z5,[C.value?(T(),M("div",H5,[b[21]||(b[21]=f("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-blue-400"},null,-1)),f("div",U5,[b[20]||(b[20]=f("span",{class:"text-[9px] font-black text-blue-500 uppercase tracking-tighter mb-1"},"Potentiel thorique",-1)),f("span",W5,N(C.value.totalTime.toFixed(2))+"s",1)]),f("div",q5,[(T(!0),M(rt,null,wt(C.value.segments,(A,U)=>(T(),M("div",{key:"pot-"+U,class:"flex-1 border-r border-blue-100/30 last:border-0 p-1"},[f("div",G5,[f("span",Y5,N(P(A)),1)])]))),128))])])):st("",!0),S.value?(T(),M("div",K5,[b[23]||(b[23]=f("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-purple-400"},null,-1)),f("div",X5,[b[22]||(b[22]=f("span",{class:"text-[9px] font-black text-purple-500 uppercase tracking-tighter mb-1"},"Record Virtuel (VB)",-1)),f("span",J5,N(S.value.totalTime>0?Ct(ft).number(S.value.totalTime)+"s":"---"),1)]),f("div",Q5,[(T(!0),M(rt,null,wt(S.value.segments,(A,U)=>(T(),M("div",{key:"vb-"+U,class:"flex-1 border-r border-purple-100/30 last:border-0 p-1"},[f("div",Z5,[f("span",t4,N(P(A)),1)])]))),128))])])):st("",!0),q.value?(T(),M("div",e4,[b[25]||(b[25]=f("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-yellow-400"},null,-1)),f("div",s4,[f("div",n4,[b[24]||(b[24]=f("span",{class:"text-[8px] font-black bg-yellow-400 text-white px-1.5 py-0.5 rounded shadow-sm"},"RECORD",-1)),f("span",i4,N(X(q.value.date)),1)]),f("div",o4,[f("span",r4,N(ut(q.value).toFixed(2))+"s",1),v(q.value)?(T(),M("button",{key:0,onClick:b[4]||(b[4]=A=>_(q.value)),title:"Mettre  jour le record du profil",class:"px-1.5 py-0.5 bg-emerald-500 text-white text-[8px] font-black uppercase rounded animate-pulse hover:bg-emerald-600 transition-colors"}," Nouveau PB ? ")):st("",!0)])]),f("div",a4,[(T(!0),M(rt,null,wt(O.value,(A,U)=>(T(),M("div",{key:"pb-seg-"+U,class:"flex-1 border-r border-yellow-100/50 last:border-0 p-1"},[lt(q.value,U)?(T(),M("div",{key:0,class:"w-full h-full rounded flex items-center justify-center border border-yellow-400/30 shadow-inner",style:Ie(J(q.value,U))},[f("span",l4,N(P(lt(q.value,U)[i.value])),1)],4)):st("",!0)]))),128))])])):st("",!0),nt.value&&Z.value.length>=2?(T(),M("div",c4,[b[26]||(b[26]=Ds('<div class="absolute left-0 top-0 bottom-0 w-1 bg-emerald-400"></div><div class="w-40 flex-shrink-0 p-4 border-r border-slate-100 flex flex-col justify-center"><span class="text-[9px] font-black text-emerald-600 uppercase tracking-tighter mb-1">Rgularit (CV)</span><div class="flex items-center gap-1.5"><svg class="w-3 h-3 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg><span class="text-[10px] font-bold text-slate-400 uppercase">Coeff. de Var.</span></div></div>',2)),f("div",u4,[(T(!0),M(rt,null,wt(nt.value,(A,U)=>(T(),M("div",{key:"cons-"+U,class:"flex-1 border-r border-slate-100/50 last:border-0 p-1.5 flex flex-col justify-center items-center"},[f("div",d4,N(A.cv.toFixed(1))+"%",1),f("div",f4,[f("div",{class:Nt(["h-full rounded-full transition-all duration-1000",A.cv<3?"bg-emerald-500":A.cv<6?"bg-yellow-500":"bg-red-500"]),style:Ie({width:Math.min(100,A.cv/10*100)+"%"})},null,6)]),f("span",{class:Nt(["text-[7px] font-black uppercase mt-1",A.cv<3?"text-emerald-600":A.cv<6?"text-yellow-600":"text-red-600"])},N(A.cv<3?"Stable":A.cv<6?"Variable":"Instable"),3)]))),128))])])):st("",!0)]),f("div",h4,[(T(!0),M(rt,null,wt(dt.value,A=>(T(),M("div",{key:A.id,class:"flex hover:bg-slate-50 transition-colors group relative"},[f("div",p4,[f("span",m4,N(X(A.date)),1),f("div",g4,[f("span",b4,N(ut(A).toFixed(2))+"s",1),q.value?(T(),M("span",{key:0,class:Nt(["text-[9px] font-bold",ut(A)>ut(q.value)?"text-red-500":"text-green-500"])},N(H(ut(A)-ut(q.value))),3)):st("",!0)])]),f("div",x4,[(T(!0),M(rt,null,wt(O.value,(U,G)=>(T(),M("div",{key:G,class:"flex-1 border-r border-slate-100 last:border-0 relative group/cell"},[lt(A,G)?(T(),M("div",{key:0,class:"w-full h-full transition-all duration-300 flex items-center justify-center relative",style:Ie(J(A,G))},[f("span",v4,N(P(lt(A,G)[i.value])),1)],4)):st("",!0)]))),128))])]))),128))])])):(T(),M("div",y4,[C.value?(T(),M("div",_4,[b[30]||(b[30]=f("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-blue-400"},null,-1)),f("div",w4,[b[28]||(b[28]=f("div",{class:"flex items-center gap-2 mb-1"},[f("span",{class:"text-[8px] font-black bg-blue-500 text-white px-1.5 py-0.5 rounded uppercase shadow-sm"},"TB")],-1)),f("div",k4,[f("span",A4,[pt(N(C.value.totalTime.toFixed(2)),1),b[27]||(b[27]=f("span",{class:"text-xs ml-0.5 opacity-40"},"s",-1))]),q.value?(T(),M("span",S4,N(H(C.value.totalTime-ut(q.value))),1)):st("",!0)]),b[29]||(b[29]=f("span",{class:"text-[10px] font-black text-blue-400/80 uppercase tracking-widest block mt-1"},"Potentiel thorique",-1))]),f("div",T4,[f("div",C4,[(T(!0),M(rt,null,wt(qt.value,(A,U)=>{var G;return T(),M(rt,{key:"seg-pot-"+U},[A&&A.time>0?(T(),M("div",{key:0,class:"h-full relative border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ie({width:A.time/at.value*100+"%",...d(A[i.value],(G=Y.value[U])==null?void 0:G[i.value],i.value)})},[f("span",M4,N(P(A[i.value])),1)],4)):st("",!0)],64)}),128))])])])):st("",!0),S.value?(T(),M("div",E4,[b[33]||(b[33]=f("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-purple-400"},null,-1)),f("div",I4,[b[31]||(b[31]=f("div",{class:"flex items-center gap-2 mb-1"},[f("span",{class:"text-[8px] font-black bg-purple-500 text-white px-1.5 py-0.5 rounded uppercase shadow-sm"},"VB")],-1)),f("div",P4,[f("span",L4,[pt(N(S.value.totalTime>0?Ct(ft).number(S.value.totalTime):"---")+" ",1),S.value.totalTime>0?(T(),M("span",O4,"s")):st("",!0)]),q.value&&S.value.totalTime>0?(T(),M("span",R4,N(H(S.value.totalTime-ut(q.value))),1)):st("",!0)]),b[32]||(b[32]=f("span",{class:"text-[10px] font-black text-purple-400/80 uppercase tracking-widest block mt-1"},"Record virtuel",-1))]),f("div",D4,[f("div",N4,[(T(!0),M(rt,null,wt(Y.value,(A,U)=>(T(),M(rt,{key:"seg-vb-"+U},[A&&A.time>0?(T(),M("div",{key:0,class:"h-full relative border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ie({width:A.time/at.value*100+"%",...d(A[i.value],A[i.value],i.value)})},[f("span",F4,N(P(A[i.value])),1)],4)):st("",!0)],64))),128))])])])):st("",!0),(T(!0),M(rt,null,wt([q.value,...dt.value].filter(A=>A),A=>{var U,G,z,W;return T(),M("div",{key:A.id,class:Nt(["flex items-center p-4 hover:bg-slate-50 transition-all",A.id===((U=q.value)==null?void 0:U.id)?"bg-yellow-50/50":""])},[f("div",$4,[f("div",B4,[A.id===((G=q.value)==null?void 0:G.id)?(T(),M("span",j4,"PB")):st("",!0),f("span",V4,N(X(A.date)),1)]),f("div",z4,[f("span",H4,[pt(N(ut(A).toFixed(2)),1),b[34]||(b[34]=f("span",{class:"text-xs ml-0.5 opacity-40"},"s",-1))]),A.id===((z=q.value)==null?void 0:z.id)&&v(A)?(T(),M("button",{key:0,onClick:it=>_(A),class:"px-1.5 py-0.5 bg-emerald-500 text-white text-[8px] font-black uppercase rounded animate-pulse"}," Nouveau PB ? ",8,U4)):st("",!0),A.id!==((W=q.value)==null?void 0:W.id)?(T(),M("span",{key:1,class:Nt(["text-xs font-bold",ut(A)>ut(q.value)?"text-red-500":"text-green-500"])},N(H(ut(A)-ut(q.value))),3)):st("",!0)]),f("span",W4,N(A.name||A.discipline),1)]),f("div",q4,[q.value?(T(!0),M(rt,{key:0},wt(V(),(it,tt)=>{var ot;return T(),M("div",{key:"marker-"+tt,class:Nt(["absolute top-0 bottom-0 border-l-2 border-dotted z-10",A.id===((ot=q.value)==null?void 0:ot.id)?"border-slate-900/10":"border-slate-900/20"]),style:Ie({left:it.percent+"%"})},[f("span",G4,N(it.label),1)],6)}),128)):st("",!0),f("div",Y4,[(T(!0),M(rt,null,wt(I(A),(it,tt)=>{var ot;return T(),M(rt,{key:"seg-"+tt},[it&&it.time>0?(T(),M("div",{key:0,class:"h-full relative transition-all group/timeline border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ie({width:it.time/at.value*100+"%",...d(it[i.value],(ot=Y.value[tt])==null?void 0:ot[i.value],i.value)})},[f("span",K4,N(P(it[i.value])),1)],4)):st("",!0)],64)}),128))])])],2)}),128))]))]))])}}},J4={key:0,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12"},Q4={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 sm:mb-8 gap-4"},Z4={class:"flex items-center space-x-2 sm:space-x-4"},tA={class:"text-2xl sm:text-3xl font-extrabold text-slate-900 truncate"},eA={class:"text-blue-600"},sA={class:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8"},nA={class:"md:col-span-1 space-y-6"},iA={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},oA={class:"space-y-4"},rA={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},aA={class:"md:col-span-2 space-y-6"},lA={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},cA={class:"p-6"},uA={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},dA=["for"],fA={class:"relative"},hA=["id","step","placeholder","onUpdate:modelValue"],pA={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-slate-400 text-sm font-bold"},mA={key:1,class:"flex items-center justify-center h-screen"},gA={__name:"AthleteProfile",setup(e){const t=La(),s=Yo(),n=ct(null),i=_t(()=>{const d=Jf.find(h=>h.id==="pbs");return d?d.fields:[]}),o=()=>{const d=t.params.id,h=te.load(d);h?n.value=h:s.push("/")},r=()=>{n.value&&(n.value.save(),alert("Profil enregistr avec succs !"))},a=()=>{n.value&&(n.value.save(),Rt.setCurrentAthlete(n.value.id),s.push("/analysis"))},l=()=>{n.value&&(n.value.save(),Rt.setCurrentAthlete(n.value.id),s.push({path:"/races-analysis",query:{athleteId:n.value.id}}))},c=()=>{n.value&&on.exportAthlete(n.value.id)},u=()=>{if(!n.value)return;const d=on.generateAthleteShareLink(n.value.id);d&&navigator.clipboard.writeText(d.url).then(()=>{let h="Lien de partage de l'athlte copi !";d.isLimited&&(h+=`

Note: Seules les 3 courses les plus rcentes sont incluses dans le lien. Utilisez 'Exporter' pour envoyer l'historique complet.`),alert(h)})};return Ve(o),(d,h)=>n.value?(T(),M("div",J4,[f("div",Q4,[f("div",Z4,[f("button",{onClick:h[0]||(h[0]=p=>Ct(s).push("/")),class:"p-2 -ml-2 text-slate-400 hover:text-slate-600 transition-colors"},[...h[5]||(h[5]=[f("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),f("h2",tA,[h[6]||(h[6]=pt(" Profil de ",-1)),f("span",eA,N(n.value.name||"Athlte"),1)])]),f("div",{class:"flex items-center space-x-2 sm:space-x-3 w-full sm:w-auto"},[f("button",{onClick:u,class:"flex-1 sm:flex-none inline-flex items-center justify-center px-3 sm:px-4 py-2 border border-slate-200 bg-white hover:bg-slate-50 text-slate-700 text-sm sm:text-base font-bold rounded-lg transition-colors shadow-sm"},[...h[7]||(h[7]=[f("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1),pt(" Partager ",-1)])]),f("button",{onClick:c,class:"flex-1 sm:flex-none inline-flex items-center justify-center px-3 sm:px-4 py-2 border border-slate-200 bg-white hover:bg-slate-50 text-slate-700 text-sm sm:text-base font-bold rounded-lg transition-colors shadow-sm"},[...h[8]||(h[8]=[f("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),pt(" Exporter ",-1)])]),f("button",{onClick:r,class:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 sm:px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm sm:text-base font-bold rounded-lg transition-colors shadow-sm"}," Enregistrer ")])]),f("div",sA,[f("div",nA,[f("div",iA,[h[13]||(h[13]=f("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Informations de base",-1)),f("div",oA,[f("div",null,[h[9]||(h[9]=f("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Nom complet",-1)),zt(f("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>n.value.name=p),type:"text",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},null,512),[[se,n.value.name]])]),f("div",null,[h[10]||(h[10]=f("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Anne de naissance",-1)),zt(f("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>n.value.birthYear=p),type:"number",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},null,512),[[se,n.value.birthYear,void 0,{number:!0}]])]),f("div",null,[h[12]||(h[12]=f("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Sexe",-1)),zt(f("select",{"onUpdate:modelValue":h[3]||(h[3]=p=>n.value.gender=p),class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},[...h[11]||(h[11]=[f("option",{value:"M"},"Homme",-1),f("option",{value:"F"},"Femme",-1)])],512),[[An,n.value.gender]])])])]),f("div",rA,[h[14]||(h[14]=f("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Notes & observations",-1)),zt(f("textarea",{"onUpdate:modelValue":h[4]||(h[4]=p=>n.value.notes=p),rows:"8",placeholder:"Points forts, axes d'amlioration, blessures...",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all text-sm"},null,512),[[se,n.value.notes]])])]),f("div",aA,[f("div",lA,[h[15]||(h[15]=f("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50"},[f("h3",{class:"text-lg font-bold text-slate-900"},"Records personnels (PB)"),f("p",{class:"text-sm text-slate-500"},"Mettez  jour les meilleures performances de l'athlte.")],-1)),f("div",cA,[f("div",uA,[(T(!0),M(rt,null,wt(i.value,p=>(T(),M("div",{key:p.id,class:"relative"},[f("label",{for:p.id,class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1"},N(p.label),9,dA),f("div",fA,[zt(f("input",{id:p.id,type:"number",step:p.step,placeholder:p.placeholder,"onUpdate:modelValue":m=>n.value.metrics[p.id]=m,class:"w-full pl-3 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all font-mono font-bold text-slate-700"},null,8,hA),[[se,n.value.metrics[p.id],void 0,{number:!0}]]),f("div",pA,N(p.unit),1)])]))),128))])])]),f("div",{class:"flex flex-col space-y-4"},[f("button",{onClick:a,class:"flex-1 px-4 py-3 bg-slate-900 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center"},[...h[16]||(h[16]=[pt(" Analyser le potentiel ",-1),f("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),f("button",{onClick:l,class:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center shadow-lg shadow-blue-200"},[...h[17]||(h[17]=[pt(" Analyser les courses ",-1),f("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])])])])])])):(T(),M("div",mA,[...h[18]||(h[18]=[f("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])]))}},bA={class:"max-w-2xl mx-auto px-4 py-12"},xA={key:0,class:"text-center py-12"},vA={key:1,class:"bg-red-50 border border-red-100 rounded-2xl p-8 text-center"},yA={class:"text-red-700 mb-6"},_A={key:2,class:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden"},wA={class:"bg-blue-600 p-6 text-white flex items-center justify-between"},kA={key:0,class:"px-3 py-1 bg-white/20 rounded-lg text-[10px] font-black uppercase tracking-widest border border-white/20"},AA={class:"p-8 space-y-6"},SA={key:0,class:"flex items-center space-x-4 p-4 bg-slate-50 rounded-xl border border-slate-100"},TA={class:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-xl"},CA={class:"flex-grow"},MA={class:"font-bold text-slate-900 text-lg"},EA={class:"text-sm text-slate-500"},IA={key:0,class:"px-2 py-1 bg-orange-100 text-orange-700 rounded text-[10px] font-black uppercase"},PA={class:"space-y-3"},LA={class:"text-xs font-bold text-slate-400 uppercase tracking-wider px-1"},OA={key:0,class:"max-h-48 overflow-y-auto space-y-2 custom-scrollbar pr-2"},RA={class:"font-bold text-slate-700"},DA={class:"text-slate-500 text-xs"},NA={key:1,class:"p-4 bg-slate-50 rounded-xl border border-slate-100"},FA={class:"flex items-center justify-between mb-2"},$A={class:"font-bold text-slate-800"},BA={class:"text-blue-600 font-bold text-sm"},jA={class:"text-xs text-slate-500"},VA={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-slate-100"},zA={key:1,class:"text-center text-[10px] text-slate-400 italic"},HA={__name:"Import",setup(e){const t=La(),s=Yo(),n=ct(!0),i=ct(null),o=ct(null),r=ct(!1),a=_t(()=>{var u;if(!((u=o.value)!=null&&u.athlete))return!1;const c=te.getAll();return Object.values(c).some(d=>d.name===o.value.athlete.name)});Ve(async()=>{r.value=!!await _e.getHandle();const c=t.query.data;if(!c){i.value="Aucune donne n'a t trouve dans le lien.",n.value=!1;return}try{const u=on.decodeShareData(c);if(!u)throw new Error("Les donnes sont corrompues ou invalides.");o.value=u}catch(u){i.value=u.message}finally{n.value=!1}});const l=()=>{try{let c=null;const u=te.getAll(),d=Object.values(u).find(h=>{var p;return h.name===((p=o.value.athlete)==null?void 0:p.name)});if(o.value.type==="athlete"){if(d)c=d.id;else{const h=new te(o.value.athlete);h.save(),c=h.id}o.value.races.forEach(h=>{new yt({...h,athleteId:c}).save()})}else if(o.value.type==="race"){if(d)c=d.id;else if(o.value.athlete){const h=new te(o.value.athlete);h.save(),c=h.id}c&&new yt({...o.value.race,athleteId:c}).save()}Rt.setCurrentAthlete(c),alert("Importation russie !"),s.push("/")}catch(c){alert("Erreur : "+c.message)}};return(c,u)=>(T(),M("div",bA,[n.value?(T(),M("div",xA,[...u[2]||(u[2]=[f("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),f("p",{class:"mt-4 text-slate-500 font-medium"},"Analyse des donnes partages...",-1)])])):i.value?(T(),M("div",vA,[u[3]||(u[3]=f("div",{class:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4"},[f("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),u[4]||(u[4]=f("h3",{class:"text-xl font-bold text-red-900 mb-2"},"Erreur lors de l'importation",-1)),f("p",yA,N(i.value),1),f("button",{onClick:u[0]||(u[0]=d=>Ct(s).push("/")),class:"px-6 py-2 bg-white border border-red-200 text-red-700 font-bold rounded-lg hover:bg-red-50 transition-colors"}," Retour  l'accueil ")])):o.value?(T(),M("div",_A,[f("div",wA,[u[5]||(u[5]=f("div",null,[f("h3",{class:"text-xl font-bold"},"Donnes partages reues"),f("p",{class:"text-blue-100 text-sm"},"Vrifiez les informations avant l'importation.")],-1)),r.value?(T(),M("div",kA," Auto-Sync Active ")):st("",!0)]),f("div",AA,[o.value.athlete?(T(),M("div",SA,[f("div",TA,N(o.value.athlete.name.charAt(0)),1),f("div",CA,[f("div",MA,N(o.value.athlete.name),1),f("div",EA,N(o.value.athlete.gender==="M"?"Homme":"Femme")+"  N(e) en "+N(o.value.athlete.birthYear),1)]),a.value?(T(),M("div",IA," Dj existant ")):st("",!0)])):st("",!0),f("div",PA,[f("div",LA,N(o.value.type==="athlete"?`${o.value.races.length} courses incluses`:"1 course individuelle"),1),o.value.type==="athlete"?(T(),M("div",OA,[(T(!0),M(rt,null,wt(o.value.races,d=>(T(),M("div",{key:d.id,class:"p-3 bg-slate-50 rounded-lg flex items-center justify-between text-sm border border-slate-100"},[f("span",RA,N(d.discipline),1),f("span",DA,N(d.date),1)]))),128))])):(T(),M("div",NA,[f("div",FA,[f("span",$A,N(o.value.race.discipline),1),f("span",BA,N(o.value.race.date),1)]),f("div",jA,N(o.value.race.name||"Sans titre"),1)]))]),f("div",VA,[f("button",{onClick:l,class:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg shadow-blue-200 transition-all flex items-center justify-center"},[u[6]||(u[6]=f("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),pt(" "+N(a.value?"Fusionner les donnes":"Confirmer l'importation"),1)]),f("button",{onClick:u[1]||(u[1]=d=>Ct(s).push("/")),class:"px-6 py-3 bg-white border border-slate-200 text-slate-600 font-bold rounded-xl hover:bg-slate-50 transition-colors"}," Annuler ")]),r.value?(T(),M("p",zA," Note : Les donnes seront automatiquement synchronises avec votre fichier local aprs l\\'import. ")):st("",!0)])])):st("",!0)]))}},UA=[{path:"/",name:"Home",component:qg},{path:"/analysis",name:"Analysis",component:V2},{path:"/races-analysis",name:"RaceAnalysis",component:r5},{path:"/races-evolution",name:"RacesEvolution",component:X4},{path:"/athlete/:id",name:"AthleteProfile",component:gA},{path:"/import",name:"Import",component:HA}],WA=Lm({history:um(),routes:UA}),Qf=w0(ig);Qf.use(WA);Qf.mount("#app");
