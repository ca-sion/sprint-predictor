var Ff=Object.defineProperty;var Bf=(e,t,s)=>t in e?Ff(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var X=(e,t,s)=>Bf(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qr(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Pt={},rn=[],ze=()=>{},ou=()=>!1,vo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zr=e=>e.startsWith("onUpdate:"),Zt=Object.assign,ta=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},$f=Object.prototype.hasOwnProperty,Ct=(e,t)=>$f.call(e,t),ot=Array.isArray,an=e=>pi(e)==="[object Map]",_o=e=>pi(e)==="[object Set]",La=e=>pi(e)==="[object Date]",ut=e=>typeof e=="function",Ut=e=>typeof e=="string",We=e=>typeof e=="symbol",It=e=>e!==null&&typeof e=="object",ru=e=>(It(e)||ut(e))&&ut(e.then)&&ut(e.catch),au=Object.prototype.toString,pi=e=>au.call(e),Hf=e=>pi(e).slice(8,-1),lu=e=>pi(e)==="[object Object]",ea=e=>Ut(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bn=Qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yo=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Vf=/-\w/g,Se=yo(e=>e.replace(Vf,t=>t.slice(1).toUpperCase())),jf=/\B([A-Z])/g,Js=yo(e=>e.replace(jf,"-$1").toLowerCase()),wo=yo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Uo=yo(e=>e?`on${wo(e)}`:""),ks=(e,t)=>!Object.is(e,t),Bi=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},cu=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},ko=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zf=e=>{const t=Ut(e)?Number(e):NaN;return isNaN(t)?e:t};let Na;const Ao=()=>Na||(Na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ve(e){if(ot(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Ut(n)?Gf(n):Ve(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Ut(e)||It(e))return e}const Uf=/;(?![^(]*\))/g,Wf=/:([^]+)/,qf=/\/\*[^]*?\*\//g;function Gf(e){const t={};return e.replace(qf,"").split(Uf).forEach(s=>{if(s){const n=s.split(Wf);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Yt(e){let t="";if(Ut(e))t=e;else if(ot(e))for(let s=0;s<e.length;s++){const n=Yt(e[s]);n&&(t+=n+" ")}else if(It(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Yf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kf=Qr(Yf);function uu(e){return!!e||e===""}function Xf(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=So(e[n],t[n]);return s}function So(e,t){if(e===t)return!0;let s=La(e),n=La(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=We(e),n=We(t),s||n)return e===t;if(s=ot(e),n=ot(t),s||n)return s&&n?Xf(e,t):!1;if(s=It(e),n=It(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!So(e[r],t[r]))return!1}}return String(e)===String(t)}function Jf(e,t){return e.findIndex(s=>So(s,t))}const du=e=>!!(e&&e.__v_isRef===!0),U=e=>Ut(e)?e:e==null?"":ot(e)||It(e)&&(e.toString===au||!ut(e.toString))?du(e)?U(e.value):JSON.stringify(e,fu,2):String(e),fu=(e,t)=>du(t)?fu(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[Wo(n,o)+" =>"]=i,s),{})}:_o(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Wo(s))}:We(t)?Wo(t):It(t)&&!ot(t)&&!lu(t)?String(t):t,Wo=(e,t="")=>{var s;return We(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class Qf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!t&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=pe;try{return pe=this,t()}finally{pe=s}}}on(){++this._on===1&&(this.prevScope=pe,pe=this)}off(){this._on>0&&--this._on===0&&(pe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Zf(){return pe}let Nt;const qo=new WeakSet;class hu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qo.has(this)&&(qo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fa(this),mu(this);const t=Nt,s=Me;Nt=this,Me=!0;try{return this.fn()}finally{bu(this),Nt=t,Me=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ia(t);this.deps=this.depsTail=void 0,Fa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vr(this)&&this.run()}get dirty(){return vr(this)}}let pu=0,$n,Hn;function gu(e,t=!1){if(e.flags|=8,t){e.next=Hn,Hn=e;return}e.next=$n,$n=e}function sa(){pu++}function na(){if(--pu>0)return;if(Hn){let t=Hn;for(Hn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;$n;){let t=$n;for($n=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function mu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function bu(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),ia(n),th(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function vr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Jn)||(e.globalVersion=Jn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!vr(e))))return;e.flags|=2;const t=e.dep,s=Nt,n=Me;Nt=e,Me=!0;try{mu(e);const i=e.fn(e._value);(t.version===0||ks(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Nt=s,Me=n,bu(e),e.flags&=-3}}function ia(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ia(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function th(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Me=!0;const vu=[];function as(){vu.push(Me),Me=!1}function ls(){const e=vu.pop();Me=e===void 0?!0:e}function Fa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Nt;Nt=void 0;try{t()}finally{Nt=s}}}let Jn=0;class eh{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class oa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Nt||!Me||Nt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Nt)s=this.activeLink=new eh(Nt,this),Nt.deps?(s.prevDep=Nt.depsTail,Nt.depsTail.nextDep=s,Nt.depsTail=s):Nt.deps=Nt.depsTail=s,_u(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Nt.depsTail,s.nextDep=void 0,Nt.depsTail.nextDep=s,Nt.depsTail=s,Nt.deps===s&&(Nt.deps=n)}return s}trigger(t){this.version++,Jn++,this.notify(t)}notify(t){sa();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{na()}}}function _u(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)_u(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const _r=new WeakMap,Ws=Symbol(""),yr=Symbol(""),Qn=Symbol("");function se(e,t,s){if(Me&&Nt){let n=_r.get(e);n||_r.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new oa),i.map=n,i.key=s),i.track()}}function es(e,t,s,n,i,o){const r=_r.get(e);if(!r){Jn++;return}const a=l=>{l&&l.trigger()};if(sa(),t==="clear")r.forEach(a);else{const l=ot(e),c=l&&ea(s);if(l&&s==="length"){const u=Number(n);r.forEach((d,f)=>{(f==="length"||f===Qn||!We(f)&&f>=u)&&a(d)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(Qn)),t){case"add":l?c&&a(r.get("length")):(a(r.get(Ws)),an(e)&&a(r.get(yr)));break;case"delete":l||(a(r.get(Ws)),an(e)&&a(r.get(yr)));break;case"set":an(e)&&a(r.get(Ws));break}}na()}function Zs(e){const t=At(e);return t===e?t:(se(t,"iterate",Qn),ke(e)?t:t.map(Ie))}function Co(e){return se(e=At(e),"iterate",Qn),e}function ps(e,t){return cs(e)?qs(e)?pn(Ie(t)):pn(t):Ie(t)}const sh={__proto__:null,[Symbol.iterator](){return Go(this,Symbol.iterator,e=>ps(this,e))},concat(...e){return Zs(this).concat(...e.map(t=>ot(t)?Zs(t):t))},entries(){return Go(this,"entries",e=>(e[1]=ps(this,e[1]),e))},every(e,t){return qe(this,"every",e,t,void 0,arguments)},filter(e,t){return qe(this,"filter",e,t,s=>s.map(n=>ps(this,n)),arguments)},find(e,t){return qe(this,"find",e,t,s=>ps(this,s),arguments)},findIndex(e,t){return qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return qe(this,"findLast",e,t,s=>ps(this,s),arguments)},findLastIndex(e,t){return qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Yo(this,"includes",e)},indexOf(...e){return Yo(this,"indexOf",e)},join(e){return Zs(this).join(e)},lastIndexOf(...e){return Yo(this,"lastIndexOf",e)},map(e,t){return qe(this,"map",e,t,void 0,arguments)},pop(){return yn(this,"pop")},push(...e){return yn(this,"push",e)},reduce(e,...t){return Ba(this,"reduce",e,t)},reduceRight(e,...t){return Ba(this,"reduceRight",e,t)},shift(){return yn(this,"shift")},some(e,t){return qe(this,"some",e,t,void 0,arguments)},splice(...e){return yn(this,"splice",e)},toReversed(){return Zs(this).toReversed()},toSorted(e){return Zs(this).toSorted(e)},toSpliced(...e){return Zs(this).toSpliced(...e)},unshift(...e){return yn(this,"unshift",e)},values(){return Go(this,"values",e=>ps(this,e))}};function Go(e,t,s){const n=Co(e),i=n[t]();return n!==e&&!ke(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=s(o.value)),o}),i}const nh=Array.prototype;function qe(e,t,s,n,i,o){const r=Co(e),a=r!==e&&!ke(e),l=r[t];if(l!==nh[t]){const d=l.apply(e,o);return a?Ie(d):d}let c=s;r!==e&&(a?c=function(d,f){return s.call(this,ps(e,d),f,e)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,e)}));const u=l.call(r,c,n);return a&&i?i(u):u}function Ba(e,t,s,n){const i=Co(e);let o=s;return i!==e&&(ke(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,ps(e,a),l,e)}),i[t](o,...n)}function Yo(e,t,s){const n=At(e);se(n,"iterate",Qn);const i=n[t](...s);return(i===-1||i===!1)&&la(s[0])?(s[0]=At(s[0]),n[t](...s)):i}function yn(e,t,s=[]){as(),sa();const n=At(e)[t].apply(e,s);return na(),ls(),n}const ih=Qr("__proto__,__v_isRef,__isVue"),yu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(We));function oh(e){We(e)||(e=String(e));const t=At(this);return se(t,"has",e),t.hasOwnProperty(e)}class wu{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?gh:Cu:o?Su:Au).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=ot(t);if(!i){let l;if(r&&(l=sh[s]))return l;if(s==="hasOwnProperty")return oh}const a=Reflect.get(t,s,oe(t)?t:n);if((We(s)?yu.has(s):ih(s))||(i||se(t,"get",s),o))return a;if(oe(a)){const l=r&&ea(s)?a:a.value;return i&&It(l)?kr(l):l}return It(a)?i?kr(a):To(a):a}}class ku extends wu{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];const r=ot(t)&&ea(s);if(!this._isShallow){const c=cs(o);if(!ke(n)&&!cs(n)&&(o=At(o),n=At(n)),!r&&oe(o)&&!oe(n))return c||(o.value=n),!0}const a=r?Number(s)<t.length:Ct(t,s),l=Reflect.set(t,s,n,oe(t)?t:i);return t===At(i)&&(a?ks(n,o)&&es(t,"set",s,n):es(t,"add",s,n)),l}deleteProperty(t,s){const n=Ct(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&es(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!We(s)||!yu.has(s))&&se(t,"has",s),n}ownKeys(t){return se(t,"iterate",ot(t)?"length":Ws),Reflect.ownKeys(t)}}class rh extends wu{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ah=new ku,lh=new rh,ch=new ku(!0);const wr=e=>e,_i=e=>Reflect.getPrototypeOf(e);function uh(e,t,s){return function(...n){const i=this.__v_raw,o=At(i),r=an(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),u=s?wr:t?pn:Ie;return!t&&se(o,"iterate",l?yr:Ws),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function yi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function dh(e,t){const s={get(i){const o=this.__v_raw,r=At(o),a=At(i);e||(ks(i,a)&&se(r,"get",i),se(r,"get",a));const{has:l}=_i(r),c=t?wr:e?pn:Ie;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&se(At(i),"iterate",Ws),i.size},has(i){const o=this.__v_raw,r=At(o),a=At(i);return e||(ks(i,a)&&se(r,"has",i),se(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=At(a),c=t?wr:e?pn:Ie;return!e&&se(l,"iterate",Ws),a.forEach((u,d)=>i.call(o,c(u),c(d),r))}};return Zt(s,e?{add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear")}:{add(i){!t&&!ke(i)&&!cs(i)&&(i=At(i));const o=At(this);return _i(o).has.call(o,i)||(o.add(i),es(o,"add",i,i)),this},set(i,o){!t&&!ke(o)&&!cs(o)&&(o=At(o));const r=At(this),{has:a,get:l}=_i(r);let c=a.call(r,i);c||(i=At(i),c=a.call(r,i));const u=l.call(r,i);return r.set(i,o),c?ks(o,u)&&es(r,"set",i,o):es(r,"add",i,o),this},delete(i){const o=At(this),{has:r,get:a}=_i(o);let l=r.call(o,i);l||(i=At(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&es(o,"delete",i,void 0),c},clear(){const i=At(this),o=i.size!==0,r=i.clear();return o&&es(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=uh(i,e,t)}),s}function ra(e,t){const s=dh(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ct(s,i)&&i in n?s:n,i,o)}const fh={get:ra(!1,!1)},hh={get:ra(!1,!0)},ph={get:ra(!0,!1)};const Au=new WeakMap,Su=new WeakMap,Cu=new WeakMap,gh=new WeakMap;function mh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bh(e){return e.__v_skip||!Object.isExtensible(e)?0:mh(Hf(e))}function To(e){return cs(e)?e:aa(e,!1,ah,fh,Au)}function Tu(e){return aa(e,!1,ch,hh,Su)}function kr(e){return aa(e,!0,lh,ph,Cu)}function aa(e,t,s,n,i){if(!It(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=bh(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function qs(e){return cs(e)?qs(e.__v_raw):!!(e&&e.__v_isReactive)}function cs(e){return!!(e&&e.__v_isReadonly)}function ke(e){return!!(e&&e.__v_isShallow)}function la(e){return e?!!e.__v_raw:!1}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function xh(e){return!Ct(e,"__v_skip")&&Object.isExtensible(e)&&cu(e,"__v_skip",!0),e}const Ie=e=>It(e)?To(e):e,pn=e=>It(e)?kr(e):e;function oe(e){return e?e.__v_isRef===!0:!1}function pt(e){return Mu(e,!1)}function vh(e){return Mu(e,!0)}function Mu(e,t){return oe(e)?e:new _h(e,t)}class _h{constructor(t,s){this.dep=new oa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:At(t),this._value=s?t:Ie(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ke(t)||cs(t);t=n?t:At(t),ks(t,s)&&(this._rawValue=t,this._value=n?t:Ie(t),this.dep.trigger())}}function rs(e){return oe(e)?e.value:e}const yh={get:(e,t,s)=>t==="__v_raw"?e:rs(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return oe(i)&&!oe(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Eu(e){return qs(e)?e:new Proxy(e,yh)}class wh{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new oa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Nt!==this)return gu(this,!0),!0}get value(){const t=this.dep.track();return xu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kh(e,t,s=!1){let n,i;return ut(e)?n=e:(n=e.get,i=e.set),new wh(n,i,s)}const wi={},Qi=new WeakMap;let Bs;function Ah(e,t=!1,s=Bs){if(s){let n=Qi.get(s);n||Qi.set(s,n=[]),n.push(e)}}function Sh(e,t,s=Pt){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=k=>i?k:ke(k)||i===!1||i===0?ss(k,1):ss(k);let u,d,f,p,m=!1,b=!1;if(oe(e)?(d=()=>e.value,m=ke(e)):qs(e)?(d=()=>c(e),m=!0):ot(e)?(b=!0,m=e.some(k=>qs(k)||ke(k)),d=()=>e.map(k=>{if(oe(k))return k.value;if(qs(k))return c(k);if(ut(k))return l?l(k,2):k()})):ut(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){as();try{f()}finally{ls()}}const k=Bs;Bs=u;try{return l?l(e,3,[p]):e(p)}finally{Bs=k}}:d=ze,t&&i){const k=d,M=i===!0?1/0:i;d=()=>ss(k(),M)}const x=Zf(),v=()=>{u.stop(),x&&x.active&&ta(x.effects,u)};if(o&&t){const k=t;t=(...M)=>{k(...M),v()}}let y=b?new Array(e.length).fill(wi):wi;const S=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(t){const M=u.run();if(i||m||(b?M.some((N,F)=>ks(N,y[F])):ks(M,y))){f&&f();const N=Bs;Bs=u;try{const F=[M,y===wi?void 0:b&&y[0]===wi?[]:y,p];y=M,l?l(t,3,F):t(...F)}finally{Bs=N}}}else u.run()};return a&&a(S),u=new hu(d),u.scheduler=r?()=>r(S,!1):S,p=k=>Ah(k,!1,u),f=u.onStop=()=>{const k=Qi.get(u);if(k){if(l)l(k,4);else for(const M of k)M();Qi.delete(u)}},t?n?S(!0):y=u.run():r?r(S.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function ss(e,t=1/0,s){if(t<=0||!It(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,oe(e))ss(e.value,t,s);else if(ot(e))for(let n=0;n<e.length;n++)ss(e[n],t,s);else if(_o(e)||an(e))e.forEach(n=>{ss(n,t,s)});else if(lu(e)){for(const n in e)ss(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&ss(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gi(e,t,s,n){try{return n?e(...n):e()}catch(i){Mo(i,t,s)}}function Pe(e,t,s,n){if(ut(e)){const i=gi(e,t,s,n);return i&&ru(i)&&i.catch(o=>{Mo(o,t,s)}),i}if(ot(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Pe(e[o],t,s,n));return i}}function Mo(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Pt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(o){as(),gi(o,null,10,[e,l,c]),ls();return}}Ch(e,s,i,n,r)}function Ch(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const ce=[];let $e=-1;const ln=[];let gs=null,sn=0;const Ou=Promise.resolve();let Zi=null;function mi(e){const t=Zi||Ou;return e?t.then(this?e.bind(this):e):t}function Th(e){let t=$e+1,s=ce.length;for(;t<s;){const n=t+s>>>1,i=ce[n],o=Zn(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function ca(e){if(!(e.flags&1)){const t=Zn(e),s=ce[ce.length-1];!s||!(e.flags&2)&&t>=Zn(s)?ce.push(e):ce.splice(Th(t),0,e),e.flags|=1,Iu()}}function Iu(){Zi||(Zi=Ou.then(Ru))}function Mh(e){ot(e)?ln.push(...e):gs&&e.id===-1?gs.splice(sn+1,0,e):e.flags&1||(ln.push(e),e.flags|=1),Iu()}function $a(e,t,s=$e+1){for(;s<ce.length;s++){const n=ce[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ce.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Pu(e){if(ln.length){const t=[...new Set(ln)].sort((s,n)=>Zn(s)-Zn(n));if(ln.length=0,gs){gs.push(...t);return}for(gs=t,sn=0;sn<gs.length;sn++){const s=gs[sn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}gs=null,sn=0}}const Zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ru(e){try{for($e=0;$e<ce.length;$e++){const t=ce[$e];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),gi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$e<ce.length;$e++){const t=ce[$e];t&&(t.flags&=-2)}$e=-1,ce.length=0,Pu(),Zi=null,(ce.length||ln.length)&&Ru()}}let ve=null,Du=null;function to(e){const t=ve;return ve=e,Du=e&&e.type.__scopeId||null,t}function Xt(e,t=ve,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&io(-1);const o=to(t);let r;try{r=e(...i)}finally{to(o),n._d&&io(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function $t(e,t){if(ve===null)return e;const s=Do(ve),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=Pt]=t[i];o&&(ut(o)&&(o={mounted:o,updated:o}),o.deep&&ss(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Os(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(as(),Pe(l,s,8,[e.el,a,e,t]),ls())}}function $i(e,t){if(ne){let s=ne.provides;const n=ne.parent&&ne.parent.provides;n===s&&(s=ne.provides=Object.create(n)),s[e]=t}}function Ee(e,t,s=!1){const n=pd();if(n||un){let i=un?un._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ut(t)?t.call(n&&n.proxy):t}}const Eh=Symbol.for("v-scx"),Oh=()=>Ee(Eh);function cn(e,t,s){return Lu(e,t,s)}function Lu(e,t,s=Pt){const{immediate:n,deep:i,flush:o,once:r}=s,a=Zt({},s),l=t&&n||!t&&o!=="post";let c;if(si){if(o==="sync"){const p=Oh();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ze,p.resume=ze,p.pause=ze,p}}const u=ne;a.call=(p,m,b)=>Pe(p,u,m,b);let d=!1;o==="post"?a.scheduler=p=>{be(p,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():ca(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=Sh(e,t,a);return si&&(c?c.push(f):l&&f()),f}function Ih(e,t,s){const n=this.proxy,i=Ut(e)?e.includes(".")?Nu(n,e):()=>n[e]:e.bind(n,n);let o;ut(t)?o=t:(o=t.handler,s=t);const r=bi(this),a=Lu(i,o.bind(n),s);return r(),a}function Nu(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Ph=Symbol("_vte"),Fu=e=>e.__isTeleport,Ze=Symbol("_leaveCb"),ki=Symbol("_enterCb");function Rh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ms(()=>{e.isMounted=!0}),qu(()=>{e.isUnmounting=!0}),e}const ye=[Function,Array],Bu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ye,onEnter:ye,onAfterEnter:ye,onEnterCancelled:ye,onBeforeLeave:ye,onLeave:ye,onAfterLeave:ye,onLeaveCancelled:ye,onBeforeAppear:ye,onAppear:ye,onAfterAppear:ye,onAppearCancelled:ye},$u=e=>{const t=e.subTree;return t.component?$u(t.component):t},Dh={name:"BaseTransition",props:Bu,setup(e,{slots:t}){const s=pd(),n=Rh();return()=>{const i=t.default&&ju(t.default(),!0);if(!i||!i.length)return;const o=Hu(i),r=At(e),{mode:a}=r;if(n.isLeaving)return Ko(o);const l=Ha(o);if(!l)return Ko(o);let c=Ar(l,r,n,s,d=>c=d);l.type!==ue&&ti(l,c);let u=s.subTree&&Ha(s.subTree);if(u&&u.type!==ue&&!Vs(u,l)&&$u(s).type!==ue){let d=Ar(u,r,n,s);if(ti(u,d),a==="out-in"&&l.type!==ue)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},Ko(o);a==="in-out"&&l.type!==ue?d.delayLeave=(f,p,m)=>{const b=Vu(n,u);b[String(u.key)]=u,f[Ze]=()=>{p(),f[Ze]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function Hu(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==ue){t=s;break}}return t}const Lh=Dh;function Vu(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Ar(e,t,s,n,i){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:x,onAppear:v,onAfterAppear:y,onAppearCancelled:S}=t,k=String(e.key),M=Vu(s,e),N=(B,Y)=>{B&&Pe(B,n,9,Y)},F=(B,Y)=>{const D=Y[1];N(B,Y),ot(B)?B.every(A=>A.length<=1)&&D():B.length<=1&&D()},j={mode:r,persisted:a,beforeEnter(B){let Y=l;if(!s.isMounted)if(o)Y=x||l;else return;B[Ze]&&B[Ze](!0);const D=M[k];D&&Vs(e,D)&&D.el[Ze]&&D.el[Ze](),N(Y,[B])},enter(B){let Y=c,D=u,A=d;if(!s.isMounted)if(o)Y=v||c,D=y||u,A=S||d;else return;let J=!1;const Z=B[ki]=st=>{J||(J=!0,st?N(A,[B]):N(D,[B]),j.delayedLeave&&j.delayedLeave(),B[ki]=void 0)};Y?F(Y,[B,Z]):Z()},leave(B,Y){const D=String(e.key);if(B[ki]&&B[ki](!0),s.isUnmounting)return Y();N(f,[B]);let A=!1;const J=B[Ze]=Z=>{A||(A=!0,Y(),Z?N(b,[B]):N(m,[B]),B[Ze]=void 0,M[D]===e&&delete M[D])};M[D]=e,p?F(p,[B,J]):J()},clone(B){const Y=Ar(B,t,s,n,i);return i&&i(Y),Y}};return j}function Ko(e){if(Eo(e))return e=Ss(e),e.children=null,e}function Ha(e){if(!Eo(e))return Fu(e.type)&&e.children?Hu(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&ut(s.default))return s.default()}}function ti(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ti(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ju(e,t=!1,s){let n=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===rt?(r.patchFlag&128&&i++,n=n.concat(ju(r.children,t,a))):(t||r.type!==ue)&&n.push(a!=null?Ss(r,{key:a}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function zu(e,t){return ut(e)?Zt({name:e.name},t,{setup:e}):e}function Uu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const eo=new WeakMap;function Vn(e,t,s,n,i=!1){if(ot(e)){e.forEach((m,b)=>Vn(m,t&&(ot(t)?t[b]:t),s,n,i));return}if(jn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Vn(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?Do(n.component):n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Pt?a.refs={}:a.refs,d=a.setupState,f=At(d),p=d===Pt?ou:m=>Ct(f,m);if(c!=null&&c!==l){if(Va(t),Ut(c))u[c]=null,p(c)&&(d[c]=null);else if(oe(c)){c.value=null;const m=t;m.k&&(u[m.k]=null)}}if(ut(l))gi(l,a,12,[r,u]);else{const m=Ut(l),b=oe(l);if(m||b){const x=()=>{if(e.f){const v=m?p(l)?d[l]:u[l]:l.value;if(i)ot(v)&&ta(v,o);else if(ot(v))v.includes(o)||v.push(o);else if(m)u[l]=[o],p(l)&&(d[l]=u[l]);else{const y=[o];l.value=y,e.k&&(u[e.k]=y)}}else m?(u[l]=r,p(l)&&(d[l]=r)):b&&(l.value=r,e.k&&(u[e.k]=r))};if(r){const v=()=>{x(),eo.delete(e)};v.id=-1,eo.set(e,v),be(v,s)}else Va(e),x()}}}function Va(e){const t=eo.get(e);t&&(t.flags|=8,eo.delete(e))}Ao().requestIdleCallback;Ao().cancelIdleCallback;const jn=e=>!!e.type.__asyncLoader,Eo=e=>e.type.__isKeepAlive;function Nh(e,t){Wu(e,"a",t)}function Fh(e,t){Wu(e,"da",t)}function Wu(e,t,s=ne){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Oo(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Eo(i.parent.vnode)&&Bh(n,t,s,i),i=i.parent}}function Bh(e,t,s,n){const i=Oo(t,e,n,!0);Io(()=>{ta(n[t],i)},s)}function Oo(e,t,s=ne,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{as();const a=bi(s),l=Pe(t,s,e,r);return a(),ls(),l});return n?i.unshift(o):i.push(o),o}}const us=e=>(t,s=ne)=>{(!si||e==="sp")&&Oo(e,(...n)=>t(...n),s)},$h=us("bm"),Ms=us("m"),Hh=us("bu"),Vh=us("u"),qu=us("bum"),Io=us("um"),jh=us("sp"),zh=us("rtg"),Uh=us("rtc");function Wh(e,t=ne){Oo("ec",e,t)}const Gu="components";function so(e,t){return Ku(Gu,e,!0,t)||e}const Yu=Symbol.for("v-ndc");function qh(e){return Ut(e)?Ku(Gu,e,!1)||e:e||Yu}function Ku(e,t,s=!0,n=!1){const i=ve||ne;if(i){const o=i.type;{const a=Op(o,!1);if(a&&(a===t||a===Se(t)||a===wo(Se(t))))return o}const r=ja(i[e]||o[e],t)||ja(i.appContext[e],t);return!r&&n?o:r}}function ja(e,t){return e&&(e[t]||e[Se(t)]||e[wo(Se(t))])}function xt(e,t,s,n){let i;const o=s,r=ot(e);if(r||Ut(e)){const a=r&&qs(e);let l=!1,c=!1;a&&(l=!ke(e),c=cs(e),e=Co(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?pn(Ie(e[u])):Ie(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(It(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,o)}}else i=[];return i}const Sr=e=>e?gd(e)?Do(e):Sr(e.parent):null,zn=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sr(e.parent),$root:e=>Sr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ju(e),$forceUpdate:e=>e.f||(e.f=()=>{ca(e.update)}),$nextTick:e=>e.n||(e.n=mi.bind(e.proxy)),$watch:e=>Ih.bind(e)}),Xo=(e,t)=>e!==Pt&&!e.__isScriptSetup&&Ct(e,t),Gh={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;if(t[0]!=="$"){const f=r[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(Xo(n,t))return r[t]=1,n[t];if(i!==Pt&&Ct(i,t))return r[t]=2,i[t];if(Ct(o,t))return r[t]=3,o[t];if(s!==Pt&&Ct(s,t))return r[t]=4,s[t];Cr&&(r[t]=0)}}const c=zn[t];let u,d;if(c)return t==="$attrs"&&se(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(s!==Pt&&Ct(s,t))return r[t]=4,s[t];if(d=l.config.globalProperties,Ct(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return Xo(i,t)?(i[t]=s,!0):n!==Pt&&Ct(n,t)?(n[t]=s,!0):Ct(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,props:o,type:r}},a){let l;return!!(s[a]||e!==Pt&&a[0]!=="$"&&Ct(e,a)||Xo(t,a)||Ct(o,a)||Ct(n,a)||Ct(zn,a)||Ct(i.config.globalProperties,a)||(l=r.__cssModules)&&l[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ct(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function za(e){return ot(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Cr=!0;function Yh(e){const t=Ju(e),s=e.proxy,n=e.ctx;Cr=!1,t.beforeCreate&&Ua(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:b,deactivated:x,beforeDestroy:v,beforeUnmount:y,destroyed:S,unmounted:k,render:M,renderTracked:N,renderTriggered:F,errorCaptured:j,serverPrefetch:B,expose:Y,inheritAttrs:D,components:A,directives:J,filters:Z}=t;if(c&&Kh(c,n,null),r)for(const Q in r){const et=r[Q];ut(et)&&(n[Q]=et.bind(s))}if(i){const Q=i.call(s,s);It(Q)&&(e.data=To(Q))}if(Cr=!0,o)for(const Q in o){const et=o[Q],ht=ut(et)?et.bind(s,s):ut(et.get)?et.get.bind(s,s):ze,Rt=!ut(et)&&ut(et.set)?et.set.bind(s):ze,dt=yt({get:ht,set:Rt});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>dt.value,set:mt=>dt.value=mt})}if(a)for(const Q in a)Xu(a[Q],n,s,Q);if(l){const Q=ut(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(et=>{$i(et,Q[et])})}u&&Ua(u,e,"c");function V(Q,et){ot(et)?et.forEach(ht=>Q(ht.bind(s))):et&&Q(et.bind(s))}if(V($h,d),V(Ms,f),V(Hh,p),V(Vh,m),V(Nh,b),V(Fh,x),V(Wh,j),V(Uh,N),V(zh,F),V(qu,y),V(Io,k),V(jh,B),ot(Y))if(Y.length){const Q=e.exposed||(e.exposed={});Y.forEach(et=>{Object.defineProperty(Q,et,{get:()=>s[et],set:ht=>s[et]=ht,enumerable:!0})})}else e.exposed||(e.exposed={});M&&e.render===ze&&(e.render=M),D!=null&&(e.inheritAttrs=D),A&&(e.components=A),J&&(e.directives=J),B&&Uu(e)}function Kh(e,t,s=ze){ot(e)&&(e=Tr(e));for(const n in e){const i=e[n];let o;It(i)?"default"in i?o=Ee(i.from||n,i.default,!0):o=Ee(i.from||n):o=Ee(i),oe(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Ua(e,t,s){Pe(ot(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Xu(e,t,s,n){let i=n.includes(".")?Nu(s,n):()=>s[n];if(Ut(e)){const o=t[e];ut(o)&&cn(i,o)}else if(ut(e))cn(i,e.bind(s));else if(It(e))if(ot(e))e.forEach(o=>Xu(o,t,s,n));else{const o=ut(e.handler)?e.handler.bind(s):t[e.handler];ut(o)&&cn(i,o,e)}}function Ju(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>no(l,c,r,!0)),no(l,t,r)),It(t)&&o.set(t,l),l}function no(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&no(e,o,s,!0),i&&i.forEach(r=>no(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=Xh[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const Xh={data:Wa,props:qa,emits:qa,methods:In,computed:In,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:In,directives:In,watch:Qh,provide:Wa,inject:Jh};function Wa(e,t){return t?e?function(){return Zt(ut(e)?e.call(this,this):e,ut(t)?t.call(this,this):t)}:t:e}function Jh(e,t){return In(Tr(e),Tr(t))}function Tr(e){if(ot(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function In(e,t){return e?Zt(Object.create(null),e,t):t}function qa(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:Zt(Object.create(null),za(e),za(t??{})):t}function Qh(e,t){if(!e)return t;if(!t)return e;const s=Zt(Object.create(null),e);for(const n in t)s[n]=ae(e[n],t[n]);return s}function Qu(){return{app:null,config:{isNativeTag:ou,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zh=0;function tp(e,t){return function(n,i=null){ut(n)||(n=Zt({},n)),i!=null&&!It(i)&&(i=null);const o=Qu(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:Zh++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Pp,get config(){return o.config},set config(u){},use(u,...d){return r.has(u)||(u&&ut(u.install)?(r.add(u),u.install(c,...d)):ut(u)&&(r.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||Tt(n,i);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Do(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Pe(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=un;un=c;try{return u()}finally{un=d}}};return c}}let un=null;const ep=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Se(t)}Modifiers`]||e[`${Js(t)}Modifiers`];function sp(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Pt;let i=s;const o=t.startsWith("update:"),r=o&&ep(n,t.slice(7));r&&(r.trim&&(i=s.map(u=>Ut(u)?u.trim():u)),r.number&&(i=s.map(ko)));let a,l=n[a=Uo(t)]||n[a=Uo(Se(t))];!l&&o&&(l=n[a=Uo(Js(t))]),l&&Pe(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pe(c,e,6,i)}}const np=new WeakMap;function Zu(e,t,s=!1){const n=s?np:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!ut(e)){const l=c=>{const u=Zu(c,t,!0);u&&(a=!0,Zt(r,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(It(e)&&n.set(e,null),null):(ot(o)?o.forEach(l=>r[l]=null):Zt(r,o),It(e)&&n.set(e,r),r)}function Po(e,t){return!e||!vo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ct(e,t[0].toLowerCase()+t.slice(1))||Ct(e,Js(t))||Ct(e,t))}function Ga(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:b}=e,x=to(e);let v,y;try{if(s.shapeFlag&4){const k=i||n,M=k;v=je(c.call(M,k,u,d,p,f,m)),y=a}else{const k=t;v=je(k.length>1?k(d,{attrs:a,slots:r,emit:l}):k(d,null)),y=t.props?a:ip(a)}}catch(k){Un.length=0,Mo(k,e,1),v=Tt(ue)}let S=v;if(y&&b!==!1){const k=Object.keys(y),{shapeFlag:M}=S;k.length&&M&7&&(o&&k.some(Zr)&&(y=op(y,o)),S=Ss(S,y,!1,!0))}return s.dirs&&(S=Ss(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&ti(S,s.transition),v=S,to(x),v}const ip=e=>{let t;for(const s in e)(s==="class"||s==="style"||vo(s))&&((t||(t={}))[s]=e[s]);return t},op=(e,t)=>{const s={};for(const n in e)(!Zr(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function rp(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ya(n,r,c):!!r;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(r[f]!==n[f]&&!Po(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Ya(n,r,c):!0:!!r;return!1}function Ya(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Po(s,o))return!0}return!1}function ap({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const td={},ed=()=>Object.create(td),sd=e=>Object.getPrototypeOf(e)===td;function lp(e,t,s,n=!1){const i={},o=ed();e.propsDefaults=Object.create(null),nd(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Tu(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function cp(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=At(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Po(e.emitsOptions,f))continue;const p=t[f];if(l)if(Ct(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const m=Se(f);i[m]=Mr(l,a,m,p,e,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{nd(e,t,i,o)&&(c=!0);let u;for(const d in a)(!t||!Ct(t,d)&&((u=Js(d))===d||!Ct(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=Mr(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!Ct(t,d))&&(delete o[d],c=!0)}c&&es(e.attrs,"set","")}function nd(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Bn(l))continue;const c=t[l];let u;i&&Ct(i,u=Se(l))?!o||!o.includes(u)?s[u]=c:(a||(a={}))[u]=c:Po(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=At(s),c=a||Pt;for(let u=0;u<o.length;u++){const d=o[u];s[d]=Mr(i,l,d,c[d],e,!Ct(c,d))}}return r}function Mr(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=Ct(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ut(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=bi(i);n=c[s]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===Js(s))&&(n=!0))}return n}const up=new WeakMap;function id(e,t,s=!1){const n=s?up:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!ut(e)){const u=d=>{l=!0;const[f,p]=id(d,t,!0);Zt(r,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return It(e)&&n.set(e,rn),rn;if(ot(o))for(let u=0;u<o.length;u++){const d=Se(o[u]);Ka(d)&&(r[d]=Pt)}else if(o)for(const u in o){const d=Se(u);if(Ka(d)){const f=o[u],p=r[d]=ot(f)||ut(f)?{type:f}:Zt({},f),m=p.type;let b=!1,x=!0;if(ot(m))for(let v=0;v<m.length;++v){const y=m[v],S=ut(y)&&y.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(x=!1)}else b=ut(m)&&m.name==="Boolean";p[0]=b,p[1]=x,(b||Ct(p,"default"))&&a.push(d)}}const c=[r,a];return It(e)&&n.set(e,c),c}function Ka(e){return e[0]!=="$"&&!Bn(e)}const ua=e=>e==="_"||e==="_ctx"||e==="$stable",da=e=>ot(e)?e.map(je):[je(e)],dp=(e,t,s)=>{if(t._n)return t;const n=Xt((...i)=>da(t(...i)),s);return n._c=!1,n},od=(e,t,s)=>{const n=e._ctx;for(const i in e){if(ua(i))continue;const o=e[i];if(ut(o))t[i]=dp(i,o,n);else if(o!=null){const r=da(o);t[i]=()=>r}}},rd=(e,t)=>{const s=da(t);e.slots.default=()=>s},ad=(e,t,s)=>{for(const n in t)(s||!ua(n))&&(e[n]=t[n])},fp=(e,t,s)=>{const n=e.slots=ed();if(e.vnode.shapeFlag&32){const i=t._;i?(ad(n,t,s),s&&cu(n,"_",i,!0)):od(t,n)}else t&&rd(e,t)},hp=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Pt;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:ad(i,t,s):(o=!t.$stable,od(t,i)),r=t}else t&&(rd(e,t),r={default:1});if(o)for(const a in i)!ua(a)&&r[a]==null&&delete i[a]},be=xp;function pp(e){return gp(e)}function gp(e,t){const s=Ao();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=ze,insertStaticContent:m}=e,b=(g,_,C,L=null,H=null,E=null,T=void 0,q=null,K=!!_.dynamicChildren)=>{if(g===_)return;g&&!Vs(g,_)&&(L=w(g),mt(g,H,E,!0),g=null),_.patchFlag===-2&&(K=!1,_.dynamicChildren=null);const{type:G,ref:it,shapeFlag:tt}=_;switch(G){case Ro:x(g,_,C,L);break;case ue:v(g,_,C,L);break;case Hi:g==null&&y(_,C,L,T);break;case rt:A(g,_,C,L,H,E,T,q,K);break;default:tt&1?M(g,_,C,L,H,E,T,q,K):tt&6?J(g,_,C,L,H,E,T,q,K):(tt&64||tt&128)&&G.process(g,_,C,L,H,E,T,q,K,W)}it!=null&&H?Vn(it,g&&g.ref,E,_||g,!_):it==null&&g&&g.ref!=null&&Vn(g.ref,null,E,g,!0)},x=(g,_,C,L)=>{if(g==null)n(_.el=a(_.children),C,L);else{const H=_.el=g.el;_.children!==g.children&&c(H,_.children)}},v=(g,_,C,L)=>{g==null?n(_.el=l(_.children||""),C,L):_.el=g.el},y=(g,_,C,L)=>{[g.el,g.anchor]=m(g.children,_,C,L,g.el,g.anchor)},S=({el:g,anchor:_},C,L)=>{let H;for(;g&&g!==_;)H=f(g),n(g,C,L),g=H;n(_,C,L)},k=({el:g,anchor:_})=>{let C;for(;g&&g!==_;)C=f(g),i(g),g=C;i(_)},M=(g,_,C,L,H,E,T,q,K)=>{if(_.type==="svg"?T="svg":_.type==="math"&&(T="mathml"),g==null)N(_,C,L,H,E,T,q,K);else{const G=g.el&&g.el._isVueCE?g.el:null;try{G&&G._beginPatch(),B(g,_,H,E,T,q,K)}finally{G&&G._endPatch()}}},N=(g,_,C,L,H,E,T,q)=>{let K,G;const{props:it,shapeFlag:tt,transition:nt,dirs:at}=g;if(K=g.el=r(g.type,E,it&&it.is,it),tt&8?u(K,g.children):tt&16&&j(g.children,K,null,L,H,Jo(g,E),T,q),at&&Os(g,null,L,"created"),F(K,g,g.scopeId,T,L),it){for(const Lt in it)Lt!=="value"&&!Bn(Lt)&&o(K,Lt,null,it[Lt],E,L);"value"in it&&o(K,"value",null,it.value,E),(G=it.onVnodeBeforeMount)&&Fe(G,L,g)}at&&Os(g,null,L,"beforeMount");const _t=mp(H,nt);_t&&nt.beforeEnter(K),n(K,_,C),((G=it&&it.onVnodeMounted)||_t||at)&&be(()=>{G&&Fe(G,L,g),_t&&nt.enter(K),at&&Os(g,null,L,"mounted")},H)},F=(g,_,C,L,H)=>{if(C&&p(g,C),L)for(let E=0;E<L.length;E++)p(g,L[E]);if(H){let E=H.subTree;if(_===E||dd(E.type)&&(E.ssContent===_||E.ssFallback===_)){const T=H.vnode;F(g,T,T.scopeId,T.slotScopeIds,H.parent)}}},j=(g,_,C,L,H,E,T,q,K=0)=>{for(let G=K;G<g.length;G++){const it=g[G]=q?ms(g[G]):je(g[G]);b(null,it,_,C,L,H,E,T,q)}},B=(g,_,C,L,H,E,T)=>{const q=_.el=g.el;let{patchFlag:K,dynamicChildren:G,dirs:it}=_;K|=g.patchFlag&16;const tt=g.props||Pt,nt=_.props||Pt;let at;if(C&&Is(C,!1),(at=nt.onVnodeBeforeUpdate)&&Fe(at,C,_,g),it&&Os(_,g,C,"beforeUpdate"),C&&Is(C,!0),(tt.innerHTML&&nt.innerHTML==null||tt.textContent&&nt.textContent==null)&&u(q,""),G?Y(g.dynamicChildren,G,q,C,L,Jo(_,H),E):T||et(g,_,q,null,C,L,Jo(_,H),E,!1),K>0){if(K&16)D(q,tt,nt,C,H);else if(K&2&&tt.class!==nt.class&&o(q,"class",null,nt.class,H),K&4&&o(q,"style",tt.style,nt.style,H),K&8){const _t=_.dynamicProps;for(let Lt=0;Lt<_t.length;Lt++){const Mt=_t[Lt],de=tt[Mt],fe=nt[Mt];(fe!==de||Mt==="value")&&o(q,Mt,de,fe,H,C)}}K&1&&g.children!==_.children&&u(q,_.children)}else!T&&G==null&&D(q,tt,nt,C,H);((at=nt.onVnodeUpdated)||it)&&be(()=>{at&&Fe(at,C,_,g),it&&Os(_,g,C,"updated")},L)},Y=(g,_,C,L,H,E,T)=>{for(let q=0;q<_.length;q++){const K=g[q],G=_[q],it=K.el&&(K.type===rt||!Vs(K,G)||K.shapeFlag&198)?d(K.el):C;b(K,G,it,null,L,H,E,T,!0)}},D=(g,_,C,L,H)=>{if(_!==C){if(_!==Pt)for(const E in _)!Bn(E)&&!(E in C)&&o(g,E,_[E],null,H,L);for(const E in C){if(Bn(E))continue;const T=C[E],q=_[E];T!==q&&E!=="value"&&o(g,E,q,T,H,L)}"value"in C&&o(g,"value",_.value,C.value,H)}},A=(g,_,C,L,H,E,T,q,K)=>{const G=_.el=g?g.el:a(""),it=_.anchor=g?g.anchor:a("");let{patchFlag:tt,dynamicChildren:nt,slotScopeIds:at}=_;at&&(q=q?q.concat(at):at),g==null?(n(G,C,L),n(it,C,L),j(_.children||[],C,it,H,E,T,q,K)):tt>0&&tt&64&&nt&&g.dynamicChildren&&g.dynamicChildren.length===nt.length?(Y(g.dynamicChildren,nt,C,H,E,T,q),(_.key!=null||H&&_===H.subTree)&&ld(g,_,!0)):et(g,_,C,it,H,E,T,q,K)},J=(g,_,C,L,H,E,T,q,K)=>{_.slotScopeIds=q,g==null?_.shapeFlag&512?H.ctx.activate(_,C,L,T,K):Z(_,C,L,H,E,T,K):st(g,_,K)},Z=(g,_,C,L,H,E,T)=>{const q=g.component=Sp(g,L,H);if(Eo(g)&&(q.ctx.renderer=W),Cp(q,!1,T),q.asyncDep){if(H&&H.registerDep(q,V,T),!g.el){const K=q.subTree=Tt(ue);v(null,K,_,C),g.placeholder=K.el}}else V(q,g,_,C,H,E,T)},st=(g,_,C)=>{const L=_.component=g.component;if(rp(g,_,C))if(L.asyncDep&&!L.asyncResolved){Q(L,_,C);return}else L.next=_,L.update();else _.el=g.el,L.vnode=_},V=(g,_,C,L,H,E,T)=>{const q=()=>{if(g.isMounted){let{next:tt,bu:nt,u:at,parent:_t,vnode:Lt}=g;{const Le=cd(g);if(Le){tt&&(tt.el=Lt.el,Q(g,tt,T)),Le.asyncDep.then(()=>{g.isUnmounted||q()});return}}let Mt=tt,de;Is(g,!1),tt?(tt.el=Lt.el,Q(g,tt,T)):tt=Lt,nt&&Bi(nt),(de=tt.props&&tt.props.onVnodeBeforeUpdate)&&Fe(de,_t,tt,Lt),Is(g,!0);const fe=Ga(g),De=g.subTree;g.subTree=fe,b(De,fe,d(De.el),w(De),g,H,E),tt.el=fe.el,Mt===null&&ap(g,fe.el),at&&be(at,H),(de=tt.props&&tt.props.onVnodeUpdated)&&be(()=>Fe(de,_t,tt,Lt),H)}else{let tt;const{el:nt,props:at}=_,{bm:_t,m:Lt,parent:Mt,root:de,type:fe}=g,De=jn(_);Is(g,!1),_t&&Bi(_t),!De&&(tt=at&&at.onVnodeBeforeMount)&&Fe(tt,Mt,_),Is(g,!0);{de.ce&&de.ce._def.shadowRoot!==!1&&de.ce._injectChildStyle(fe);const Le=g.subTree=Ga(g);b(null,Le,C,L,g,H,E),_.el=Le.el}if(Lt&&be(Lt,H),!De&&(tt=at&&at.onVnodeMounted)){const Le=_;be(()=>Fe(tt,Mt,Le),H)}(_.shapeFlag&256||Mt&&jn(Mt.vnode)&&Mt.vnode.shapeFlag&256)&&g.a&&be(g.a,H),g.isMounted=!0,_=C=L=null}};g.scope.on();const K=g.effect=new hu(q);g.scope.off();const G=g.update=K.run.bind(K),it=g.job=K.runIfDirty.bind(K);it.i=g,it.id=g.uid,K.scheduler=()=>ca(it),Is(g,!0),G()},Q=(g,_,C)=>{_.component=g;const L=g.vnode.props;g.vnode=_,g.next=null,cp(g,_.props,L,C),hp(g,_.children,C),as(),$a(g),ls()},et=(g,_,C,L,H,E,T,q,K=!1)=>{const G=g&&g.children,it=g?g.shapeFlag:0,tt=_.children,{patchFlag:nt,shapeFlag:at}=_;if(nt>0){if(nt&128){Rt(G,tt,C,L,H,E,T,q,K);return}else if(nt&256){ht(G,tt,C,L,H,E,T,q,K);return}}at&8?(it&16&&I(G,H,E),tt!==G&&u(C,tt)):it&16?at&16?Rt(G,tt,C,L,H,E,T,q,K):I(G,H,E,!0):(it&8&&u(C,""),at&16&&j(tt,C,L,H,E,T,q,K))},ht=(g,_,C,L,H,E,T,q,K)=>{g=g||rn,_=_||rn;const G=g.length,it=_.length,tt=Math.min(G,it);let nt;for(nt=0;nt<tt;nt++){const at=_[nt]=K?ms(_[nt]):je(_[nt]);b(g[nt],at,C,null,H,E,T,q,K)}G>it?I(g,H,E,!0,!1,tt):j(_,C,L,H,E,T,q,K,tt)},Rt=(g,_,C,L,H,E,T,q,K)=>{let G=0;const it=_.length;let tt=g.length-1,nt=it-1;for(;G<=tt&&G<=nt;){const at=g[G],_t=_[G]=K?ms(_[G]):je(_[G]);if(Vs(at,_t))b(at,_t,C,null,H,E,T,q,K);else break;G++}for(;G<=tt&&G<=nt;){const at=g[tt],_t=_[nt]=K?ms(_[nt]):je(_[nt]);if(Vs(at,_t))b(at,_t,C,null,H,E,T,q,K);else break;tt--,nt--}if(G>tt){if(G<=nt){const at=nt+1,_t=at<it?_[at].el:L;for(;G<=nt;)b(null,_[G]=K?ms(_[G]):je(_[G]),C,_t,H,E,T,q,K),G++}}else if(G>nt)for(;G<=tt;)mt(g[G],H,E,!0),G++;else{const at=G,_t=G,Lt=new Map;for(G=_t;G<=nt;G++){const me=_[G]=K?ms(_[G]):je(_[G]);me.key!=null&&Lt.set(me.key,G)}let Mt,de=0;const fe=nt-_t+1;let De=!1,Le=0;const _n=new Array(fe);for(G=0;G<fe;G++)_n[G]=0;for(G=at;G<=tt;G++){const me=g[G];if(de>=fe){mt(me,H,E,!0);continue}let Ne;if(me.key!=null)Ne=Lt.get(me.key);else for(Mt=_t;Mt<=nt;Mt++)if(_n[Mt-_t]===0&&Vs(me,_[Mt])){Ne=Mt;break}Ne===void 0?mt(me,H,E,!0):(_n[Ne-_t]=G+1,Ne>=Le?Le=Ne:De=!0,b(me,_[Ne],C,null,H,E,T,q,K),de++)}const Pa=De?bp(_n):rn;for(Mt=Pa.length-1,G=fe-1;G>=0;G--){const me=_t+G,Ne=_[me],Ra=_[me+1],Da=me+1<it?Ra.el||ud(Ra):L;_n[G]===0?b(null,Ne,C,Da,H,E,T,q,K):De&&(Mt<0||G!==Pa[Mt]?dt(Ne,C,Da,2):Mt--)}}},dt=(g,_,C,L,H=null)=>{const{el:E,type:T,transition:q,children:K,shapeFlag:G}=g;if(G&6){dt(g.component.subTree,_,C,L);return}if(G&128){g.suspense.move(_,C,L);return}if(G&64){T.move(g,_,C,W);return}if(T===rt){n(E,_,C);for(let tt=0;tt<K.length;tt++)dt(K[tt],_,C,L);n(g.anchor,_,C);return}if(T===Hi){S(g,_,C);return}if(L!==2&&G&1&&q)if(L===0)q.beforeEnter(E),n(E,_,C),be(()=>q.enter(E),H);else{const{leave:tt,delayLeave:nt,afterLeave:at}=q,_t=()=>{g.ctx.isUnmounted?i(E):n(E,_,C)},Lt=()=>{E._isLeaving&&E[Ze](!0),tt(E,()=>{_t(),at&&at()})};nt?nt(E,_t,Lt):Lt()}else n(E,_,C)},mt=(g,_,C,L=!1,H=!1)=>{const{type:E,props:T,ref:q,children:K,dynamicChildren:G,shapeFlag:it,patchFlag:tt,dirs:nt,cacheIndex:at}=g;if(tt===-2&&(H=!1),q!=null&&(as(),Vn(q,null,C,g,!0),ls()),at!=null&&(_.renderCache[at]=void 0),it&256){_.ctx.deactivate(g);return}const _t=it&1&&nt,Lt=!jn(g);let Mt;if(Lt&&(Mt=T&&T.onVnodeBeforeUnmount)&&Fe(Mt,_,g),it&6)kt(g.component,C,L);else{if(it&128){g.suspense.unmount(C,L);return}_t&&Os(g,null,_,"beforeUnmount"),it&64?g.type.remove(g,_,C,W,L):G&&!G.hasOnce&&(E!==rt||tt>0&&tt&64)?I(G,_,C,!1,!0):(E===rt&&tt&384||!H&&it&16)&&I(K,_,C),L&&Dt(g)}(Lt&&(Mt=T&&T.onVnodeUnmounted)||_t)&&be(()=>{Mt&&Fe(Mt,_,g),_t&&Os(g,null,_,"unmounted")},C)},Dt=g=>{const{type:_,el:C,anchor:L,transition:H}=g;if(_===rt){bt(C,L);return}if(_===Hi){k(g);return}const E=()=>{i(C),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(g.shapeFlag&1&&H&&!H.persisted){const{leave:T,delayLeave:q}=H,K=()=>T(C,E);q?q(g.el,E,K):K()}else E()},bt=(g,_)=>{let C;for(;g!==_;)C=f(g),i(g),g=C;i(_)},kt=(g,_,C)=>{const{bum:L,scope:H,job:E,subTree:T,um:q,m:K,a:G}=g;Xa(K),Xa(G),L&&Bi(L),H.stop(),E&&(E.flags|=8,mt(T,g,_,C)),q&&be(q,_),be(()=>{g.isUnmounted=!0},_)},I=(g,_,C,L=!1,H=!1,E=0)=>{for(let T=E;T<g.length;T++)mt(g[T],_,C,L,H)},w=g=>{if(g.shapeFlag&6)return w(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const _=f(g.anchor||g.el),C=_&&_[Ph];return C?f(C):_};let $=!1;const z=(g,_,C)=>{let L;g==null?_._vnode&&(mt(_._vnode,null,null,!0),L=_._vnode.component):b(_._vnode||null,g,_,null,null,null,C),_._vnode=g,$||($=!0,$a(L),Pu(),$=!1)},W={p:b,um:mt,m:dt,r:Dt,mt:Z,mc:j,pc:et,pbc:Y,n:w,o:e};return{render:z,hydrate:void 0,createApp:tp(z)}}function Jo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Is({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ld(e,t,s=!1){const n=e.children,i=t.children;if(ot(n)&&ot(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=ms(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&ld(r,a)),a.type===Ro&&(a.patchFlag!==-1?a.el=r.el:a.__elIndex=o+(e.type===rt?1:0)),a.type===ue&&!a.el&&(a.el=r.el)}}function bp(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function cd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:cd(t)}function Xa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ud(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?ud(t.subTree):null}const dd=e=>e.__isSuspense;function xp(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):Mh(e)}const rt=Symbol.for("v-fgt"),Ro=Symbol.for("v-txt"),ue=Symbol.for("v-cmt"),Hi=Symbol.for("v-stc"),Un=[];let _e=null;function O(e=!1){Un.push(_e=e?null:[])}function vp(){Un.pop(),_e=Un[Un.length-1]||null}let ei=1;function io(e,t=!1){ei+=e,e<0&&_e&&t&&(_e.hasOnce=!0)}function fd(e){return e.dynamicChildren=ei>0?_e||rn:null,vp(),ei>0&&_e&&_e.push(e),e}function P(e,t,s,n,i,o){return fd(h(e,t,s,n,i,o,!0))}function Er(e,t,s,n,i){return fd(Tt(e,t,s,n,i,!0))}function oo(e){return e?e.__v_isVNode===!0:!1}function Vs(e,t){return e.type===t.type&&e.key===t.key}const hd=({key:e})=>e??null,Vi=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ut(e)||oe(e)||ut(e)?{i:ve,r:e,k:t,f:!!s}:e:null);function h(e,t=null,s=null,n=0,i=null,o=e===rt?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hd(t),ref:t&&Vi(t),scopeId:Du,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ve};return a?(fa(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ut(s)?8:16),ei>0&&!r&&_e&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&_e.push(l),l}const Tt=_p;function _p(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Yu)&&(e=ue),oo(e)){const a=Ss(e,t,!0);return s&&fa(a,s),ei>0&&!o&&_e&&(a.shapeFlag&6?_e[_e.indexOf(e)]=a:_e.push(a)),a.patchFlag=-2,a}if(Ip(e)&&(e=e.__vccOpts),t){t=yp(t);let{class:a,style:l}=t;a&&!Ut(a)&&(t.class=Yt(a)),It(l)&&(la(l)&&!ot(l)&&(l=Zt({},l)),t.style=Ve(l))}const r=Ut(e)?1:dd(e)?128:Fu(e)?64:It(e)?4:ut(e)?2:0;return h(e,t,s,n,i,r,o,!0)}function yp(e){return e?la(e)||sd(e)?Zt({},e):e:null}function Ss(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?wp(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&hd(c),ref:t&&t.ref?s&&o?ot(o)?o.concat(Vi(t)):[o,Vi(t)]:Vi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ss(e.ssContent),ssFallback:e.ssFallback&&Ss(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ti(u,l.clone(u)),u}function lt(e=" ",t=0){return Tt(Ro,null,e,t)}function on(e,t){const s=Tt(Hi,null,e);return s.staticCount=t,s}function ft(e="",t=!1){return t?(O(),Er(ue,null,e)):Tt(ue,null,e)}function je(e){return e==null||typeof e=="boolean"?Tt(ue):ot(e)?Tt(rt,null,e.slice()):oo(e)?ms(e):Tt(Ro,null,String(e))}function ms(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ss(e)}function fa(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ot(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),fa(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!sd(t)?t._ctx=ve:i===3&&ve&&(ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ut(t)?(t={default:t,_ctx:ve},s=32):(t=String(t),n&64?(s=16,t=[lt(t)]):s=8);e.children=t,e.shapeFlag|=s}function wp(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Yt([t.class,n.class]));else if(i==="style")t.style=Ve([t.style,n.style]);else if(vo(i)){const o=t[i],r=n[i];r&&o!==r&&!(ot(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function Fe(e,t,s,n=null){Pe(e,t,7,[s,n])}const kp=Qu();let Ap=0;function Sp(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||kp,o={uid:Ap++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:id(n,i),emitsOptions:Zu(n,i),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:n.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=sp.bind(null,o),e.ce&&e.ce(o),o}let ne=null;const pd=()=>ne||ve;let ro,Or;{const e=Ao(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};ro=t("__VUE_INSTANCE_SETTERS__",s=>ne=s),Or=t("__VUE_SSR_SETTERS__",s=>si=s)}const bi=e=>{const t=ne;return ro(e),e.scope.on(),()=>{e.scope.off(),ro(t)}},Ja=()=>{ne&&ne.scope.off(),ro(null)};function gd(e){return e.vnode.shapeFlag&4}let si=!1;function Cp(e,t=!1,s=!1){t&&Or(t);const{props:n,children:i}=e.vnode,o=gd(e);lp(e,n,o,t),fp(e,i,s||t);const r=o?Tp(e,t):void 0;return t&&Or(!1),r}function Tp(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gh);const{setup:n}=s;if(n){as();const i=e.setupContext=n.length>1?Ep(e):null,o=bi(e),r=gi(n,e,0,[e.props,i]),a=ru(r);if(ls(),o(),(a||e.sp)&&!jn(e)&&Uu(e),a){if(r.then(Ja,Ja),t)return r.then(l=>{Qa(e,l)}).catch(l=>{Mo(l,e,0)});e.asyncDep=r}else Qa(e,r)}else md(e)}function Qa(e,t,s){ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:It(t)&&(e.setupState=Eu(t)),md(e)}function md(e,t,s){const n=e.type;e.render||(e.render=n.render||ze);{const i=bi(e);as();try{Yh(e)}finally{ls(),i()}}}const Mp={get(e,t){return se(e,"get",""),e[t]}};function Ep(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Mp),slots:e.slots,emit:e.emit,expose:t}}function Do(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Eu(xh(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in zn)return zn[s](e)},has(t,s){return s in t||s in zn}})):e.proxy}function Op(e,t=!0){return ut(e)?e.displayName||e.name:e.name||t&&e.__name}function Ip(e){return ut(e)&&"__vccOpts"in e}const yt=(e,t)=>kh(e,t,si);function ha(e,t,s){try{io(-1);const n=arguments.length;return n===2?It(t)&&!ot(t)?oo(t)?Tt(e,null,[t]):Tt(e,t):Tt(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&oo(s)&&(s=[s]),Tt(e,t,s))}finally{io(1)}}const Pp="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ir;const Za=typeof window<"u"&&window.trustedTypes;if(Za)try{Ir=Za.createPolicy("vue",{createHTML:e=>e})}catch{}const bd=Ir?e=>Ir.createHTML(e):e=>e,Rp="http://www.w3.org/2000/svg",Dp="http://www.w3.org/1998/Math/MathML",Qe=typeof document<"u"?document:null,tl=Qe&&Qe.createElement("template"),Lp={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?Qe.createElementNS(Rp,e):t==="mathml"?Qe.createElementNS(Dp,e):s?Qe.createElement(e,{is:s}):Qe.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Qe.createTextNode(e),createComment:e=>Qe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{tl.innerHTML=bd(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=tl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},fs="transition",wn="animation",ni=Symbol("_vtc"),xd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Np=Zt({},Bu,xd),Fp=e=>(e.displayName="Transition",e.props=Np,e),el=Fp((e,{slots:t})=>ha(Lh,Bp(e),t)),Ps=(e,t=[])=>{ot(e)?e.forEach(s=>s(...t)):e&&e(...t)},sl=e=>e?ot(e)?e.some(t=>t.length>1):e.length>1:!1;function Bp(e){const t={};for(const A in e)A in xd||(t[A]=e[A]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,m=$p(i),b=m&&m[0],x=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:S,onLeave:k,onLeaveCancelled:M,onBeforeAppear:N=v,onAppear:F=y,onAppearCancelled:j=S}=t,B=(A,J,Z,st)=>{A._enterCancelled=st,Rs(A,J?u:a),Rs(A,J?c:r),Z&&Z()},Y=(A,J)=>{A._isLeaving=!1,Rs(A,d),Rs(A,p),Rs(A,f),J&&J()},D=A=>(J,Z)=>{const st=A?F:y,V=()=>B(J,A,Z);Ps(st,[J,V]),nl(()=>{Rs(J,A?l:o),Ge(J,A?u:a),sl(st)||il(J,n,b,V)})};return Zt(t,{onBeforeEnter(A){Ps(v,[A]),Ge(A,o),Ge(A,r)},onBeforeAppear(A){Ps(N,[A]),Ge(A,l),Ge(A,c)},onEnter:D(!1),onAppear:D(!0),onLeave(A,J){A._isLeaving=!0;const Z=()=>Y(A,J);Ge(A,d),A._enterCancelled?(Ge(A,f),al(A)):(al(A),Ge(A,f)),nl(()=>{A._isLeaving&&(Rs(A,d),Ge(A,p),sl(k)||il(A,n,x,Z))}),Ps(k,[A,Z])},onEnterCancelled(A){B(A,!1,void 0,!0),Ps(S,[A])},onAppearCancelled(A){B(A,!0,void 0,!0),Ps(j,[A])},onLeaveCancelled(A){Y(A),Ps(M,[A])}})}function $p(e){if(e==null)return null;if(It(e))return[Qo(e.enter),Qo(e.leave)];{const t=Qo(e);return[t,t]}}function Qo(e){return zf(e)}function Ge(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[ni]||(e[ni]=new Set)).add(t)}function Rs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[ni];s&&(s.delete(t),s.size||(e[ni]=void 0))}function nl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Hp=0;function il(e,t,s,n){const i=e._endId=++Hp,o=()=>{i===e._endId&&n()};if(s!=null)return setTimeout(o,s);const{type:r,timeout:a,propCount:l}=Vp(e,t);if(!r)return n();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,f),o()},f=p=>{p.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function Vp(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),i=n(`${fs}Delay`),o=n(`${fs}Duration`),r=ol(i,o),a=n(`${wn}Delay`),l=n(`${wn}Duration`),c=ol(a,l);let u=null,d=0,f=0;t===fs?r>0&&(u=fs,d=r,f=o.length):t===wn?c>0&&(u=wn,d=c,f=l.length):(d=Math.max(r,c),u=d>0?r>c?fs:wn:null,f=u?u===fs?o.length:l.length:0);const p=u===fs&&/\b(?:transform|all)(?:,|$)/.test(n(`${fs}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function ol(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>rl(s)+rl(e[n])))}function rl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function al(e){return(e?e.ownerDocument:document).body.offsetHeight}function jp(e,t,s){const n=e[ni];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ao=Symbol("_vod"),vd=Symbol("_vsh"),zp={name:"show",beforeMount(e,{value:t},{transition:s}){e[ao]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):kn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),kn(e,!0),n.enter(e)):n.leave(e,()=>{kn(e,!1)}):kn(e,t))},beforeUnmount(e,{value:t}){kn(e,t)}};function kn(e,t){e.style.display=t?e[ao]:"none",e[vd]=!t}const Up=Symbol(""),Wp=/(?:^|;)\s*display\s*:/;function qp(e,t,s){const n=e.style,i=Ut(s);let o=!1;if(s&&!i){if(t)if(Ut(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&ji(n,a,"")}else for(const r in t)s[r]==null&&ji(n,r,"");for(const r in s)r==="display"&&(o=!0),ji(n,r,s[r])}else if(i){if(t!==s){const r=n[Up];r&&(s+=";"+r),n.cssText=s,o=Wp.test(s)}}else t&&e.removeAttribute("style");ao in e&&(e[ao]=o?n.display:"",e[vd]&&(n.display="none"))}const ll=/\s*!important$/;function ji(e,t,s){if(ot(s))s.forEach(n=>ji(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Gp(e,t);ll.test(s)?e.setProperty(Js(n),s.replace(ll,""),"important"):e[n]=s}}const cl=["Webkit","Moz","ms"],Zo={};function Gp(e,t){const s=Zo[t];if(s)return s;let n=Se(t);if(n!=="filter"&&n in e)return Zo[t]=n;n=wo(n);for(let i=0;i<cl.length;i++){const o=cl[i]+n;if(o in e)return Zo[t]=o}return t}const ul="http://www.w3.org/1999/xlink";function dl(e,t,s,n,i,o=Kf(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ul,t.slice(6,t.length)):e.setAttributeNS(ul,t,s):s==null||o&&!uu(s)?e.removeAttribute(t):e.setAttribute(t,o?"":We(s)?String(s):s)}function fl(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?bd(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=uu(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(i||t)}function js(e,t,s,n){e.addEventListener(t,s,n)}function Yp(e,t,s,n){e.removeEventListener(t,s,n)}const hl=Symbol("_vei");function Kp(e,t,s,n,i=null){const o=e[hl]||(e[hl]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=Xp(t);if(n){const c=o[t]=Zp(n,i);js(e,a,c,l)}else r&&(Yp(e,a,r,l),o[t]=void 0)}}const pl=/(?:Once|Passive|Capture)$/;function Xp(e){let t;if(pl.test(e)){t={};let n;for(;n=e.match(pl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Js(e.slice(2)),t]}let tr=0;const Jp=Promise.resolve(),Qp=()=>tr||(Jp.then(()=>tr=0),tr=Date.now());function Zp(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Pe(t0(n,s.value),t,5,[n])};return s.value=e,s.attached=Qp(),s}function t0(e,t){if(ot(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const gl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,e0=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?jp(e,n,r):t==="style"?qp(e,s,n):vo(t)?Zr(t)||Kp(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):s0(e,t,n,r))?(fl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&dl(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ut(n))?fl(e,Se(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),dl(e,t,n,r))};function s0(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&gl(t)&&ut(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return gl(t)&&Ut(s)?!1:t in e}const lo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ot(t)?s=>Bi(t,s):t};function n0(e){e.target.composing=!0}function ml(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const dn=Symbol("_assign");function bl(e,t,s){return t&&(e=e.trim()),s&&(e=ko(e)),e}const Jt={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[dn]=lo(i);const o=n||i.props&&i.props.type==="number";js(e,t?"change":"input",r=>{r.target.composing||e[dn](bl(e.value,s,o))}),(s||o)&&js(e,"change",()=>{e.value=bl(e.value,s,o)}),t||(js(e,"compositionstart",n0),js(e,"compositionend",ml),js(e,"change",ml))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[dn]=lo(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?ko(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},ii={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=_o(t);js(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?ko(co(r)):co(r));e[dn](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,mi(()=>{e._assigning=!1})}),e[dn]=lo(n)},mounted(e,{value:t}){xl(e,t)},beforeUpdate(e,t,s){e[dn]=lo(s)},updated(e,{value:t}){e._assigning||xl(e,t)}};function xl(e,t){const s=e.multiple,n=ot(t);if(!(s&&!n&&!_o(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=co(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=Jf(t,a)>-1}else r.selected=t.has(a);else if(So(co(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function co(e){return"_value"in e?e._value:e.value}const i0=Zt({patchProp:e0},Lp);let vl;function o0(){return vl||(vl=pp(i0))}const r0=(...e)=>{const t=o0().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=l0(n);if(!i)return;const o=t._component;!ut(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,a0(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function a0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function l0(e){return Ut(e)?document.querySelector(e):e}const c0=""+new URL("logo-DKpw2hTR.svg",import.meta.url).href,_l="sprint_predictor_db",u0="sprint_predictor_athletes",d0="sprint_predictor_races";class Wt{static getDB(){const t=localStorage.getItem(_l);return t?JSON.parse(t):this.initializeDB()}static saveDB(t){t.lastUpdated=new Date().toISOString(),localStorage.setItem(_l,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("db-updated"))}static initializeDB(){const t=JSON.parse(localStorage.getItem(u0)||"{}"),s=JSON.parse(localStorage.getItem(d0)||"[]"),n={version:1,lastUpdated:new Date().toISOString(),athletes:t,races:{}};return s.forEach(i=>{n.races[i.id]=i}),this.saveDB(n),n}static getAthletes(){return this.getDB().athletes||{}}static getRaces(){return this.getDB().races||{}}static saveAthlete(t){const s=this.getDB();s.athletes[t.id]=t,this.saveDB(s)}static saveRace(t){const s=this.getDB();s.races[t.id]=t,this.saveDB(s)}static deleteAthlete(t){const s=this.getDB();delete s.athletes[t],Object.keys(s.races).forEach(n=>{s.races[n].athleteId===t&&delete s.races[n]}),this.saveDB(s)}static deleteRace(t){const s=this.getDB();delete s.races[t],this.saveDB(s)}static setCurrentAthlete(t){t?localStorage.setItem("sprint_predictor_current_athlete",t):localStorage.removeItem("sprint_predictor_current_athlete"),window.dispatchEvent(new CustomEvent("athlete-updated"))}static getCurrentAthleteId(){return localStorage.getItem("sprint_predictor_current_athlete")}}class Ae{constructor(t={}){this.id=t.id||crypto.randomUUID(),this.name=t.name||"",this.birthYear=t.birthYear||new Date().getFullYear()-20,this.gender=t.gender||"M",this.metrics=t.metrics||{},this.notes=t.notes||"",this.lastUpdated=t.lastUpdated||new Date().toISOString()}get age(){return new Date().getFullYear()-this.birthYear}get category(){const t=this.age;return t<16?"U16":t<18?"U18":t<20?"U20":t<23?"U23":"ELITE"}setMetric(t,s){s===""||s===null?delete this.metrics[t]:this.metrics[t]=parseFloat(s),this.lastUpdated=new Date().toISOString()}getMetric(t){return this.metrics[t]}save(){this.lastUpdated=new Date().toISOString(),Wt.saveAthlete({id:this.id,name:this.name,birthYear:this.birthYear,gender:this.gender,metrics:this.metrics,notes:this.notes,lastUpdated:this.lastUpdated})}static load(t){const s=Wt.getAthletes();return s[t]?new Ae(s[t]):null}static getAll(){return Wt.getAthletes()}static delete(t){Wt.deleteAthlete(t)}}const f0={class:"bg-slate-50 text-slate-800 antialiased min-h-screen flex flex-col"},h0={class:"bg-white border-b border-slate-200 sticky top-0 z-50"},p0={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"},g0={class:"hidden md:flex items-center space-x-6"},m0={class:"flex items-center space-x-2 sm:space-x-3"},b0={key:0,class:"hidden lg:flex items-center px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-bold border border-blue-100 mr-2"},x0={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v0={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_0={key:0,class:"md:hidden bg-white border-b border-slate-200 px-4 py-4 space-y-1 shadow-xl"},y0={key:0,class:"pt-2 pb-1 px-4 text-xs font-bold text-slate-400 uppercase tracking-wider"},w0={class:"flex-grow"},k0={__name:"App",setup(e){const t=pt(null),s=pt(!1),n=()=>{const i=Wt.getCurrentAthleteId();if(i){const o=Ae.getAll();t.value=o[i]||null}else t.value=null};return Ms(()=>{n(),window.addEventListener("storage",n),window.addEventListener("athlete-updated",n)}),Io(()=>{window.removeEventListener("storage",n),window.removeEventListener("athlete-updated",n)}),(i,o)=>{const r=so("router-link"),a=so("router-view");return O(),P("div",f0,[h("header",h0,[h("div",p0,[Tt(r,{to:"/",class:"flex items-center space-x-3 hover:opacity-80 transition-opacity"},{default:Xt(()=>[...o[4]||(o[4]=[h("div",{class:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-md shadow-blue-500/20"},[h("img",{src:c0,alt:"Logo"})],-1),h("h1",{class:"text-xl font-bold tracking-tight text-slate-900"},[lt("Sprint "),h("span",{class:"text-blue-600"},"Predictor")],-1)])]),_:1}),h("nav",g0,[Tt(r,{to:"/",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Xt(()=>[...o[5]||(o[5]=[lt("Accueil",-1)])]),_:1}),Tt(r,{to:"/analysis",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Xt(()=>[...o[6]||(o[6]=[lt("Analyse",-1)])]),_:1}),Tt(r,{to:"/races-analysis",class:"text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors","active-class":"text-blue-600"},{default:Xt(()=>[...o[7]||(o[7]=[lt("Courses",-1)])]),_:1})]),h("div",m0,[t.value?(O(),P("div",b0,U(t.value.name),1)):ft("",!0),t.value?(O(),Er(r,{key:1,to:`/athlete/${t.value.id}`,class:"px-3 py-2 sm:px-4 bg-slate-900 hover:bg-slate-800 text-white rounded-lg text-xs sm:text-sm font-semibold transition-colors shadow-sm"},{default:Xt(()=>[...o[8]||(o[8]=[h("span",{class:"hidden sm:inline"},"Profile & PB",-1),h("span",{class:"sm:hidden"},"Profil",-1)])]),_:1},8,["to"])):ft("",!0),h("button",{onClick:o[0]||(o[0]=l=>s.value=!s.value),class:"md:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"},[s.value?(O(),P("svg",v0,[...o[10]||(o[10]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(O(),P("svg",x0,[...o[9]||(o[9]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"},null,-1)])]))])])]),Tt(el,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-4"},{default:Xt(()=>[s.value?(O(),P("div",_0,[Tt(r,{to:"/",onClick:o[1]||(o[1]=l=>s.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Xt(()=>[...o[11]||(o[11]=[lt(" Accueil ",-1)])]),_:1}),Tt(r,{to:"/analysis",onClick:o[2]||(o[2]=l=>s.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Xt(()=>[...o[12]||(o[12]=[lt(" Analyse ",-1)])]),_:1}),Tt(r,{to:"/races-analysis",onClick:o[3]||(o[3]=l=>s.value=!1),class:"block px-4 py-3 text-base font-semibold text-slate-700 hover:bg-slate-50 hover:text-blue-600 rounded-xl transition-all","active-class":"bg-blue-50 text-blue-600"},{default:Xt(()=>[...o[13]||(o[13]=[lt(" Courses ",-1)])]),_:1}),t.value?(O(),P("div",y0," Athlte actuel : "+U(t.value.name),1)):ft("",!0)])):ft("",!0)]),_:1})]),h("main",w0,[Tt(a,null,{default:Xt(({Component:l})=>[Tt(el,{name:"fade",mode:"out-in"},{default:Xt(()=>[(O(),Er(qh(l)))]),_:2},1024)]),_:1})]),o[14]||(o[14]=on('<footer class="bg-white border-t border-slate-200 py-4"><div class="max-w-7xl mx-auto px-4 text-center"><p class="text-slate-500 text-sm font-medium">Sprint Predictor</p><p class="text-slate-400 text-xs mt-1"> Dvelopp avec <span class="text-[7pt]"></span> en  par <a href="https://michaelravedoni.com" class="underline hover:text-blue-500" target="_blank">MR</a></p></div></footer>',1))])}}};/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const nn=typeof document<"u";function _d(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function A0(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&_d(e.default)}const St=Object.assign;function er(e,t){const s={};for(const n in t){const i=t[n];s[n]=Re(i)?i.map(e):e(i)}return s}const Wn=()=>{},Re=Array.isArray;function yl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const yd=/#/g,S0=/&/g,C0=/\//g,T0=/=/g,M0=/\?/g,wd=/\+/g,E0=/%5B/g,O0=/%5D/g,kd=/%5E/g,I0=/%60/g,Ad=/%7B/g,P0=/%7C/g,Sd=/%7D/g,R0=/%20/g;function pa(e){return e==null?"":encodeURI(""+e).replace(P0,"|").replace(E0,"[").replace(O0,"]")}function D0(e){return pa(e).replace(Ad,"{").replace(Sd,"}").replace(kd,"^")}function Pr(e){return pa(e).replace(wd,"%2B").replace(R0,"+").replace(yd,"%23").replace(S0,"%26").replace(I0,"`").replace(Ad,"{").replace(Sd,"}").replace(kd,"^")}function L0(e){return Pr(e).replace(T0,"%3D")}function N0(e){return pa(e).replace(yd,"%23").replace(M0,"%3F")}function F0(e){return N0(e).replace(C0,"%2F")}function oi(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const B0=/\/$/,$0=e=>e.replace(B0,"");function sr(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=t.slice(0,l),o=t.slice(l,a>0?a:t.length),i=e(o.slice(1))),a>=0&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=z0(n??t,s),{fullPath:n+o+r,path:n,query:i,hash:oi(r)}}function H0(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function wl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function V0(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&gn(t.matched[n],s.matched[i])&&Cd(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Cd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!j0(e[s],t[s]))return!1;return!0}function j0(e,t){return Re(e)?kl(e,t):Re(t)?kl(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function kl(e,t){return Re(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function z0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const hs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Rr=function(e){return e.pop="pop",e.push="push",e}({}),nr=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function U0(e){if(!e)if(nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),$0(e)}const W0=/^[^#]+#/;function q0(e,t){return e.replace(W0,"#")+t}function G0(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Lo=()=>({left:window.scrollX,top:window.scrollY});function Y0(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=G0(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Al(e,t){return(history.state?history.state.position-t:-1)+e}const Dr=new Map;function K0(e,t){Dr.set(e,t)}function X0(e){const t=Dr.get(e);return Dr.delete(e),t}function J0(e){return typeof e=="string"||e&&typeof e=="object"}function Td(e){return typeof e=="string"||typeof e=="symbol"}let jt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Md=Symbol("");jt.MATCHER_NOT_FOUND+"",jt.NAVIGATION_GUARD_REDIRECT+"",jt.NAVIGATION_ABORTED+"",jt.NAVIGATION_CANCELLED+"",jt.NAVIGATION_DUPLICATED+"";function mn(e,t){return St(new Error,{type:e,[Md]:!0},t)}function Ye(e,t){return e instanceof Error&&Md in e&&(t==null||!!(e.type&t))}const Q0=["params","query","hash"];function Z0(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of Q0)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function tg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace(wd," "),o=i.indexOf("="),r=oi(o<0?i:i.slice(0,o)),a=o<0?null:oi(i.slice(o+1));if(r in t){let l=t[r];Re(l)||(l=t[r]=[l]),l.push(a)}else t[r]=a}return t}function Sl(e){let t="";for(let s in e){const n=e[s];if(s=L0(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Re(n)?n.map(i=>i&&Pr(i)):[n&&Pr(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function eg(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Re(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const sg=Symbol(""),Cl=Symbol(""),No=Symbol(""),ga=Symbol(""),Lr=Symbol("");function An(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function bs(e,t,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(mn(jt.NAVIGATION_ABORTED,{from:s,to:t})):f instanceof Error?l(f):J0(f)?l(mn(jt.NAVIGATION_GUARD_REDIRECT,{from:t,to:f})):(r&&n.enterCallbacks[i]===r&&typeof f=="function"&&r.push(f),a())},u=o(()=>e.call(n&&n.instances[i],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function ir(e,t,s,n,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(_d(l)){const c=(l.__vccOpts||l)[t];c&&o.push(bs(c,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const d=A0(u)?u.default:u;r.mods[a]=u,r.components[a]=d;const f=(d.__vccOpts||d)[t];return f&&bs(f,s,n,r,a,i)()}))}}return o}function ng(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(c=>gn(c,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(c=>gn(c,l))||i.push(l))}return[s,n,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ig=()=>location.protocol+"//"+location.host;function Ed(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let r=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(r);return a[0]!=="/"&&(a="/"+a),wl(a,"")}return wl(s,e)+n+i}function og(e,t,s,n){let i=[],o=[],r=null;const a=({state:f})=>{const p=Ed(e,location),m=s.value,b=t.value;let x=0;if(f){if(s.value=p,t.value=f,r&&r===m){r=null;return}x=b?f.position-b.position:0}else n(p);i.forEach(v=>{v(s.value,m,{delta:x,type:Rr.pop,direction:x?x>0?nr.forward:nr.back:nr.unknown})})};function l(){r=s.value}function c(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return o.push(p),p}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(St({},f.state,{scroll:Lo()}),"")}}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function Tl(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?Lo():null}}function rg(e){const{history:t,location:s}=window,n={value:Ed(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=e.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:ig()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),s[u?"replace":"assign"](f)}}function r(l,c){o(l,St({},t.state,Tl(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),n.value=l}function a(l,c){const u=St({},i.value,t.state,{forward:l,scroll:Lo()});o(u.current,u,!0),o(l,St({},Tl(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function ag(e){e=U0(e);const t=rg(e),s=og(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=St({location:"",base:e,go:n,createHref:q0.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function lg(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ag(e)}let zs=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Gt=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Gt||{});const cg={type:zs.Static,value:""},ug=/[a-zA-Z0-9_]/;function dg(e){if(!e)return[[]];if(e==="/")return[[cg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=Gt.Static,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(s===Gt.Static?o.push({type:zs.Static,value:c}):s===Gt.Param||s===Gt.ParamRegExp||s===Gt.ParamRegExpEnd?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:zs.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==Gt.ParamRegExp){n=s,s=Gt.EscapeNext;continue}switch(s){case Gt.Static:l==="/"?(c&&d(),r()):l===":"?(d(),s=Gt.Param):f();break;case Gt.EscapeNext:f(),s=n;break;case Gt.Param:l==="("?s=Gt.ParamRegExp:ug.test(l)?f():(d(),s=Gt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Gt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=Gt.ParamRegExpEnd:u+=l;break;case Gt.ParamRegExpEnd:d(),s=Gt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===Gt.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}const Ml="[^/]+?",fg={sensitive:!1,strict:!1,start:!0,end:!0};var le=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(le||{});const hg=/[.+*?^${}()[\]/\\]/g;function pg(e,t){const s=St({},fg,t),n=[];let i=s.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[le.Root];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=le.Segment+(s.sensitive?le.BonusCaseSensitive:0);if(f.type===zs.Static)d||(i+="/"),i+=f.value.replace(hg,"\\$&"),p+=le.Static;else if(f.type===zs.Param){const{value:m,repeatable:b,optional:x,regexp:v}=f;o.push({name:m,repeatable:b,optional:x});const y=v||Ml;if(y!==Ml){p+=le.BonusCustomRegExp;try{`${y}`}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${y}): `+k.message)}}let S=b?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(S=x&&c.length<2?`(?:/${S})`:"/"+S),x&&(S+="?"),i+=S,p+=le.Dynamic,x&&(p+=le.BonusOptional),b&&(p+=le.BonusRepeatable),y===".*"&&(p+=le.BonusWildcard)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=le.BonusStrict}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=o[f-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===zs.Static)u+=p.value;else if(p.type===zs.Param){const{value:m,repeatable:b,optional:x}=p,v=m in c?c[m]:"";if(Re(v)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const y=Re(v)?v.join("/"):v;if(!y)if(x)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=y}}return u||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function gg(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===le.Static+le.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===le.Static+le.Segment?1:-1:0}function Od(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=gg(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(El(n))return 1;if(El(i))return-1}return i.length-n.length}function El(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const mg={strict:!1,end:!0,sensitive:!1};function bg(e,t,s){const n=pg(dg(e.path),s),i=St(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function xg(e,t){const s=[],n=new Map;t=yl(mg,t);function i(d){return n.get(d)}function o(d,f,p){const m=!p,b=Il(d);b.aliasOf=p&&p.record;const x=yl(t,d),v=[b];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const M of k)v.push(Il(St({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let y,S;for(const k of v){const{path:M}=k;if(f&&M[0]!=="/"){const N=f.record.path,F=N[N.length-1]==="/"?"":"/";k.path=f.record.path+(M&&F+M)}if(y=bg(k,f,x),p?p.alias.push(y):(S=S||y,S!==y&&S.alias.push(y),m&&d.name&&!Pl(y)&&r(d.name)),Id(y)&&l(y),b.children){const N=b.children;for(let F=0;F<N.length;F++)o(N[F],y,p&&p.children[F])}p=p||y}return S?()=>{r(S)}:Wn}function r(d){if(Td(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function a(){return s}function l(d){const f=yg(d,s);s.splice(f,0,d),d.record.name&&!Pl(d)&&n.set(d.record.name,d)}function c(d,f){let p,m={},b,x;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw mn(jt.MATCHER_NOT_FOUND,{location:d});x=p.record.name,m=St(Ol(f.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&Ol(d.params,p.keys.map(S=>S.name))),b=p.stringify(m)}else if(d.path!=null)b=d.path,p=s.find(S=>S.re.test(b)),p&&(m=p.parse(b),x=p.record.name);else{if(p=f.name?n.get(f.name):s.find(S=>S.re.test(f.path)),!p)throw mn(jt.MATCHER_NOT_FOUND,{location:d,currentLocation:f});x=p.record.name,m=St({},f.params,d.params),b=p.stringify(m)}const v=[];let y=p;for(;y;)v.unshift(y.record),y=y.parent;return{name:x,path:b,params:m,matched:v,meta:_g(v)}}e.forEach(d=>o(d));function u(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Ol(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Il(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:vg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function vg(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Pl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _g(e){return e.reduce((t,s)=>St(t,s.meta),{})}function yg(e,t){let s=0,n=t.length;for(;s!==n;){const o=s+n>>1;Od(e,t[o])<0?n=o:s=o+1}const i=wg(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function wg(e){let t=e;for(;t=t.parent;)if(Id(t)&&Od(e,t)===0)return t}function Id({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rl(e){const t=Ee(No),s=Ee(ga),n=yt(()=>{const l=rs(e.to);return t.resolve(l)}),i=yt(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(gn.bind(null,u));if(f>-1)return f;const p=Dl(l[c-2]);return c>1&&Dl(u)===p&&d[d.length-1].path!==p?d.findIndex(gn.bind(null,l[c-2])):f}),o=yt(()=>i.value>-1&&Tg(s.params,n.value.params)),r=yt(()=>i.value>-1&&i.value===s.matched.length-1&&Cd(s.params,n.value.params));function a(l={}){if(Cg(l)){const c=t[rs(e.replace)?"replace":"push"](rs(e.to)).catch(Wn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:yt(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function kg(e){return e.length===1?e[0]:e}const Ag=zu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Rl,setup(e,{slots:t}){const s=To(Rl(e)),{options:n}=Ee(No),i=yt(()=>({[Ll(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ll(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&kg(t.default(s));return e.custom?o:ha("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Sg=Ag;function Cg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Tg(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Re(i)||i.length!==n.length||n.some((o,r)=>o.valueOf()!==i[r].valueOf()))return!1}return!0}function Dl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ll=(e,t,s)=>e??t??s,Mg=zu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ee(Lr),i=yt(()=>e.route||n.value),o=Ee(Cl,0),r=yt(()=>{let c=rs(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=yt(()=>i.value.matched[r.value]);$i(Cl,yt(()=>r.value+1)),$i(sg,a),$i(Lr,i);const l=pt();return cn(()=>[l.value,a.value,e.name],([c,u,d],[f,p,m])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!gn(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return Nl(s.default,{Component:f,route:c});const p=d.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,x=ha(f,St({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Nl(s.default,{Component:x,route:c})||x}}});function Nl(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Eg=Mg;function Og(e){const t=xg(e.routes,e),s=e.parseQuery||tg,n=e.stringifyQuery||Sl,i=e.history,o=An(),r=An(),a=An(),l=vh(hs);let c=hs;nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=er.bind(null,w=>""+w),d=er.bind(null,F0),f=er.bind(null,oi);function p(w,$){let z,W;return Td(w)?(z=t.getRecordMatcher(w),W=$):W=w,t.addRoute(W,z)}function m(w){const $=t.getRecordMatcher(w);$&&t.removeRoute($)}function b(){return t.getRoutes().map(w=>w.record)}function x(w){return!!t.getRecordMatcher(w)}function v(w,$){if($=St({},$||l.value),typeof w=="string"){const C=sr(s,w,$.path),L=t.resolve({path:C.path},$),H=i.createHref(C.fullPath);return St(C,L,{params:f(L.params),hash:oi(C.hash),redirectedFrom:void 0,href:H})}let z;if(w.path!=null)z=St({},w,{path:sr(s,w.path,$.path).path});else{const C=St({},w.params);for(const L in C)C[L]==null&&delete C[L];z=St({},w,{params:d(C)}),$.params=d($.params)}const W=t.resolve(z,$),R=w.hash||"";W.params=u(f(W.params));const g=H0(n,St({},w,{hash:D0(R),path:W.path})),_=i.createHref(g);return St({fullPath:g,hash:R,query:n===Sl?eg(w.query):w.query||{}},W,{redirectedFrom:void 0,href:_})}function y(w){return typeof w=="string"?sr(s,w,l.value.path):St({},w)}function S(w,$){if(c!==w)return mn(jt.NAVIGATION_CANCELLED,{from:$,to:w})}function k(w){return F(w)}function M(w){return k(St(y(w),{replace:!0}))}function N(w,$){const z=w.matched[w.matched.length-1];if(z&&z.redirect){const{redirect:W}=z;let R=typeof W=="function"?W(w,$):W;return typeof R=="string"&&(R=R.includes("?")||R.includes("#")?R=y(R):{path:R},R.params={}),St({query:w.query,hash:w.hash,params:R.path!=null?{}:w.params},R)}}function F(w,$){const z=c=v(w),W=l.value,R=w.state,g=w.force,_=w.replace===!0,C=N(z,W);if(C)return F(St(y(C),{state:typeof C=="object"?St({},R,C.state):R,force:g,replace:_}),$||z);const L=z;L.redirectedFrom=$;let H;return!g&&V0(n,W,z)&&(H=mn(jt.NAVIGATION_DUPLICATED,{to:L,from:W}),dt(W,W,!0,!1)),(H?Promise.resolve(H):Y(L,W)).catch(E=>Ye(E)?Ye(E,jt.NAVIGATION_GUARD_REDIRECT)?E:Rt(E):et(E,L,W)).then(E=>{if(E){if(Ye(E,jt.NAVIGATION_GUARD_REDIRECT))return F(St({replace:_},y(E.to),{state:typeof E.to=="object"?St({},R,E.to.state):R,force:g}),$||L)}else E=A(L,W,!0,_,R);return D(L,W,E),E})}function j(w,$){const z=S(w,$);return z?Promise.reject(z):Promise.resolve()}function B(w){const $=bt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(w):w()}function Y(w,$){let z;const[W,R,g]=ng(w,$);z=ir(W.reverse(),"beforeRouteLeave",w,$);for(const C of W)C.leaveGuards.forEach(L=>{z.push(bs(L,w,$))});const _=j.bind(null,w,$);return z.push(_),I(z).then(()=>{z=[];for(const C of o.list())z.push(bs(C,w,$));return z.push(_),I(z)}).then(()=>{z=ir(R,"beforeRouteUpdate",w,$);for(const C of R)C.updateGuards.forEach(L=>{z.push(bs(L,w,$))});return z.push(_),I(z)}).then(()=>{z=[];for(const C of g)if(C.beforeEnter)if(Re(C.beforeEnter))for(const L of C.beforeEnter)z.push(bs(L,w,$));else z.push(bs(C.beforeEnter,w,$));return z.push(_),I(z)}).then(()=>(w.matched.forEach(C=>C.enterCallbacks={}),z=ir(g,"beforeRouteEnter",w,$,B),z.push(_),I(z))).then(()=>{z=[];for(const C of r.list())z.push(bs(C,w,$));return z.push(_),I(z)}).catch(C=>Ye(C,jt.NAVIGATION_CANCELLED)?C:Promise.reject(C))}function D(w,$,z){a.list().forEach(W=>B(()=>W(w,$,z)))}function A(w,$,z,W,R){const g=S(w,$);if(g)return g;const _=$===hs,C=nn?history.state:{};z&&(W||_?i.replace(w.fullPath,St({scroll:_&&C&&C.scroll},R)):i.push(w.fullPath,R)),l.value=w,dt(w,$,z,_),Rt()}let J;function Z(){J||(J=i.listen((w,$,z)=>{if(!kt.listening)return;const W=v(w),R=N(W,kt.currentRoute.value);if(R){F(St(R,{replace:!0,force:!0}),W).catch(Wn);return}c=W;const g=l.value;nn&&K0(Al(g.fullPath,z.delta),Lo()),Y(W,g).catch(_=>Ye(_,jt.NAVIGATION_ABORTED|jt.NAVIGATION_CANCELLED)?_:Ye(_,jt.NAVIGATION_GUARD_REDIRECT)?(F(St(y(_.to),{force:!0}),W).then(C=>{Ye(C,jt.NAVIGATION_ABORTED|jt.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===Rr.pop&&i.go(-1,!1)}).catch(Wn),Promise.reject()):(z.delta&&i.go(-z.delta,!1),et(_,W,g))).then(_=>{_=_||A(W,g,!1),_&&(z.delta&&!Ye(_,jt.NAVIGATION_CANCELLED)?i.go(-z.delta,!1):z.type===Rr.pop&&Ye(_,jt.NAVIGATION_ABORTED|jt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),D(W,g,_)}).catch(Wn)}))}let st=An(),V=An(),Q;function et(w,$,z){Rt(w);const W=V.list();return W.length?W.forEach(R=>R(w,$,z)):console.error(w),Promise.reject(w)}function ht(){return Q&&l.value!==hs?Promise.resolve():new Promise((w,$)=>{st.add([w,$])})}function Rt(w){return Q||(Q=!w,Z(),st.list().forEach(([$,z])=>w?z(w):$()),st.reset()),w}function dt(w,$,z,W){const{scrollBehavior:R}=e;if(!nn||!R)return Promise.resolve();const g=!z&&X0(Al(w.fullPath,0))||(W||!z)&&history.state&&history.state.scroll||null;return mi().then(()=>R(w,$,g)).then(_=>_&&Y0(_)).catch(_=>et(_,w,$))}const mt=w=>i.go(w);let Dt;const bt=new Set,kt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:b,resolve:v,options:e,push:k,replace:M,go:mt,back:()=>mt(-1),forward:()=>mt(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:V.add,isReady:ht,install(w){w.component("RouterLink",Sg),w.component("RouterView",Eg),w.config.globalProperties.$router=kt,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>rs(l)}),nn&&!Dt&&l.value===hs&&(Dt=!0,k(i.location).catch(W=>{}));const $={};for(const W in hs)Object.defineProperty($,W,{get:()=>l.value[W],enumerable:!0});w.provide(No,kt),w.provide(ga,Tu($)),w.provide(Lr,l);const z=w.unmount;bt.add(w),w.unmount=function(){bt.delete(w),bt.size<1&&(c=hs,J&&J(),J=null,l.value=hs,Dt=!1,Q=!1),z()}}};function I(w){return w.reduce(($,z)=>$.then(()=>B(z)),Promise.resolve())}return kt}function Pd(){return Ee(No)}function Rd(e){return Ee(ga)}class Ot{constructor(t={}){this.id=t.id||crypto.randomUUID(),this.athleteId=t.athleteId||null,this.discipline=t.discipline||"100m",this.date=t.date||new Date().toISOString().split("T")[0],this.name=t.name||"",this.note=t.note||"",this.milestones=t.milestones||[],this.stepCounts=t.stepCounts||{},this.steps=t.steps||[],this.videoUrl=t.videoUrl||"",this.lastUpdated=t.lastUpdated||new Date().toISOString()}setMilestone(t,s,n="split",i=null){const o=this.milestones.findIndex(a=>a.distance===t&&a.type===n),r={distance:parseFloat(t),time:parseFloat(s),type:n,label:i||`${t}m`};o!==-1?this.milestones[o]=r:(this.milestones.push(r),this.milestones.sort((a,l)=>a.time-l.time)),this.lastUpdated=new Date().toISOString()}removeMilestone(t,s){this.milestones=this.milestones.filter(n=>!(n.distance===t&&n.type===s)),this.lastUpdated=new Date().toISOString()}get segmentSpeeds(){var i;const t=[],s=[...this.milestones].filter(o=>o.type==="split"||o.type==="touchdown").sort((o,r)=>o.distance-r.distance),n=((i=s[0])==null?void 0:i.distance)>0?[{distance:0,time:0},...s]:s;for(let o=1;o<n.length;o++){const r=n[o].distance-n[o-1].distance,a=n[o].time-n[o-1].time,l=`${n[o-1].distance}-${n[o].distance}`;if(a>0){const c=this.stepCounts[l]||0;t.push({id:l,segment:`${n[o-1].distance}-${n[o].distance}m`,label:n[o].label,speed:r/a,time:a,distance:r,steps:c,frequency:c>0?c/a:0,stepLength:c>0?r/c:0})}}return t}get hurdleAnalysis(){const t=[];if(!this.discipline.toLowerCase().includes("h"))return[];const n=this.milestones.filter(a=>a.type==="touchdown").sort((a,l)=>a.distance-l.distance),i=this.milestones.find(a=>a.distance===0)||{distance:0,time:0},o=parseInt(this.discipline),r=this.milestones.find(a=>a.distance===o);if(n.length>0){const a=n[0],l=a.time-i.time,c=a.distance-i.distance;t.push({label:"Start - H1",time:l,distance:c,distance_start:0,distance_end:a.distance,speed:c/l,steps:this.stepCounts[`0-${a.distance}`]||0})}for(let a=1;a<n.length;a++){const l=n[a-1],c=n[a],u=c.time-l.time,d=c.distance-l.distance,f=`${l.distance}-${c.distance}`;t.push({label:`H${a} - H${a+1}`,time:u,distance:d,distance_start:l.distance,distance_end:c.distance,speed:d/u,steps:this.stepCounts[f]||0})}if(n.length>0&&r){const a=n[n.length-1];if(r.distance>a.distance){const l=r.time-a.time,c=r.distance-a.distance;t.push({label:`H${n.length} - Finish`,time:l,distance:c,distance_start:a.distance,distance_end:r.distance,speed:c/l,steps:this.stepCounts[`${a.distance}-${r.distance}`]||0})}}return t}calculateIntervals(t=[]){return t?t.map(s=>{const n=this.milestones.find(f=>f.distance===s.start),i=this.milestones.find(f=>f.distance===s.end),o=s.start===0?n?n.time:0:n?n.time:null;if(o===null||!i||i.time<=o)return null;const r=i.time-o,a=i.distance-s.start,l=a/r;let c=0,u=!1;return this.segmentSpeeds.forEach(f=>{const[p,m]=f.id.split("-").map(Number);p>=s.start&&m<=s.end&&f.steps>0&&(c+=f.steps,u=!0)}),{...s,time:r,distance:a,speed:l,steps:u?c:0,frequency:u&&r>0?c/r:0,stepLength:u&&c>0?a/c:0}}).filter(s=>s!==null):[]}save(){this.lastUpdated=new Date().toISOString(),Wt.saveRace({id:this.id,athleteId:this.athleteId,discipline:this.discipline,date:this.date,name:this.name,note:this.note,milestones:this.milestones,stepCounts:this.stepCounts,steps:this.steps,videoUrl:this.videoUrl,lastUpdated:this.lastUpdated})}delete(){Wt.deleteRace(this.id)}static getByAthlete(t){const s=Wt.getRaces();return Object.values(s).filter(n=>n.athleteId===t).map(n=>new Ot(n)).sort((n,i)=>new Date(i.date)-new Date(n.date))}static load(t){const n=Wt.getRaces()[t];return n?new Ot(n):null}}const Ig={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Pg={class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},Rg={class:"lg:col-span-2 space-y-6"},Dg={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Lg={class:"divide-y divide-slate-100"},Ng={key:0,class:"p-12 text-center text-slate-400"},Fg={class:"flex items-center space-x-4 mb-4 sm:mb-0"},Bg={class:"w-10 h-10 flex-shrink-0 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 font-bold"},$g={class:"min-w-0"},Hg={class:"font-bold text-slate-900 truncate"},Vg={class:"text-xs text-slate-500"},jg={class:"flex items-center justify-end space-x-1.5 sm:space-x-2"},zg=["onClick"],Ug=["onClick"],Wg=["onClick"],qg=["onClick"],Gg=["onClick"],Yg={class:"space-y-6"},Kg={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},Xg={class:"space-y-4"},Jg={class:"w-full flex items-center justify-center px-4 py-3 border border-slate-200 border-dashed rounded-xl text-sm font-bold text-slate-500 hover:bg-slate-50 transition-colors cursor-pointer"},Qg={__name:"Home",setup(e){const t=Pd(),s=pt({}),n=()=>{s.value=Ae.getAll()},i=p=>{var v;const b=new Date().getFullYear()-p.birthYear;return`${p.gender==="M"?"Homme":"Femme"}  ${b} ans  ${((v=p.lastUpdated)==null?void 0:v.split("T")[0])||"?"}`},o=()=>{const p=prompt("Nom de l'athlte :");p&&(new Ae({name:p}).save(),n())},r=p=>{t.push(`/athlete/${p}`)},a=p=>{Wt.setCurrentAthlete(p),t.push("/analysis")},l=p=>{Wt.setCurrentAthlete(p),t.push({path:"/races-analysis",query:{athleteId:p}})},c=p=>{confirm("Supprimer cet athlte ? Cette action est irrversible.")&&(Ae.delete(p),Wt.getCurrentAthleteId()===p&&Wt.setCurrentAthlete(null),n())},u=()=>{const p=Wt.getDB(),m={type:"sprint_predictor_export",version:p.version||1,scope:"all",db:p},b=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),x=URL.createObjectURL(b),v=document.createElement("a");v.href=x,v.download=`sprint-predictor-full-export-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(x)},d=p=>{const m=p.target.files[0];if(!m)return;const b=new FileReader;b.onload=x=>{try{const v=JSON.parse(x.target.result),y=Wt.getDB();if(v.type!=="sprint_predictor_export")throw new Error("Format de fichier non reconnu");if(v.scope==="all"&&v.db){y.athletes={...y.athletes,...v.db.athletes};const S=v.db.races||{};Array.isArray(S)?S.forEach(k=>{k.id&&(y.races[k.id]=k)}):y.races={...y.races,...S}}else if(v.scope==="athlete"&&v.athlete)y.athletes[v.athlete.id]=v.athlete,Array.isArray(v.races)&&v.races.forEach(S=>{S.id&&(y.races[S.id]=S)});else throw new Error("Contenu de l'export invalide ou non support");Wt.saveDB(y),n(),alert("Importation russie !"),p.target.value=""}catch(v){console.error(v),alert("Erreur lors de l'importation : "+v.message)}},b.readAsText(m)},f=p=>{const m=btoa(JSON.stringify(p)),b=`${window.location.origin}${window.location.pathname}#/analysis?share=${m}`;navigator.clipboard.writeText(b).then(()=>{alert("Lien de partage copi dans le presse-papier !")})};return Ms(n),(p,m)=>(O(),P("div",Ig,[m[11]||(m[11]=h("div",{class:"text-center mb-12"},[h("h2",{class:"text-3xl font-extrabold text-slate-900 sm:text-4xl"},[lt(" Sprint "),h("span",{class:"text-blue-600"},"Predictor")]),h("p",{class:"mt-4 text-lg text-slate-500"}," Grez vos athltes, analysez leurs courses et prdisez leur potentiel. ")],-1)),h("div",Pg,[h("div",Rg,[h("div",Dg,[h("div",{class:"p-4 sm:p-6 border-b border-slate-100 flex items-center justify-between"},[m[1]||(m[1]=h("h3",{class:"text-lg font-bold text-slate-900"},"Vos athltes",-1)),h("button",{onClick:o,class:"inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm font-semibold rounded-lg transition-colors shadow-sm"},[...m[0]||(m[0]=[h("svg",{class:"w-4 h-4 mr-1 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),lt(" Nouveau ",-1)])])]),h("div",Lg,[Object.keys(s.value).length===0?(O(),P("div",Ng,[...m[2]||(m[2]=[h("svg",{class:"w-12 h-12 mx-auto mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),lt(" Aucun athlte enregistr. Commencez par en crer un. ",-1)])])):ft("",!0),(O(!0),P(rt,null,xt(s.value,(b,x)=>(O(),P("div",{key:x,class:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 transition-colors group"},[h("div",Fg,[h("div",Bg,U((b.name||"?").charAt(0).toUpperCase()),1),h("div",$g,[h("div",Hg,U(b.name||"Sans nom"),1),h("div",Vg,U(i(b)),1)])]),h("div",jg,[h("button",{onClick:v=>f(b),class:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"Partager"},[...m[3]||(m[3]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])],8,zg),h("button",{onClick:v=>r(x),class:"px-2.5 py-1.5 bg-white border border-slate-200 hover:border-blue-600 hover:text-blue-600 text-slate-700 text-[10px] font-black uppercase rounded-lg transition-all"}," Profil ",8,Ug),h("button",{onClick:v=>a(x),class:"px-2.5 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-700 text-[10px] font-black uppercase rounded-lg transition-all"}," Analyse ",8,Wg),h("button",{onClick:v=>l(x),class:"px-2.5 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase rounded-lg transition-all shadow-sm"}," Courses ",8,qg),h("button",{onClick:v=>c(x),class:"p-2 text-slate-400 hover:text-red-600 sm:opacity-0 sm:group-hover:opacity-100 transition-all"},[...m[4]||(m[4]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Gg)])]))),128))])])]),h("div",Yg,[h("div",Kg,[m[8]||(m[8]=h("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4"},"Sauvegarde & Transfert",-1)),h("div",Xg,[h("button",{onClick:u,class:"w-full flex items-center justify-center px-4 py-3 border border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:bg-slate-50 transition-colors"},[...m[5]||(m[5]=[h("svg",{class:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),lt(" Exporter en JSON ",-1)])]),h("label",Jg,[m[6]||(m[6]=h("svg",{class:"w-5 h-5 mr-2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})],-1)),m[7]||(m[7]=lt(" Importer un fichier ",-1)),h("input",{type:"file",class:"hidden",onChange:d,accept:".json"},null,32)])]),m[9]||(m[9]=h("p",{class:"mt-4 text-[10px] text-slate-400 leading-tight"}," Les donnes sont stockes localement dans votre navigateur. Utilisez l'export pour transfrer vos donnes vers un autre appareil. ",-1))]),m[10]||(m[10]=h("div",{class:"bg-blue-600 rounded-2xl p-6 shadow-lg shadow-blue-500/20 text-white"},[h("h3",{class:"text-sm font-bold uppercase tracking-widest mb-2 opacity-80"},"Prochainement"),h("p",{class:"text-sm font-medium mb-4"},"Analyse de courses avec dcoupage vido."),h("div",{class:"inline-block px-3 py-1 bg-white/20 rounded-full text-[10px] font-bold"},"WIP")],-1))])])]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xi(e){return e+.5|0}const xs=(e,t,s)=>Math.max(Math.min(e,s),t);function Pn(e){return xs(xi(e*2.55),0,255)}function As(e){return xs(xi(e*255),0,255)}function ts(e){return xs(xi(e/2.55)/100,0,1)}function Fl(e){return xs(xi(e*100),0,100)}const we={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nr=[..."0123456789ABCDEF"],Zg=e=>Nr[e&15],tm=e=>Nr[(e&240)>>4]+Nr[e&15],Ai=e=>(e&240)>>4===(e&15),em=e=>Ai(e.r)&&Ai(e.g)&&Ai(e.b)&&Ai(e.a);function sm(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&we[e[1]]*17,g:255&we[e[2]]*17,b:255&we[e[3]]*17,a:t===5?we[e[4]]*17:255}:(t===7||t===9)&&(s={r:we[e[1]]<<4|we[e[2]],g:we[e[3]]<<4|we[e[4]],b:we[e[5]]<<4|we[e[6]],a:t===9?we[e[7]]<<4|we[e[8]]:255})),s}const nm=(e,t)=>e<255?t(e):"";function im(e){var t=em(e)?Zg:tm;return e?"#"+t(e.r)+t(e.g)+t(e.b)+nm(e.a,t):void 0}const om=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dd(e,t,s){const n=t*Math.min(s,1-s),i=(o,r=(o+e/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function rm(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function am(e,t,s){const n=Dd(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function lm(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function ma(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=lm(s,n,i,u,o),l=l*60+.5),[l|0,c||0,a]}function ba(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(As)}function xa(e,t,s){return ba(Dd,e,t,s)}function cm(e,t,s){return ba(am,e,t,s)}function um(e,t,s){return ba(rm,e,t,s)}function Ld(e){return(e%360+360)%360}function dm(e){const t=om.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Pn(+t[5]):As(+t[5]));const i=Ld(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=cm(i,o,r):t[1]==="hsv"?n=um(i,o,r):n=xa(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function fm(e,t){var s=ma(e);s[0]=Ld(s[0]+t),s=xa(s),e.r=s[0],e.g=s[1],e.b=s[2]}function hm(e){if(!e)return;const t=ma(e),s=t[0],n=Fl(t[1]),i=Fl(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${ts(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Bl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$l={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pm(){const e={},t=Object.keys($l),s=Object.keys(Bl);let n,i,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,Bl[o]);o=parseInt($l[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let Si;function gm(e){Si||(Si=pm(),Si.transparent=[0,0,0,0]);const t=Si[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const mm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bm(e){const t=mm.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const r=+t[7];s=t[8]?Pn(r):xs(r*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?Pn(n):xs(n,0,255)),i=255&(t[4]?Pn(i):xs(i,0,255)),o=255&(t[6]?Pn(o):xs(o,0,255)),{r:n,g:i,b:o,a:s}}}function xm(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ts(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const or=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,tn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function vm(e,t,s){const n=tn(ts(e.r)),i=tn(ts(e.g)),o=tn(ts(e.b));return{r:As(or(n+s*(tn(ts(t.r))-n))),g:As(or(i+s*(tn(ts(t.g))-i))),b:As(or(o+s*(tn(ts(t.b))-o))),a:e.a+s*(t.a-e.a)}}function Ci(e,t,s){if(e){let n=ma(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=xa(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Nd(e,t){return e&&Object.assign(t||{},e)}function Hl(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=As(e[3]))):(t=Nd(e,{r:0,g:0,b:0,a:1}),t.a=As(t.a)),t}function _m(e){return e.charAt(0)==="r"?bm(e):dm(e)}class ri{constructor(t){if(t instanceof ri)return t;const s=typeof t;let n;s==="object"?n=Hl(t):s==="string"&&(n=sm(t)||gm(t)||_m(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Nd(this._rgb);return t&&(t.a=ts(t.a)),t}set rgb(t){this._rgb=Hl(t)}rgbString(){return this._valid?xm(this._rgb):void 0}hexString(){return this._valid?im(this._rgb):void 0}hslString(){return this._valid?hm(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=vm(this._rgb,t._rgb,s)),this}clone(){return new ri(this.rgb)}alpha(t){return this._rgb.a=As(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=xi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ci(this._rgb,2,t),this}darken(t){return Ci(this._rgb,2,-t),this}saturate(t){return Ci(this._rgb,1,t),this}desaturate(t){return Ci(this._rgb,1,-t),this}rotate(t){return fm(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ke(){}const ym=(()=>{let e=0;return()=>e++})();function gt(e){return e==null}function Ht(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function zt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function xe(e,t){return zt(e)?e:t}function ct(e,t){return typeof e>"u"?t:e}const wm=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Fd=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ft(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Et(e,t,s,n){let i,o,r;if(Ht(e))for(o=e.length,i=0;i<o;i++)t.call(s,e[i],i);else if(vt(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(s,e[r[i]],r[i])}function uo(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function fo(e){if(Ht(e))return e.map(fo);if(vt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=fo(e[s[i]]);return t}return e}function Bd(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function km(e,t,s,n){if(!Bd(e))return;const i=t[e],o=s[e];vt(i)&&vt(o)?ai(i,o,n):t[e]=fo(o)}function ai(e,t,s){const n=Ht(t)?t:[t],i=n.length;if(!vt(e))return e;s=s||{};const o=s.merger||km;let r;for(let a=0;a<i;++a){if(r=n[a],!vt(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],e,r,s)}return e}function qn(e,t){return ai(e,t,{merger:Am})}function Am(e,t,s){if(!Bd(e))return;const n=t[e],i=s[e];vt(n)&&vt(i)?qn(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fo(i))}const Vl={"":e=>e,x:e=>e.x,y:e=>e.y};function Sm(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function Cm(e){const t=Sm(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Cs(e,t){return(Vl[t]||(Vl[t]=Cm(t)))(e)}function va(e){return e.charAt(0).toUpperCase()+e.slice(1)}const li=e=>typeof e<"u",Ts=e=>typeof e=="function",jl=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function Tm(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const wt=Math.PI,Bt=2*wt,Mm=Bt+wt,ho=Number.POSITIVE_INFINITY,Em=wt/180,qt=wt/2,Ds=wt/4,zl=wt*2/3,vs=Math.log10,Ue=Math.sign;function Gn(e,t,s){return Math.abs(e-t)<s}function Ul(e){const t=Math.round(e);e=Gn(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(vs(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Om(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function Im(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bn(e){return!Im(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Pm(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function $d(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Te(e){return e*(wt/180)}function _a(e){return e*(180/wt)}function Wl(e){if(!zt(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Hd(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*wt&&(o+=Bt),{angle:o,distance:i}}function Fr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rm(e,t){return(e-t+Mm)%Bt-wt}function ee(e){return(e%Bt+Bt)%Bt}function ci(e,t,s,n){const i=ee(e),o=ee(t),r=ee(s),a=ee(o-i),l=ee(r-i),c=ee(i-o),u=ee(i-r);return i===o||i===r||n&&o===r||a>l&&c<u}function Qt(e,t,s){return Math.max(t,Math.min(s,e))}function Dm(e){return Qt(e,-32768,32767)}function ns(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function ya(e,t,s){s=s||(r=>e[r]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const is=(e,t,s,n)=>ya(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),Lm=(e,t,s)=>ya(e,s,n=>e[n][t]>=s);function Nm(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const Vd=["push","pop","shift","splice","unshift"];function Fm(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vd.forEach(s=>{const n="_onData"+va(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function ql(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(Vd.forEach(o=>{delete e[o]}),delete e._chartjs)}function jd(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zd=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ud(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,zd.call(window,()=>{n=!1,e.apply(t,s)}))}}function Bm(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const wa=e=>e==="start"?"left":e==="end"?"right":"center",te=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,$m=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function Wd(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=r.axis,{min:d,max:f,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(i=Math.min(is(l,u,d).lo,s?n:is(t,u,r.getPixelForValue(d)).lo),c){const b=l.slice(0,i+1).reverse().findIndex(x=>!gt(x[a.axis]));i-=Math.max(0,b)}i=Qt(i,0,n-1)}if(m){let b=Math.max(is(l,r.axis,f,!0).hi+1,s?0:is(t,u,r.getPixelForValue(f),!0).hi+1);if(c){const x=l.slice(b-1).findIndex(v=>!gt(v[a.axis]));b+=Math.max(0,x)}o=Qt(b,i,n)-i}else o=n-i}return{start:i,count:o}}function qd(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const Ti=e=>e===0||e===1,Gl=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bt/s)),Yl=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bt/s)+1,Yn={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*qt)+1,easeOutSine:e=>Math.sin(e*qt),easeInOutSine:e=>-.5*(Math.cos(wt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ti(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ti(e)?e:Gl(e,.075,.3),easeOutElastic:e=>Ti(e)?e:Yl(e,.075,.3),easeInOutElastic(e){return Ti(e)?e:e<.5?.5*Gl(e*2,.1125,.45):.5+.5*Yl(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Yn.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Yn.easeInBounce(e*2)*.5:Yn.easeOutBounce(e*2-1)*.5+.5};function ka(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Kl(e){return ka(e)?e:new ri(e)}function rr(e){return ka(e)?e:new ri(e).saturate(.5).darken(.1).hexString()}const Hm=["x","y","borderWidth","radius","tension"],Vm=["color","borderColor","backgroundColor"];function jm(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Vm},numbers:{type:"number",properties:Hm}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function zm(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xl=new Map;function Um(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Xl.get(s);return n||(n=new Intl.NumberFormat(e,t),Xl.set(s,n)),n}function vi(e,t,s){return Um(t,s).format(e)}const Gd={values(e){return Ht(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=Wm(e,s)}const r=vs(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),vi(e,n,l)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(vs(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?Gd.numeric.call(this,e,t,s):""}};function Wm(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Fo={formatters:Gd};function qm(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ks=Object.create(null),Br=Object.create(null);function Kn(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function ar(e,t,s){return typeof t=="string"?ai(Kn(e,t),s):ai(Kn(e,""),t)}class Gm{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>rr(i.backgroundColor),this.hoverBorderColor=(n,i)=>rr(i.borderColor),this.hoverColor=(n,i)=>rr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return ar(this,t,s)}get(t){return Kn(this,t)}describe(t,s){return ar(Br,t,s)}override(t,s){return ar(Ks,t,s)}route(t,s,n,i){const o=Kn(this,t),r=Kn(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return vt(l)?Object.assign({},c,l):ct(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Vt=new Gm({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jm,zm,qm]);function Ym(e){return!e||gt(e.size)||gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function po(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function Km(e,t,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=s.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=s[l],d!=null&&!Ht(d))r=po(e,i,o,r,d);else if(Ht(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Ht(f)&&(r=po(e,i,o,r,f));e.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function Ls(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Jl(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $r(e,t,s,n){Yd(e,t,s,n,null)}function Yd(e,t,s,n,i){let o,r,a,l,c,u,d,f;const p=t.pointStyle,m=t.rotation,b=t.radius;let x=(m||0)*Em;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(x),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,b,0,0,Bt):e.arc(s,n,b,0,Bt),e.closePath();break;case"triangle":u=i?i/2:b,e.moveTo(s+Math.sin(x)*u,n-Math.cos(x)*b),x+=zl,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*b),x+=zl,e.lineTo(s+Math.sin(x)*u,n-Math.cos(x)*b),e.closePath();break;case"rectRounded":c=b*.516,l=b-c,r=Math.cos(x+Ds)*l,d=Math.cos(x+Ds)*(i?i/2-c:l),a=Math.sin(x+Ds)*l,f=Math.sin(x+Ds)*(i?i/2-c:l),e.arc(s-d,n-a,c,x-wt,x-qt),e.arc(s+f,n-r,c,x-qt,x),e.arc(s+d,n+a,c,x,x+qt),e.arc(s-f,n+r,c,x+qt,x+wt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*b,u=i?i/2:l,e.rect(s-u,n-l,2*u,2*l);break}x+=Ds;case"rectRot":d=Math.cos(x)*(i?i/2:b),r=Math.cos(x)*b,a=Math.sin(x)*b,f=Math.sin(x)*(i?i/2:b),e.moveTo(s-d,n-a),e.lineTo(s+f,n-r),e.lineTo(s+d,n+a),e.lineTo(s-f,n+r),e.closePath();break;case"crossRot":x+=Ds;case"cross":d=Math.cos(x)*(i?i/2:b),r=Math.cos(x)*b,a=Math.sin(x)*b,f=Math.sin(x)*(i?i/2:b),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"star":d=Math.cos(x)*(i?i/2:b),r=Math.cos(x)*b,a=Math.sin(x)*b,f=Math.sin(x)*(i?i/2:b),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r),x+=Ds,d=Math.cos(x)*(i?i/2:b),r=Math.cos(x)*b,a=Math.sin(x)*b,f=Math.sin(x)*(i?i/2:b),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(x)*b,a=Math.sin(x)*b,e.moveTo(s-r,n-a),e.lineTo(s+r,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(x)*(i?i/2:b),n+Math.sin(x)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function os(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Bo(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $o(e){e.restore()}function Xm(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Jm(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Qm(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Zm(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,u),e.lineTo(a,u),e.stroke()}}function tb(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Xs(e,t,s,n,i,o={}){const r=Ht(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,Qm(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&tb(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),gt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,n,o.maxWidth)),e.fillText(c,s,n,o.maxWidth),Zm(e,s,n,c,o),n+=Number(i.lineHeight);e.restore()}function ui(e,t){const{x:s,y:n,w:i,h:o,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*wt,wt,!0),e.lineTo(s,n+o-r.bottomLeft),e.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,wt,qt,!0),e.lineTo(s+i-r.bottomRight,n+o),e.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,qt,0,!0),e.lineTo(s+i,n+r.topRight),e.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-qt,!0),e.lineTo(s+r.topLeft,n)}const eb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nb(e,t){const s=(""+e).match(eb);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const ib=e=>+e||0;function Aa(e,t){const s={},n=vt(t),i=n?Object.keys(t):t,o=vt(e)?n?r=>ct(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)s[r]=ib(o(r));return s}function Kd(e){return Aa(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Gs(e){return Aa(e,["topLeft","topRight","bottomLeft","bottomRight"])}function re(e){const t=Kd(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Kt(e,t){e=e||{},t=t||Vt.font;let s=ct(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ct(e.style,t.style);n&&!(""+n).match(sb)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ct(e.family,t.family),lineHeight:nb(ct(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ct(e.weight,t.weight),string:""};return i.string=Ym(i),i}function Rn(e,t,s,n){let i,o,r;for(i=0,o=e.length;i<o;++i)if(r=e[i],r!==void 0&&r!==void 0)return r}function ob(e,t,s){const{min:n,max:i}=e,o=Fd(t,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function Es(e,t){return Object.assign(Object.create(e),t)}function Sa(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n>"u"&&(n=Zd("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>Sa([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Jd(a,l,()=>hb(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Zl(a).includes(l)},ownKeys(a){return Zl(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function xn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Xd(e,n),setContext:o=>xn(e,o,s,n),override:o=>xn(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return Jd(o,r,()=>ab(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function Xd(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Ts(s)?s:()=>s,isIndexable:Ts(n)?n:()=>n}}const rb=(e,t)=>e?e+va(t):t,Ca=(e,t)=>vt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jd(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function ab(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=e;let a=n[t];return Ts(a)&&r.isScriptable(t)&&(a=lb(t,a,e,s)),Ht(a)&&a.length&&(a=cb(t,a,e,r.isIndexable)),Ca(t,a)&&(a=xn(a,i,o&&o[t],r)),a}function lb(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),Ca(e,l)&&(l=Ta(i._scopes,i,e,l)),l}function cb(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(vt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=Ta(c,i,e,u);t.push(xn(d,o,r&&r[e],a))}}return t}function Qd(e,t,s){return Ts(e)?e(t,s):e}const ub=(e,t)=>e===!0?t:typeof e=="string"?Cs(t,e):void 0;function db(e,t,s,n,i){for(const o of t){const r=ub(s,o);if(r){e.add(r);const a=Qd(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function Ta(e,t,s,n){const i=t._rootScopes,o=Qd(t._fallback,s,n),r=[...e,...i],a=new Set;a.add(n);let l=Ql(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=Ql(a,r,o,l,n),l===null)?!1:Sa(Array.from(a),[""],i,o,()=>fb(t,s,n))}function Ql(e,t,s,n,i){for(;s;)s=db(e,t,s,n,i);return s}function fb(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return Ht(i)&&vt(s)?s:i||{}}function hb(e,t,s,n){let i;for(const o of t)if(i=Zd(rb(o,e),s),typeof i<"u")return Ca(e,i)?Ta(s,n,e,i):i}function Zd(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function Zl(e){let t=e._keys;return t||(t=e._keys=pb(e._scopes)),t}function pb(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function tf(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+s,u=t[c],r[a]={r:i.parse(Cs(u,o),c)};return r}const gb=Number.EPSILON||1e-14,vn=(e,t)=>t<e.length&&!e[t].skip&&e[t],ef=e=>e==="x"?"y":"x";function mb(e,t,s,n){const i=e.skip?t:e,o=t,r=s.skip?t:s,a=Fr(o,i),l=Fr(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,f=n*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function bb(e,t,s){const n=e.length;let i,o,r,a,l,c=vn(e,0);for(let u=0;u<n-1;++u)if(l=c,c=vn(e,u+1),!(!l||!c)){if(Gn(t[u],0,gb)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],o=s[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[u]=i*r*t[u],s[u+1]=o*r*t[u])}}function xb(e,t,s="x"){const n=ef(s),i=e.length;let o,r,a,l=vn(e,0);for(let c=0;c<i;++c){if(r=a,a=l,l=vn(e,c+1),!a)continue;const u=a[s],d=a[n];r&&(o=(u-r[s])/3,a[`cp1${s}`]=u-o,a[`cp1${n}`]=d-o*t[c]),l&&(o=(l[s]-u)/3,a[`cp2${s}`]=u+o,a[`cp2${n}`]=d+o*t[c])}}function vb(e,t="x"){const s=ef(t),n=e.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=vn(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=vn(e,r+1),!!l){if(c){const u=c[t]-l[t];i[r]=u!==0?(c[s]-l[s])/u:0}o[r]=a?c?Ue(i[r-1])!==Ue(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}bb(e,i,o),xb(e,o,t)}function Mi(e,t,s){return Math.max(Math.min(e,s),t)}function _b(e,t){let s,n,i,o,r,a=os(e[0],t);for(s=0,n=e.length;s<n;++s)r=o,o=a,a=s<n-1&&os(e[s+1],t),o&&(i=e[s],r&&(i.cp1x=Mi(i.cp1x,t.left,t.right),i.cp1y=Mi(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Mi(i.cp2x,t.left,t.right),i.cp2y=Mi(i.cp2y,t.top,t.bottom)))}function yb(e,t,s,n,i){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")vb(e,i);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=mb(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&_b(e,s)}function Ma(){return typeof window<"u"&&typeof document<"u"}function Ea(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function go(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Ho=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function wb(e,t){return Ho(e).getPropertyValue(t)}const kb=["top","right","bottom","left"];function Ys(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=kb[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Ab=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Sb(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(Ab(i,o,e.target))a=i,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function $s(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Ho(s),o=i.boxSizing==="border-box",r=Ys(i,"padding"),a=Ys(i,"border","width"),{x:l,y:c,box:u}=Sb(e,s),d=r.left+(u&&a.left),f=r.top+(u&&a.top);let{width:p,height:m}=t;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-d)/p*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function Cb(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&Ea(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Ho(o),l=Ys(a,"border","width"),c=Ys(a,"padding");t=r.width-c.width-l.width,s=r.height-c.height-l.height,n=go(a.maxWidth,o,"clientWidth"),i=go(a.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||ho,maxHeight:i||ho}}const _s=e=>Math.round(e*10)/10;function Tb(e,t,s,n){const i=Ho(e),o=Ys(i,"margin"),r=go(i.maxWidth,e,"clientWidth")||ho,a=go(i.maxHeight,e,"clientHeight")||ho,l=Cb(e,t,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Ys(i,"border","width"),p=Ys(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,n?c/n:u-o.height),c=_s(Math.min(c,r,l.maxWidth)),u=_s(Math.min(u,a,l.maxHeight)),c&&!u&&(u=_s(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=_s(Math.floor(u*n))),{width:c,height:u}}function tc(e,t,s){const n=t||1,i=_s(e.height*n),o=_s(e.width*n);e.height=_s(e.height),e.width=_s(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=n,r.height=i,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Mb=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ma()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ec(e,t){const s=wb(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Hs(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Eb(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Ob(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Hs(e,i,s),a=Hs(i,o,s),l=Hs(o,t,s),c=Hs(r,a,s),u=Hs(a,l,s);return Hs(c,u,s)}const Ib=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Pb=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function fn(e,t,s){return e?Ib(t,s):Pb()}function sf(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function nf(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function of(e){return e==="angle"?{between:ci,compare:Rm,normalize:ee}:{between:ns,compare:(t,s)=>t-s,normalize:t=>t}}function sc({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Rb(e,t,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=of(n),l=t.length;let{start:c,end:u,loop:d}=e,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&r(a(t[c%l][n]),i,o);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function rf(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,r=t.length,{compare:a,between:l,normalize:c}=of(n),{start:u,end:d,loop:f,style:p}=Rb(e,t,s),m=[];let b=!1,x=null,v,y,S;const k=()=>l(i,S,v)&&a(i,S)!==0,M=()=>a(o,v)===0||l(o,S,v),N=()=>b||k(),F=()=>!b||M();for(let j=u,B=u;j<=d;++j)y=t[j%r],!y.skip&&(v=c(y[n]),v!==S&&(b=l(v,i,o),x===null&&N()&&(x=a(v,i)===0?j:B),x!==null&&F()&&(m.push(sc({start:x,end:j,loop:f,count:r,style:p})),x=null),B=j,S=v));return x!==null&&m.push(sc({start:x,end:d,loop:f,count:r,style:p})),m}function af(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=rf(n[i],e.points,t);o.length&&s.push(...o)}return s}function Db(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function Lb(e,t,s,n){const i=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%i,end:(l-1)%i,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%i,end:r%i,loop:n}),o}function Nb(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=Db(s,i,o,n);if(n===!0)return nc(e,[{start:r,end:a,loop:o}],s,t);const l=a<r?a+i:a,c=!!e._fullLoop&&r===0&&a===i-1;return nc(e,Lb(s,r,l,c),s,t)}function nc(e,t,s,n){return!n||!n.setContext||!s?t:Fb(e,t,s,n)}function Fb(e,t,s,n){const i=e._chart.getContext(),o=ic(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=s.length,c=[];let u=o,d=t[0].start,f=d;function p(m,b,x,v){const y=a?-1:1;if(m!==b){for(m+=l;s[m%l].skip;)m-=y;for(;s[b%l].skip;)b+=y;m%l!==b%l&&(c.push({start:m%l,end:b%l,loop:x,style:v}),u=v,d=b%l)}}for(const m of t){d=a?d:m.start;let b=s[d%l],x;for(f=d+1;f<=m.end;f++){const v=s[f%l];x=ic(n.setContext(Es(i,{type:"segment",p0:b,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),Bb(x,u)&&p(d,f-1,m.loop,u),b=v,u=x}d<f-1&&p(d,f-1,m.loop,u)}return c}function ic(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Bb(e,t){if(!t)return!1;const s=[],n=function(i,o){return ka(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Ei(e,t,s){return e.options.clip?e[s]:t[s]}function $b(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Ei(s,t,"left"),right:Ei(s,t,"right"),top:Ei(n,t,"top"),bottom:Ei(n,t,"bottom")}:t}function lf(e,t){const s=t._clip;if(s.disabled)return!1;const n=$b(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Hb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=zd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Xe=new Hb;const oc="transparent",Vb={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Kl(e||oc),i=n.valid&&Kl(t||oc);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class jb{constructor(t,s,n,i){const o=s[n];i=Rn([t.to,i,o,t.from]);const r=Rn([t.from,o,i]);this._active=!0,this._fn=t.fn||Vb[t.type||typeof r],this._easing=Yn[t.easing]||Yn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Rn([t.to,s,i,t.from]),this._from=Rn([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class cf{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!vt(t))return;const s=Object.keys(Vt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!vt(o))return;const r={};for(const a of s)r[a]=o[a];(Ht(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,s){const n=s.options,i=Ub(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&zb(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[c];let d=o[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}o[c]=d=new jb(f,t,c,u),i.push(d)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Xe.add(this._chart,n),!0}}function zb(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function Ub(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function rc(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function Wb(e,t,s){if(s===!1)return!1;const n=rc(e,s),i=rc(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function qb(e){let t,s,n,i;return vt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function uf(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function ac(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let r,a,l,c;if(t===null)return;let u=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(u=!0,n.all)continue;break}c=e.values[l],zt(c)&&(o||t===0||Ue(t)===Ue(c))&&(t+=c)}return!u&&!n.all?0:t}function Gb(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[i]:u,[o]:e[u]};return a}function lr(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function Yb(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Kb(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Xb(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function lc(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function cc(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,u=Yb(o,r,n),d=t.length;let f;for(let p=0;p<d;++p){const m=t[p],{[l]:b,[c]:x}=m,v=m._stacks||(m._stacks={});f=v[c]=Xb(i,u,b),f[a]=x,f._top=lc(f,r,!0,n.type),f._bottom=lc(f,r,!1,n.type);const y=f._visualValues||(f._visualValues={});y[a]=x}}function cr(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Jb(e,t){return Es(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Qb(e,t,s){return Es(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Sn(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const ur=e=>e==="reset"||e==="none",uc=(e,t)=>t?e:Object.assign({},e),Zb=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:uf(s,!0),values:null};class Oe{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Sn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,f,p,m)=>d==="x"?f:d==="r"?m:p,o=s.xAxisID=ct(n.xAxisID,cr(t,"x")),r=s.yAxisID=ct(n.yAxisID,cr(t,"y")),a=s.rAxisID=ct(n.rAxisID,cr(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),u=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ql(this._data,this),t._stacked&&Sn(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(vt(s)){const i=this._cachedMeta;this._data=Gb(s,i)}else if(n!==s){if(n){ql(n,this);const i=this._cachedMeta;Sn(i),i._parsed=[]}s&&Object.isExtensible(s)&&Fm(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=lr(s.vScale,s),s.stack!==n.stack&&(i=!0,Sn(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(cc(this,s._parsed),s._stacked=lr(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,d,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Ht(i[t])?f=this.parseArrayData(n,i,t,s):vt(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+t]=d=f[u],l&&(p()&&(l=!1),c=d);n._sorted=l}r&&cc(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+n,d[f]={[a]:u||o.parse(c[m],m),[l]:r.parse(s[m],m)};return d}parseArrayData(t,s,n,i){const{xScale:o,yScale:r}=t,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(t,s,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+n,p=s[f],c[u]={x:o.parse(Cs(p,a),f),y:r.parse(Cs(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,r=s[t.axis],a={keys:uf(i,!0),values:s._stacks[t.axis]._visualValues};return ac(a,r,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=ac(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,a=this._getOtherScale(t),l=Zb(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Kb(a);let f,p;function m(){p=i[f];const b=p[a.axis];return!zt(p[t.axis])||u>b||d<b}for(f=0;f<r&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][t.axis],zt(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=qb(ct(this.options.clip,Wb(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=Qb(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Jb(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=t+"-"+s,a=o[r],l=this.enableOptionSharing&&li(n);if(a)return uc(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Vt.elements[t]),m=()=>this.getContext(n,i,s),b=c.resolveNamedOptions(f,p,m,d);return b.$shared&&(b.$shared=l,o[r]=Object.freeze(uc(b,l))),b}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(t,n,s))}const c=new cf(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||ur(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(t,s,n,i){ur(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!ur(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,r=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Sn(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Oe,"defaults",{}),X(Oe,"datasetElementType",null),X(Oe,"dataElementType",null);function tx(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=jd(n.sort((i,o)=>i-o))}return e._cache.$bar}function ex(e){const t=e.iScale,s=tx(t,e.type);let n=t._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(li(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=t.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),l();return n}function sx(e,t,s,n){const i=s.barThickness;let o,r;return gt(i)?(o=t.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function nx(e,t,s,n){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function ix(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function df(e,t,s,n){return Ht(e)?ix(e,t,s,n):t[s.axis]=s.parse(e,n),t}function dc(e,t,s,n){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,f;for(c=s,u=s+n;c<u;++c)f=t[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(df(f,d,o,c));return l}function dr(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function ox(e,t,s){return e!==0?Ue(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function rx(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}function ax(e,t,s,n){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=rx(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(o[fc(u,r,a,l)]=!0,i=c)),o[fc(i,r,a,l)]=!0,e.borderSkipped=o}function fc(e,t,s,n){return n?(e=lx(e,t,s),e=hc(e,s,t)):e=hc(e,t,s),e}function lx(e,t,s){return e===t?s:e===s?t:e}function hc(e,t,s){return e==="start"?t:e==="end"?s:e}function cx(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class zi extends Oe{parsePrimitiveData(t,s,n,i){return dc(t,s,n,i)}parseArrayData(t,s,n,i){return dc(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let f,p,m,b;for(f=n,p=n+i;f<p;++f)b=s[f],m={},m[o.axis]=o.parse(Cs(b,c),f),d.push(df(Cs(b,u),m,r,f));return d}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(t),r=o._custom,a=dr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const m=this.getParsed(p),b=o||gt(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[a.axis],y={horizontal:c,base:b.base,enableBorderRadius:!v||dr(m._custom)||r===v._top||r===v._bottom,x:c?b.head:x.center,y:c?x.center:b.head,height:c?x.size:Math.abs(b.size),width:c?Math.abs(b.size):x.size};f&&(y.options=d||this.resolveDataElementOptions(p,t[p].active?"active":i));const S=y.options||t[p].options;ax(y,S,v,r),cx(y,S,u.ratio),this.updateElement(t[p],p,y,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(p=>p[n.axis]===l),f=d&&d[u.vScale.axis];if(gt(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((o===!1||r.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[ct(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||ex(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,u=dr(c);let d=l[s.axis],f=0,p=n?this.applyStack(s,l,n):d,m,b;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Ue(d)!==Ue(c.barEnd)&&(f=0),f+=d);const x=!gt(o)&&!u?o:f;let v=s.getPixelForValue(x);if(this.chart.getDataVisibility(t)?m=s.getPixelForValue(f+p):m=v,b=m-v,Math.abs(b)<r){b=ox(b,s,a)*r,d===a&&(v-=b/2);const y=s.getPixelForDecimal(0),S=s.getPixelForDecimal(1),k=Math.min(y,S),M=Math.max(y,S);v=Math.max(Math.min(v,M),k),m=v+b,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const y=Ue(b)*s.getLineWidthForValue(a)/2;v+=y,b-=y}return{size:b,base:v,head:m,center:m+b/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,o=i.skipNull,r=ct(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=o?this._getStackCount(t):s.stackCount,d=i.barThickness==="flex"?nx(t,s,i,u*c):sx(t,s,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(ct(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+p;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(r,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}X(zi,"id","bar"),X(zi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(zi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ui extends Oe{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,n,i){const o=super.parsePrimitiveData(t,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,s,n,i){const o=super.parseArrayData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ct(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,s,n,i){const o=super.parseObjectData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ct(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let n=t.length-1;n>=0;--n)s=Math.max(s,t[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),u=r.axis,d=a.axis;for(let f=s;f<s+n;f++){const p=t[f],m=!o&&this.getParsed(f),b={},x=b[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(m[u]),v=b[d]=o?a.getBasePixel():a.getPixelForValue(m[d]);b.skip=isNaN(x)||isNaN(v),c&&(b.options=l||this.resolveDataElementOptions(f,p.active?"active":i),o&&(b.options.radius=0)),this.updateElement(p,f,b,i)}}resolveDataElementOptions(t,s){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=ct(n&&n._custom,o),i}}X(Ui,"id","bubble"),X(Ui,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),X(Ui,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function ux(e,t,s){let n=1,i=1,o=0,r=0;if(t<Bt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(S,k,M)=>ci(S,a,l,!0)?1:Math.max(k,k*s,M,M*s),m=(S,k,M)=>ci(S,a,l,!0)?-1:Math.min(k,k*s,M,M*s),b=p(0,c,d),x=p(qt,u,f),v=m(wt,c,d),y=m(wt+qt,u,f);n=(b-v)/2,i=(x-y)/2,o=-(b+v)/2,r=-(x+y)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class Us extends Oe{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(vt(n[t])){const{key:l="value"}=this._parsing;o=c=>+Cs(n[c],l)}let r,a;for(r=t,a=t+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Te(this.options.rotation-90)}_getCircumference(){return Te(this.options.circumference)}_getRotationExtents(){let t=Bt,s=-Bt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),s=Math.max(s,o+r)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(wm(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:b}=ux(d,u,l),x=(n.width-r)/f,v=(n.height-r)/p,y=Math.max(Math.min(x,v)/2,0),S=Fd(this.options.radius,y),k=Math.max(S*l,0),M=(S-k)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=b*S,i.total=this.calculateTotal(),this.outerRadius=S-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Bt)}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:b,includeOptions:x}=this._getSharedOptions(s,i);let v=this._getRotation(),y;for(y=0;y<s;++y)v+=this._circumference(y,o);for(y=s;y<s+n;++y){const S=this._circumference(y,o),k=t[y],M={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:m,innerRadius:p};x&&(M.options=b||this.resolveDataElementOptions(y,k.active?"active":i)),v+=S,this.updateElement(k,y,M,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Bt*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=vi(s._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,o,r,a,l;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(Us,"id","doughnut"),X(Us,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(Us,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),X(Us,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((l,c)=>{const d=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:i,pointStyle:n,borderRadius:r&&(a||d.borderRadius),index:c}}):[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Wi extends Oe{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=Wd(s,i,r);this._drawStart=a,this._drawCount=l,qd(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,i),f=r.axis,p=a.axis,{spanGaps:m,segment:b}=this.options,x=bn(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||i==="none",y=s+n,S=t.length;let k=s>0&&this.getParsed(s-1);for(let M=0;M<S;++M){const N=t[M],F=v?N:{};if(M<s||M>=y){F.skip=!0;continue}const j=this.getParsed(M),B=gt(j[p]),Y=F[f]=r.getPixelForValue(j[f],M),D=F[p]=o||B?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[p],M);F.skip=isNaN(Y)||isNaN(D)||B,F.stop=M>0&&Math.abs(j[f]-k[f])>x,b&&(F.parsed=j,F.raw=c.data[M]),d&&(F.options=u||this.resolveDataElementOptions(M,N.active?"active":i)),v||this.updateElement(N,M,F,i),k=j}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}X(Wi,"id","line"),X(Wi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(Wi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Xn extends Oe{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=vi(s._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,s,n,i){return tf.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,n=t.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*wt;let p=f,m;const b=360/this.countVisibleElements();for(m=0;m<s;++m)p+=this._computeAngle(m,i,b);for(m=s;m<s+n;m++){const x=t[m];let v=p,y=p+this._computeAngle(m,i,b),S=r.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=y,o&&(l.animateScale&&(S=0),l.animateRotate&&(v=y=f));const k={x:u,y:d,innerRadius:0,outerRadius:S,startAngle:v,endAngle:y,options:this.resolveDataElementOptions(m,x.active?"active":i)};this.updateElement(x,m,k,i)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(t,s,n){return this.chart.getDataVisibility(t)?Te(this.resolveDataElementOptions(t,s).angle||n):0}}X(Xn,"id","polarArea"),X(Xn,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),X(Xn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Hr extends Us{}X(Hr,"id","pie"),X(Hr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qi extends Oe{getLabelAndValue(t){const s=this._cachedMeta.vScale,n=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(t,s,n,i){return tf.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,f=r?o.yCenter:u.y,p={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}X(qi,"id","radar"),X(qi,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),X(qi,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Gi extends Oe{getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=Wd(s,n,i);if(this._drawStart=o,this._drawCount=r,qd(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(s,i),d=this.getSharedOptions(u),f=this.includeOptions(i,d),p=r.axis,m=a.axis,{spanGaps:b,segment:x}=this.options,v=bn(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||i==="none";let S=s>0&&this.getParsed(s-1);for(let k=s;k<s+n;++k){const M=t[k],N=this.getParsed(k),F=y?M:{},j=gt(N[m]),B=F[p]=r.getPixelForValue(N[p],k),Y=F[m]=o||j?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[m],k);F.skip=isNaN(B)||isNaN(Y)||j,F.stop=k>0&&Math.abs(N[p]-S[p])>v,x&&(F.parsed=N,F.raw=c.data[k]),f&&(F.options=d||this.resolveDataElementOptions(k,M.active?"active":i)),y||this.updateElement(M,k,F,i),S=N}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}X(Gi,"id","scatter"),X(Gi,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),X(Gi,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dx=Object.freeze({__proto__:null,BarController:zi,BubbleController:Ui,DoughnutController:Us,LineController:Wi,PieController:Hr,PolarAreaController:Xn,RadarController:qi,ScatterController:Gi});function Ns(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oa{constructor(t){X(this,"options");this.options=t||{}}static override(t){Object.assign(Oa.prototype,t)}init(){}formats(){return Ns()}parse(){return Ns()}format(){return Ns()}add(){return Ns()}diff(){return Ns()}startOf(){return Ns()}endOf(){return Ns()}}var fx={_date:Oa};function hx(e,t,s,n){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?Lm:is;if(n){if(i._sharedOptions){const u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const f=c(o,t,s-d),p=c(o,t,s+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(o,t,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(b=>!gt(b[d.axis]));u.lo-=Math.max(0,p);const m=f.slice(u.hi).findIndex(b=>!gt(b[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:o.length-1}}function Vo(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:f}=hx(o[a],t,r,i);for(let p=d;p<=f;++p){const m=u[p];m.skip||n(m,c,p)}}}function px(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function fr(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Vo(e,s,t,function(a,l,c){!i&&!os(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function gx(e,t,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],n),{angle:d}=Hd(r,{x:t.x,y:t.y});ci(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return Vo(e,s,t,o),i}function mx(e,t,s,n,i,o){let r=[];const a=px(s);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const m=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(m))&&!p)return;const x=a(t,m);x<l?(r=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&r.push({element:u,datasetIndex:d,index:f})}return Vo(e,s,t,c),r}function hr(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?gx(e,t,s,i):mx(e,t,s,n,i,o)}function pc(e,t,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return Vo(e,s,t,(l,c,u)=>{l[r]&&l[r](t[s],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:o}var bx={modes:{index(e,t,s,n){const i=$s(t,e),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?fr(e,i,o,n,r):hr(e,i,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,n){const i=$s(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?fr(e,i,o,n,r):hr(e,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,n){const i=$s(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return fr(e,i,o,n,r)},nearest(e,t,s,n){const i=$s(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return hr(e,i,o,s.intersect,n,r)},x(e,t,s,n){const i=$s(t,e);return pc(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=$s(t,e);return pc(e,i,"y",s.intersect,n)}}};const ff=["left","top","right","bottom"];function Cn(e,t){return e.filter(s=>s.pos===t)}function gc(e,t){return e.filter(s=>ff.indexOf(s.pos)===-1&&s.box.axis===t)}function Tn(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function xx(e){const t=[];let s,n,i,o,r,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function vx(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!ff.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function _x(e,t){const s=vx(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return s}function yx(e){const t=xx(e),s=Tn(t.filter(c=>c.box.fullSize),!0),n=Tn(Cn(t,"left"),!0),i=Tn(Cn(t,"right")),o=Tn(Cn(t,"top"),!0),r=Tn(Cn(t,"bottom")),a=gc(t,"x"),l=gc(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Cn(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function mc(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function hf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function wx(e,t,s,n){const{pos:i,box:o}=s,r=e.maxPadding;if(!vt(i)){s.size&&(e[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?o.height:o.width),s.size=d.size/d.count,e[i]+=s.size}o.getPadding&&hf(r,o.getPadding());const a=Math.max(0,t.outerWidth-mc(r,e,"left","right")),l=Math.max(0,t.outerHeight-mc(r,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function kx(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function Ax(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return n(e?["left","right"]:["top","bottom"])}function Dn(e,t,s,n){const i=[];let o,r,a,l,c,u;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Ax(a.horizontal,t));const{same:d,other:f}=wx(t,s,a,n);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Dn(i,t,s,n)||u}function Oi(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function bc(e,t,s,n){const i=s.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;li(c.start)&&(r=c.start),l.fullSize?Oi(l,i.left,r,s.outerWidth-i.right-i.left,f):Oi(l,t.left+c.placed,r,d,f),c.start=r,c.placed+=d,r=l.bottom}else{const d=t.h*u,f=c.size||l.width;li(c.start)&&(o=c.start),l.fullSize?Oi(l,o,i.top,f,s.outerHeight-i.bottom-i.top):Oi(l,o,t.top+c.placed,f,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=r}var ie={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=re(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(s-i.height,0),a=yx(e.boxes),l=a.vertical,c=a.horizontal;Et(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,x)=>x.box.options&&x.box.options.display===!1?b:b+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),f=Object.assign({},i);hf(f,re(n));const p=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),m=_x(l.concat(c),d);Dn(a.fullSize,p,d,m),Dn(l,p,d,m),Dn(c,p,d,m)&&Dn(l,p,d,m),kx(p),bc(a.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,bc(a.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Et(a.chartArea,b=>{const x=b.box;Object.assign(x,e.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class pf{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Sx extends pf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Yi="$chartjs",Cx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xc=e=>e===null||e==="";function Tx(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Yi]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",xc(i)){const o=ec(e,"width");o!==void 0&&(e.width=o)}if(xc(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=ec(e,"height");o!==void 0&&(e.height=o)}return e}const gf=Mb?{passive:!0}:!1;function Mx(e,t,s){e&&e.addEventListener(t,s,gf)}function Ex(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,gf)}function Ox(e,t){const s=Cx[e.type]||e.type,{x:n,y:i}=$s(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function mo(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Ix(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||mo(a.addedNodes,n),r=r&&!mo(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function Px(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||mo(a.removedNodes,n),r=r&&!mo(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const di=new Map;let vc=0;function mf(){const e=window.devicePixelRatio;e!==vc&&(vc=e,di.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Rx(e,t){di.size||window.addEventListener("resize",mf),di.set(e,t)}function Dx(e){di.delete(e),di.size||window.removeEventListener("resize",mf)}function Lx(e,t,s){const n=e.canvas,i=n&&Ea(n);if(!i)return;const o=Ud((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),Rx(e,o),r}function pr(e,t,s){s&&s.disconnect(),t==="resize"&&Dx(e)}function Nx(e,t,s){const n=e.canvas,i=Ud(o=>{e.ctx!==null&&s(Ox(o,e))},e);return Mx(n,t,i),i}class Fx extends pf{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Tx(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Yi])return!1;const n=s[Yi].initial;["height","width"].forEach(o=>{const r=n[o];gt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Yi],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),r={attach:Ix,detach:Px,resize:Lx}[s]||Nx;i[s]=r(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:pr,detach:pr,resize:pr}[s]||Ex)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return Tb(t,s,n,i)}isAttached(t){const s=t&&Ea(t);return!!(s&&s.isConnected)}}function Bx(e){return!Ma()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Sx:Fx}var Fi;let ds=(Fi=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return bn(this.x)&&bn(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},X(Fi,"defaults",{}),X(Fi,"defaultRoutes"),Fi);function $x(e,t){const s=e.options.ticks,n=Hx(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?jx(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return zx(t,c,o,r/i),c;const u=Vx(o,t,i);if(r>0){let d,f;const p=r>1?Math.round((l-a)/(r-1)):null;for(Ii(t,c,u,gt(p)?0:a-p,a),d=0,f=r-1;d<f;d++)Ii(t,c,u,o[d],o[d+1]);return Ii(t,c,u,l,gt(p)?t.length:l+p),c}return Ii(t,c,u),c}function Hx(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function Vx(e,t,s){const n=Ux(e),i=t.length/s;if(!n)return Math.max(i,1);const o=Om(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function jx(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function zx(e,t,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=s[i*n])}function Ii(e,t,s,n,i){const o=ct(n,0),r=Math.min(ct(i,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=o;u<0;)a++,u=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===u&&(t.push(e[c]),a++,u=Math.round(o+a*s))}function Ux(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const Wx=e=>e==="left"?"right":e==="right"?"left":e,_c=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,yc=(e,t)=>Math.min(t||e,e);function wc(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function qx(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>r+a)))return l}function Gx(e,t){Et(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Mn(e){return e.drawTicks?e.tickLength:0}function kc(e,t){if(!e.display)return 0;const s=Kt(e.font,t),n=re(e.padding);return(Ht(e.text)?e.text.length:1)*s.lineHeight+n.height}function Yx(e,t){return Es(e,{scale:t,type:"scale"})}function Kx(e,t,s){return Es(e,{tick:s,index:t,type:"tick"})}function Xx(e,t,s){let n=wa(e);return(s&&t!=="right"||!s&&t==="right")&&(n=Wx(n)),n}function Jx(e,t,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,f,p,m;const b=r-i,x=a-o;if(e.isHorizontal()){if(p=te(n,o,a),vt(s)){const v=Object.keys(s)[0],y=s[v];m=u[v].getPixelForValue(y)+b-t}else s==="center"?m=(c.bottom+c.top)/2+b-t:m=_c(e,s,t);f=a-o}else{if(vt(s)){const v=Object.keys(s)[0],y=s[v];p=u[v].getPixelForValue(y)-x+t}else s==="center"?p=(c.left+c.right)/2-x+t:p=_c(e,s,t);m=te(n,r,i),d=s==="left"?-qt:qt}return{titleX:p,titleY:m,maxWidth:f,rotation:d}}class Qs extends ds{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=xe(t,Number.POSITIVE_INFINITY),s=xe(s,Number.NEGATIVE_INFINITY),n=xe(n,Number.POSITIVE_INFINITY),i=xe(i,Number.NEGATIVE_INFINITY),{min:xe(t,n),max:xe(s,i),minDefined:zt(t),maxDefined:zt(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:xe(s,xe(n,s)),max:xe(n,xe(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ob(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wc(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=$x(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=Ft(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=yc(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=Qt(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),d+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Mn(t.grid)-s.padding-kc(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),r=_a(Math.min(Math.asin(Qt((u.highest.height+6)/a,-1,1)),Math.asin(Qt(l/c,-1,1))-Math.asin(Qt(f/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=kc(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=Mn(o)+l):(t.height=this.maxHeight,t.width=Mn(o)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=n.padding*2,m=Te(this.labelRotation),b=Math.cos(m),x=Math.sin(m);if(a){const v=n.mirror?0:x*d.width+b*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=n.mirror?0:b*d.width+x*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,u,x,b)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*s.height):(f=n*t.height,p=i*s.width):o==="start"?p=s.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=s.width/2),this.paddingLeft=Math.max((f-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=s.height/2,d=t.height/2;o==="start"?(u=0,d=t.height):o==="end"&&(u=s.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)gt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=wc(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/yc(s,n));let c=0,u=0,d,f,p,m,b,x,v,y,S,k,M;for(d=0;d<s;d+=l){if(m=t[d].label,b=this._resolveTickFontOptions(d),i.font=x=b.string,v=o[x]=o[x]||{data:{},gc:[]},y=b.lineHeight,S=k=0,!gt(m)&&!Ht(m))S=po(i,v.data,v.gc,S,m),k=y;else if(Ht(m))for(f=0,p=m.length;f<p;++f)M=m[f],!gt(M)&&!Ht(M)&&(S=po(i,v.data,v.gc,S,M),k+=y);r.push(S),a.push(k),c=Math.max(S,c),u=Math.max(k,u)}Gx(o,s);const N=r.indexOf(c),F=a.indexOf(u),j=B=>({width:r[B]||0,height:a[B]||0});return{first:j(0),last:j(s-1),widest:j(N),highest:j(F),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return Dm(this._alignToPixels?Ls(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=Kx(this.getContext(),t,n))}return this.$context||(this.$context=Yx(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Te(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Mn(o),p=[],m=a.setContext(this.getContext()),b=m.display?m.width:0,x=b/2,v=function(V){return Ls(n,V,b)};let y,S,k,M,N,F,j,B,Y,D,A,J;if(r==="top")y=v(this.bottom),F=this.bottom-f,B=y-x,D=v(t.top)+x,J=t.bottom;else if(r==="bottom")y=v(this.top),D=t.top,J=v(t.bottom)-x,F=y+x,B=this.top+f;else if(r==="left")y=v(this.right),N=this.right-f,j=y-x,Y=v(t.left)+x,A=t.right;else if(r==="right")y=v(this.left),Y=t.left,A=v(t.right)-x,N=y+x,j=this.left+f;else if(s==="x"){if(r==="center")y=v((t.top+t.bottom)/2+.5);else if(vt(r)){const V=Object.keys(r)[0],Q=r[V];y=v(this.chart.scales[V].getPixelForValue(Q))}D=t.top,J=t.bottom,F=y+x,B=F+f}else if(s==="y"){if(r==="center")y=v((t.left+t.right)/2);else if(vt(r)){const V=Object.keys(r)[0],Q=r[V];y=v(this.chart.scales[V].getPixelForValue(Q))}N=y-x,j=N-f,Y=t.left,A=t.right}const Z=ct(i.ticks.maxTicksLimit,d),st=Math.max(1,Math.ceil(d/Z));for(S=0;S<d;S+=st){const V=this.getContext(S),Q=o.setContext(V),et=a.setContext(V),ht=Q.lineWidth,Rt=Q.color,dt=et.dash||[],mt=et.dashOffset,Dt=Q.tickWidth,bt=Q.tickColor,kt=Q.tickBorderDash||[],I=Q.tickBorderDashOffset;k=qx(this,S,l),k!==void 0&&(M=Ls(n,k,ht),c?N=j=Y=A=M:F=B=D=J=M,p.push({tx1:N,ty1:F,tx2:j,ty2:B,x1:Y,y1:D,x2:A,y2:J,width:ht,color:Rt,borderDash:dt,borderDashOffset:mt,tickWidth:Dt,tickColor:bt,tickBorderDash:kt,tickBorderDashOffset:I}))}return this._ticksLength=d,this._borderValue=y,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,f=Mn(n.grid),p=f+u,m=d?-u:p,b=-Te(this.labelRotation),x=[];let v,y,S,k,M,N,F,j,B,Y,D,A,J="middle";if(i==="top")N=this.bottom-m,F=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+m,F=this._getXAxisLabelAlignment();else if(i==="left"){const st=this._getYAxisLabelAlignment(f);F=st.textAlign,M=st.x}else if(i==="right"){const st=this._getYAxisLabelAlignment(f);F=st.textAlign,M=st.x}else if(s==="x"){if(i==="center")N=(t.top+t.bottom)/2+p;else if(vt(i)){const st=Object.keys(i)[0],V=i[st];N=this.chart.scales[st].getPixelForValue(V)+p}F=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")M=(t.left+t.right)/2-p;else if(vt(i)){const st=Object.keys(i)[0],V=i[st];M=this.chart.scales[st].getPixelForValue(V)}F=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const Z=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){S=a[v],k=S.label;const st=o.setContext(this.getContext(v));j=this.getPixelForTick(v)+o.labelOffset,B=this._resolveTickFontOptions(v),Y=B.lineHeight,D=Ht(k)?k.length:1;const V=D/2,Q=st.color,et=st.textStrokeColor,ht=st.textStrokeWidth;let Rt=F;r?(M=j,F==="inner"&&(v===y-1?Rt=this.options.reverse?"left":"right":v===0?Rt=this.options.reverse?"right":"left":Rt="center"),i==="top"?c==="near"||b!==0?A=-D*Y+Y/2:c==="center"?A=-Z.highest.height/2-V*Y+Y:A=-Z.highest.height+Y/2:c==="near"||b!==0?A=Y/2:c==="center"?A=Z.highest.height/2-V*Y:A=Z.highest.height-D*Y,d&&(A*=-1),b!==0&&!st.showLabelBackdrop&&(M+=Y/2*Math.sin(b))):(N=j,A=(1-D)*Y/2);let dt;if(st.showLabelBackdrop){const mt=re(st.backdropPadding),Dt=Z.heights[v],bt=Z.widths[v];let kt=A-mt.top,I=0-mt.left;switch(J){case"middle":kt-=Dt/2;break;case"bottom":kt-=Dt;break}switch(F){case"center":I-=bt/2;break;case"right":I-=bt;break;case"inner":v===y-1?I-=bt:v>0&&(I-=bt/2);break}dt={left:I,top:kt,width:bt+mt.width,height:Dt+mt.height,color:st.backdropColor}}x.push({label:k,font:B,textOffset:A,options:{rotation:b,color:Q,strokeColor:et,strokeWidth:ht,textAlign:Rt,textBaseline:J,translation:[M,N],backdrop:dt}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Te(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,u;return s==="left"?i?(u=this.right+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ls(t,this.left,r)-r/2,u=Ls(t,this.right,a)+a/2,d=f=l):(d=Ls(t,this.top,r)-r/2,f=Ls(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Bo(n,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;Xs(n,c,0,u,l,a)}i&&$o(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=Kt(n.font),r=re(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||vt(s)?(l+=r.bottom,Ht(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=Jx(this,l,s,a);Xs(t,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:f,textAlign:Xx(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ct(t.grid&&t.grid.z,-1),i=ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Qs.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Kt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pi{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;tv(s)&&(n=this.register(s));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,Qx(t,r,n),this.override&&Vt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Vt[i]&&(delete Vt[i][n],this.override&&delete Ks[n])}}function Qx(e,t,s){const n=ai(Object.create(null),[s?Vt.get(s):{},Vt.get(t),e.defaults]);Vt.set(t,n),e.defaultRoutes&&Zx(t,e.defaultRoutes),e.descriptors&&Vt.describe(t,e.descriptors)}function Zx(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),r=t[s].split("."),a=r.pop(),l=r.join(".");Vt.route(o,i,l,a)})}function tv(e){return"id"in e&&"defaults"in e}class ev{constructor(){this.controllers=new Pi(Oe,"datasets",!0),this.elements=new Pi(ds,"elements"),this.plugins=new Pi(Object,"plugins"),this.scales=new Pi(Qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):Et(i,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,s,n){const i=va(t);Ft(n["before"+i],[],n),s[t](n),Ft(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var He=new ev;class sv{constructor(){this._init=void 0}notify(t,s,n,i){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),r}_notify(t,s,n,i){i=i||{};for(const o of t){const r=o.plugin,a=r[n],l=[s,i,o.options];if(Ft(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ct(n.options&&n.options.plugins,{}),o=nv(n);return i===!1&&!s?[]:ov(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function nv(e){const t={},s=[],n=Object.keys(He.plugins.items);for(let o=0;o<n.length;o++)s.push(He.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function iv(e,t){return!t&&e===!1?null:e===!0?{}:e}function ov(e,{plugins:t,localIds:s},n,i){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=iv(n[l],i);c!==null&&o.push({plugin:a,options:rv(e.config,{plugin:a,local:s[l]},c,r)})}return o}function rv(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vr(e,t){const s=Vt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function av(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function lv(e,t){return e===t?"_index_":"_value_"}function Ac(e){if(e==="x"||e==="y"||e==="r")return e}function cv(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function jr(e,...t){if(Ac(e))return e;for(const s of t){const n=s.axis||cv(s.position)||e.length>1&&Ac(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Sc(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function uv(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Sc(e,"x",s[0])||Sc(e,"y",s[0])}return{}}function dv(e,t){const s=Ks[e.type]||{scales:{}},n=t.scales||{},i=Vr(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!vt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=jr(r,a,uv(r,e),Vt.scales[a.type]),c=lv(l,i),u=s.scales||{};o[r]=qn(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||Vr(a,t),u=(Ks[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=av(d,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),qn(o[p],[{axis:f},n[p],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];qn(a,[Vt.scales[a.type],Vt.scale])}),o}function bf(e){const t=e.options||(e.options={});t.plugins=ct(t.plugins,{}),t.scales=dv(e,t)}function xf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fv(e){return e=e||{},e.data=xf(e.data),bf(e),e}const Cc=new Map,vf=new Set;function Ri(e,t){let s=Cc.get(e);return s||(s=t(),Cc.set(e,s),vf.add(s)),s}const En=(e,t,s)=>{const n=Cs(t,s);n!==void 0&&e.add(n)};class hv{constructor(t){this._config=fv(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=xf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ri(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Ri(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Ri(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Ri(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(d=>En(l,t,d))),u.forEach(d=>En(l,i,d)),u.forEach(d=>En(l,Ks[o]||{},d)),u.forEach(d=>En(l,Vt,d)),u.forEach(d=>En(l,Br,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),vf.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,Ks[s]||{},Vt.datasets[s]||{},{type:s},Vt,Br]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Tc(this._resolverCache,t,i);let l=r;if(gv(r,s)){o.$shared=!1,n=Ts(n)?n():n;const c=this.createResolver(t,n,a);l=xn(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(t,s,n=[""],i){const{resolver:o}=Tc(this._resolverCache,t,n);return vt(s)?xn(o,s,void 0,i):o}}function Tc(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Sa(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const pv=e=>vt(e)&&Object.getOwnPropertyNames(e).some(t=>Ts(e[t]));function gv(e,t){const{isScriptable:s,isIndexable:n}=Xd(e);for(const i of t){const o=s(i),r=n(i),a=(r||o)&&e[i];if(o&&(Ts(a)||pv(a))||r&&Ht(a))return!0}return!1}var mv="4.5.1";const bv=["top","bottom","left","right","chartArea"];function Mc(e,t){return e==="top"||e==="bottom"||bv.indexOf(e)===-1&&t==="x"}function Ec(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Oc(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ft(s&&s.onComplete,[e],t)}function xv(e){const t=e.chart,s=t.options.animation;Ft(s&&s.onProgress,[e],t)}function _f(e){return Ma()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ki={},Ic=e=>{const t=_f(e);return Object.values(Ki).filter(s=>s.canvas===t).pop()};function vv(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const r=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=r)}}}function _v(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Ce{static register(...t){He.add(...t),Pc()}static unregister(...t){He.remove(...t),Pc()}constructor(t,s){const n=this.config=new hv(s),i=_f(t),o=Ic(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Bx(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=ym(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Bm(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],Ki[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xe.listen(this,"complete",Oc),Xe.listen(this,"progress",xv),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return gt(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return He}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jl(this.canvas,this.ctx),this}stop(){return Xe.stop(this),this}resize(t,s){Xe.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,tc(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Ft(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Et(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=jr(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Et(o,r=>{const a=r.options,l=a.id,c=jr(l,a),u=ct(a.type,r.dtype);(a.position===void 0||Mc(a.position,c)!==Mc(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=He.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,t)}),Et(i,(r,a)=>{r||delete n[a]}),Et(n,r=>{ie.configure(this,r,r.options),ie.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Ec("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||Vr(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=He.getController(a),{datasetElementType:c,dataElementType:u}=Vt.datasets[a];Object.assign(l,{dataElementType:He.getElement(u),datasetElementType:c&&He.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Et(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(f),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||Et(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ec("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Et(this.scales,t=>{ie.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!jl(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;vv(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!jl(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ie.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Et(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ts(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xe.has(this)?this.attached&&!Xe.running(this)&&Xe.start(this):(this.draw(),Oc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=lf(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Bo(s,i),t.controller.draw(),i&&$o(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return os(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=bx.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);li(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Xe.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Jl(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Ki[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Et(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){Et(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Et(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!uo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(s,t),a=n?t:o(t,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(t,i,n,r),l=Tm(t),c=_v(t,this._lastEvent,n,l);n&&(this._lastEvent=null,Ft(o.onHover,[t,a,this],this),l&&Ft(o.onClick,[t,a,this],this));const u=!uo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}X(Ce,"defaults",Vt),X(Ce,"instances",Ki),X(Ce,"overrides",Ks),X(Ce,"registry",He),X(Ce,"version",mv),X(Ce,"getChart",Ic);function Pc(){return Et(Ce.instances,e=>e._plugins.invalidate())}function yv(e,t,s){const{startAngle:n,x:i,y:o,outerRadius:r,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/r,ee(n-s));if(e.beginPath(),e.arc(i,o,r-c/2,n+d/2,s-d/2),a>0){const f=Math.min(c/a,ee(n-s));e.arc(i,o,a+c/2,s-f/2,n+f/2,!0)}else{const f=Math.min(c/2,r*ee(n-s));if(u==="round")e.arc(i,o,f,s-wt/2,n+wt/2,!0);else if(u==="bevel"){const p=2*f*f,m=-p*Math.cos(s+wt/2)+i,b=-p*Math.sin(s+wt/2)+o,x=p*Math.cos(n+wt/2)+i,v=p*Math.sin(n+wt/2)+o;e.lineTo(m,b),e.lineTo(x,v)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function wv(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,r,a,n-c,s+c),l>i?(c=i/l,e.arc(o,r,l,s+c,n-c,!0)):e.arc(o,r,i,s+qt,n-qt),e.closePath(),e.clip()}function kv(e){return Aa(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Av(e,t,s,n){const i=kv(e.options.borderRadius),o=(s-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return Qt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Qt(i.innerStart,0,r),innerEnd:Qt(i.innerEnd,0,r)}}function en(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function bo(e,t,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let p=0;const m=i-l;if(n){const st=u>0?u-n:0,V=d>0?d-n:0,Q=(st+V)/2,et=Q!==0?m*Q/(Q+n):m;p=(m-et)/2}const b=Math.max(.001,m*d-s/wt)/d,x=(m-b)/2,v=l+x+p,y=i-x-p,{outerStart:S,outerEnd:k,innerStart:M,innerEnd:N}=Av(t,f,d,y-v),F=d-S,j=d-k,B=v+S/F,Y=y-k/j,D=f+M,A=f+N,J=v+M/D,Z=y-N/A;if(e.beginPath(),o){const st=(B+Y)/2;if(e.arc(r,a,d,B,st),e.arc(r,a,d,st,Y),k>0){const ht=en(j,Y,r,a);e.arc(ht.x,ht.y,k,Y,y+qt)}const V=en(A,y,r,a);if(e.lineTo(V.x,V.y),N>0){const ht=en(A,Z,r,a);e.arc(ht.x,ht.y,N,y+qt,Z+Math.PI)}const Q=(y-N/f+(v+M/f))/2;if(e.arc(r,a,f,y-N/f,Q,!0),e.arc(r,a,f,Q,v+M/f,!0),M>0){const ht=en(D,J,r,a);e.arc(ht.x,ht.y,M,J+Math.PI,v-qt)}const et=en(F,v,r,a);if(e.lineTo(et.x,et.y),S>0){const ht=en(F,B,r,a);e.arc(ht.x,ht.y,S,v-qt,B)}}else{e.moveTo(r,a);const st=Math.cos(B)*d+r,V=Math.sin(B)*d+a;e.lineTo(st,V);const Q=Math.cos(Y)*d+r,et=Math.sin(Y)*d+a;e.lineTo(Q,et)}e.closePath()}function Sv(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){bo(e,t,s,n,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%Bt||Bt))}return bo(e,t,s,n,l,i),e.fill(),l}function Cv(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=f,m?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let b=t.endAngle;if(o){bo(e,t,s,n,b,i);for(let x=0;x<o;++x)e.stroke();isNaN(a)||(b=r+(a%Bt||Bt))}m&&wv(e,t,b),l.selfJoin&&b-r>=wt&&p===0&&u!=="miter"&&yv(e,t,b),o||(bo(e,t,s,n,b,i),e.stroke())}class Ln extends ds{constructor(s){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=Hd(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=ct(f,c-l),b=ci(r,l,c)&&l!==c,x=m>=Bt||b,v=ns(a,u+p,d+p);return x&&v}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,d=(o+r)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Bt?Math.floor(i/Bt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(wt,i||0)),u=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,Sv(s,this,u,r,a),Cv(s,this,u,r,a),s.restore()}}X(Ln,"id","arc"),X(Ln,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),X(Ln,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(Ln,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function yf(e,t,s=t){e.lineCap=ct(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ct(s.borderDash,t.borderDash)),e.lineDashOffset=ct(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ct(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ct(s.borderWidth,t.borderWidth),e.strokeStyle=ct(s.borderColor,t.borderColor)}function Tv(e,t,s){e.lineTo(s.x,s.y)}function Mv(e){return e.stepped?Xm:e.tension||e.cubicInterpolationMode==="monotone"?Jm:Tv}function wf(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=t,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function Ev(e,t,s,n){const{points:i,options:o}=t,{count:r,start:a,loop:l,ilen:c}=wf(i,s,n),u=Mv(o);let{move:d=!0,reverse:f}=n||{},p,m,b;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%r],!m.skip&&(d?(e.moveTo(m.x,m.y),d=!1):u(e,b,m,f,o.stepped),b=m);return l&&(m=i[(a+(f?c:0))%r],u(e,b,m,f,o.stepped)),!!l}function Ov(e,t,s,n){const i=t.points,{count:o,start:r,ilen:a}=wf(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,f,p,m,b,x,v;const y=k=>(r+(c?a-k:k))%o,S=()=>{b!==x&&(e.lineTo(u,x),e.lineTo(u,b),e.lineTo(u,v))};for(l&&(p=i[y(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[y(f)],p.skip)continue;const k=p.x,M=p.y,N=k|0;N===m?(M<b?b=M:M>x&&(x=M),u=(d*u+k)/++d):(S(),e.lineTo(k,M),m=N,d=0,b=x=M),v=M}S()}function zr(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?Ov:Ev}function Iv(e){return e.stepped?Eb:e.tension||e.cubicInterpolationMode==="monotone"?Ob:Hs}function Pv(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),yf(e,t.options),e.stroke(i)}function Rv(e,t,s,n){const{segments:i,options:o}=t,r=zr(t);for(const a of i)yf(e,o,a.style),e.beginPath(),r(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const Dv=typeof Path2D=="function";function Lv(e,t,s,n){Dv&&!t.options.segment?Pv(e,t,s,n):Rv(e,t,s,n)}class ys extends ds{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;yb(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nb(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],o=this.points,r=af(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=Iv(n);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:f}=r[c],p=o[d],m=o[f];if(p===m){a.push(p);continue}const b=Math.abs((i-p[s])/(m[s]-p[s])),x=l(p,m,b,n.stepped);x[s]=t[s],a.push(x)}return a.length===1?a[0]:a}pathSegment(t,s,n){return zr(this)(t,this,s,n)}path(t,s,n){const i=this.segments,o=zr(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(t,this,a,{start:s,end:s+n-1});return!!r}draw(t,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),Lv(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(ys,"id","line"),X(ys,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(ys,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(ys,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Rc(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class Xi extends ds{constructor(s){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return Rc(this,s,"x",n)}inYRange(s,n){return Rc(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!os(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,$r(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}X(Xi,"id","point"),X(Xi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(Xi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kf(e,t){const{x:s,y:n,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-d,u=n+d):(d=o/2,a=s-d,l=s+d,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function ws(e,t,s,n){return e?0:Qt(t,s,n)}function Nv(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=Kd(n);return{t:ws(i.top,o.top,0,s),r:ws(i.right,o.right,0,t),b:ws(i.bottom,o.bottom,0,s),l:ws(i.left,o.left,0,t)}}function Fv(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=Gs(i),r=Math.min(t,s),a=e.borderSkipped,l=n||vt(i);return{topLeft:ws(!l||a.top||a.left,o.topLeft,0,r),topRight:ws(!l||a.top||a.right,o.topRight,0,r),bottomLeft:ws(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:ws(!l||a.bottom||a.right,o.bottomRight,0,r)}}function Bv(e){const t=kf(e),s=t.right-t.left,n=t.bottom-t.top,i=Nv(e,s/2,n/2),o=Fv(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function gr(e,t,s,n){const i=t===null,o=s===null,a=e&&!(i&&o)&&kf(e,n);return a&&(i||ns(t,a.left,a.right))&&(o||ns(s,a.top,a.bottom))}function $v(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Hv(e,t){e.rect(t.x,t.y,t.w,t.h)}function mr(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class Ji extends ds{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=Bv(this),a=$v(r.radius)?ui:Hv;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,mr(r,s,o)),t.clip(),a(t,mr(o,-s,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,mr(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return gr(this,t,s,n)}inXRange(t,s){return gr(this,t,null,s)}inYRange(t,s){return gr(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}X(Ji,"id","bar"),X(Ji,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(Ji,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Vv=Object.freeze({__proto__:null,ArcElement:Ln,BarElement:Ji,LineElement:ys,PointElement:Xi});const Ur=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Dc=Ur.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Af(e){return Ur[e%Ur.length]}function Sf(e){return Dc[e%Dc.length]}function jv(e,t){return e.borderColor=Af(t),e.backgroundColor=Sf(t),++t}function zv(e,t){return e.backgroundColor=e.data.map(()=>Af(t++)),t}function Uv(e,t){return e.backgroundColor=e.data.map(()=>Sf(t++)),t}function Wv(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof Us?t=zv(s,t):i instanceof Xn?t=Uv(s,t):i&&(t=jv(s,t))}}function Lc(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function qv(e){return e&&(e.borderColor||e.backgroundColor)}function Gv(){return Vt.borderColor!=="rgba(0,0,0,0.1)"||Vt.backgroundColor!=="rgba(0,0,0,0.1)"}var Yv={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i,r=Lc(n)||qv(i)||o&&Lc(o)||Gv();if(!s.forceOverride&&r)return;const a=Wv(e);n.forEach(a)}};function Kv(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const r=[],a=(s-2)/(o-2);let l=0;const c=t+s-1;let u=t,d,f,p,m,b;for(r[l++]=e[u],d=0;d<o-2;d++){let x=0,v=0,y;const S=Math.floor((d+1)*a)+1+t,k=Math.min(Math.floor((d+2)*a)+1,s)+t,M=k-S;for(y=S;y<k;y++)x+=e[y].x,v+=e[y].y;x/=M,v/=M;const N=Math.floor(d*a)+1+t,F=Math.min(Math.floor((d+1)*a)+1,s)+t,{x:j,y:B}=e[u];for(p=m=-1,y=N;y<F;y++)m=.5*Math.abs((j-x)*(e[y].y-B)-(j-e[y].x)*(v-B)),m>p&&(p=m,f=e[y],b=y);r[l++]=f,u=b}return r[l++]=e[c],r}function Xv(e,t,s,n){let i=0,o=0,r,a,l,c,u,d,f,p,m,b;const x=[],v=t+s-1,y=e[t].x,k=e[v].x-y;for(r=t;r<t+s;++r){a=e[r],l=(a.x-y)/k*n,c=a.y;const M=l|0;if(M===u)c<m?(m=c,d=r):c>b&&(b=c,f=r),i=(o*i+a.x)/++o;else{const N=r-1;if(!gt(d)&&!gt(f)){const F=Math.min(d,f),j=Math.max(d,f);F!==p&&F!==N&&x.push({...e[F],x:i}),j!==p&&j!==N&&x.push({...e[j],x:i})}r>0&&N!==p&&x.push(e[N]),x.push(a),u=M,o=0,m=b=c,d=f=p=r}}return x}function Cf(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Nc(e){e.data.datasets.forEach(t=>{Cf(t)})}function Jv(e,t){const s=t.length;let n=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Qt(is(t,o.axis,r).lo,0,s-1)),c?i=Qt(is(t,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var Qv={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){Nc(e);return}const n=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=e.getDatasetMeta(o),c=r||i.data;if(Rn([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:f}=Jv(l,c);const p=s.threshold||4*n;if(f<=p){Cf(i);return}gt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let m;switch(s.algorithm){case"lttb":m=Kv(c,d,f,n,s);break;case"min-max":m=Xv(c,d,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=m})},destroy(e){Nc(e)}};function Zv(e,t,s){const n=e.segments,i=e.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=jo(l,c,i);const u=Wr(s,i[l],i[c],a.loop);if(!t.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=af(t,u);for(const f of d){const p=Wr(s,o[f.start],o[f.end],f.loop),m=rf(a,i,p);for(const b of m)r.push({source:b,target:f,start:{[s]:Fc(u,p,"start",Math.max)},end:{[s]:Fc(u,p,"end",Math.min)}})}}return r}function Wr(e,t,s,n){if(n)return;let i=t[e],o=s[e];return e==="angle"&&(i=ee(i),o=ee(o)),{property:e,start:i,end:o}}function t1(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=jo(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function jo(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Fc(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Tf(e,t){let s=[],n=!1;return Ht(e)?(n=!0,s=e):s=t1(e,t),s.length?new ys({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Bc(e){return e&&e.fill!==!1}function e1(e,t,s){let i=e[t].fill;const o=[t];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!zt(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function s1(e,t,s){const n=r1(e);if(vt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return zt(i)&&Math.floor(i)===i?n1(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function n1(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function i1(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:vt(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function o1(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:vt(e)?n=e.value:n=t.getBaseValue(),n}function r1(e){const t=e.options,s=t.fill;let n=ct(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function a1(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,r=n.points,a=l1(t,s);a.push(Tf({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)c1(i,r[u],a)}return new ys({points:i,options:{}})}function l1(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||s.unshift(o.dataset)}return s}function c1(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=u1(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function u1(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][s],f=r[u.end][s];if(ns(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:n}}class Mf{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:Bt},t.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,o=t.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function d1(e){const{chart:t,fill:s,line:n}=e;if(zt(s))return f1(t,s);if(s==="stack")return a1(e);if(s==="shape")return!0;const i=h1(e);return i instanceof Mf?i:Tf(i,n)}function f1(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function h1(e){return(e.scale||{}).getPointPositionForValue?g1(e):p1(e)}function p1(e){const{scale:t={},fill:s}=e,n=i1(s,t);if(zt(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function g1(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=o1(s,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new Mf({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,r));return a}function br(e,t,s){const n=d1(t),{chart:i,index:o,line:r,scale:a,axis:l}=t,c=r.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:p=d}=u||{},m=i.getDatasetMeta(o),b=lf(i,m);n&&r.points.length&&(Bo(e,s),m1(e,{line:r,target:n,above:f,below:p,area:s,scale:a,axis:l,clip:b}),$o(e))}function m1(e,t){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save();let u=o;o!==i&&(c==="x"?($c(e,n,r.top),xr(e,{line:s,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),$c(e,n,r.bottom)):c==="y"&&(Hc(e,n,r.left),xr(e,{line:s,target:n,color:o,scale:a,property:c,clip:l}),e.restore(),e.save(),Hc(e,n,r.right),u=i)),xr(e,{line:s,target:n,color:u,scale:a,property:c,clip:l}),e.restore()}function $c(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],d=i[jo(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Hc(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],d=i[jo(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function xr(e,t){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=t,l=Zv(s,n,i);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:p=o}={}}=c,m=n!==!0;e.save(),e.fillStyle=p,b1(e,r,a,m&&Wr(i,d,f)),e.beginPath();const b=!!s.pathSegment(e,c);let x;if(m){b?e.closePath():Vc(e,n,f,i);const v=!!n.pathSegment(e,u,{move:b,reverse:!0});x=b&&v,x||Vc(e,n,d,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function b1(e,t,s,n){const i=t.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=r,c=i.top,u=a,d=i.bottom):(l=i.left,c=r,u=i.right,d=a),e.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),d=Math.min(d,s.bottom)),e.rect(l,c,u-l,d-c),e.clip()}}function Vc(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var x1={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof ys&&(l={visible:e.isDatasetVisible(r),index:r,fill:s1(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=e1(i,r,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&br(e.ctx,a,o))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Bc(o)&&br(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Bc(n)||s.drawTime!=="beforeDatasetDraw"||br(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jc=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},v1=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class zc extends ds{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Ft(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Kt(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=jc(n,o);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=t;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,b)=>{const x=n+s/2+o.measureText(m.text).width;(b===0||c[c.length-1]+x+2*a>r)&&(d+=u,c[c.length-(b>0?0:1)]=0,p+=u,f++),l[b]={left:0,top:p,row:f,width:x,height:i},c[c.length-1]+=x+a}),d}_fitCols(t,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-t;let d=a,f=0,p=0,m=0,b=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:y,itemHeight:S}=_1(n,s,o,x,i);v>0&&p+S+2*a>u&&(d+=f+a,c.push({width:f,height:p}),m+=f+a,b++,f=p=0),l[v]={left:m,top:p,col:b,width:y,height:S},f=Math.max(f,y),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=fn(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=te(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=te(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=te(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=te(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Bo(t,this),this._draw(),$o(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,a=Vt.color,l=fn(t.rtl,this.left,this.width),c=Kt(r.font),{padding:u}=r,d=c.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:b,itemHeight:x}=jc(r,d),v=function(N,F,j){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;i.save();const B=ct(j.lineWidth,1);if(i.fillStyle=ct(j.fillStyle,a),i.lineCap=ct(j.lineCap,"butt"),i.lineDashOffset=ct(j.lineDashOffset,0),i.lineJoin=ct(j.lineJoin,"miter"),i.lineWidth=B,i.strokeStyle=ct(j.strokeStyle,a),i.setLineDash(ct(j.lineDash,[])),r.usePointStyle){const Y={radius:b*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:B},D=l.xPlus(N,m/2),A=F+f;Yd(i,Y,D,A,r.pointStyleWidth&&m)}else{const Y=F+Math.max((d-b)/2,0),D=l.leftForLtr(N,m),A=Gs(j.borderRadius);i.beginPath(),Object.values(A).some(J=>J!==0)?ui(i,{x:D,y:Y,w:m,h:b,radius:A}):i.rect(D,Y,m,b),i.fill(),B!==0&&i.stroke()}i.restore()},y=function(N,F,j){Xs(i,j.text,N,F+x/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},S=this.isHorizontal(),k=this._computeTitleHeight();S?p={x:te(o,this.left+u,this.right-n[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:te(o,this.top+k+u,this.bottom-s[0].height),line:0},sf(this.ctx,t.textDirection);const M=x+u;this.legendItems.forEach((N,F)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const j=i.measureText(N.text).width,B=l.textAlign(N.textAlign||(N.textAlign=r.textAlign)),Y=m+f+j;let D=p.x,A=p.y;l.setWidth(this.width),S?F>0&&D+Y+u>this.right&&(A=p.y+=M,p.line++,D=p.x=te(o,this.left+u,this.right-n[p.line])):F>0&&A+M>this.bottom&&(D=p.x=D+s[p.line].width+u,p.line++,A=p.y=te(o,this.top+k+u,this.bottom-s[p.line].height));const J=l.x(D);if(v(J,A,N),D=$m(B,D+m+f,S?D+Y:this.right,t.rtl),y(l.x(D),A,N),S)p.x+=Y+u;else if(typeof N.text!="string"){const Z=c.lineHeight;p.y+=Ef(N,Z)+u}else p.y+=M}),nf(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Kt(s.font),i=re(s.padding);if(!s.display)return;const o=fn(t.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=te(t.align,d,this.right-f);else{const m=this.columnSizes.reduce((b,x)=>Math.max(b,x.height),0);u=c+te(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=te(a,d,d+f);r.textAlign=o.textAlign(wa(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,Xs(r,s.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,s=Kt(t.font),n=re(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(ns(t,this.left,this.right)&&ns(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],ns(t,i.left,i.left+i.width)&&ns(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!k1(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=v1(i,n);i&&!o&&Ft(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&Ft(s.onHover,[t,n,this],this)}else n&&Ft(s.onClick,[t,n,this],this)}}function _1(e,t,s,n,i){const o=y1(n,e,t,s),r=w1(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function y1(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+n.measureText(i).width}function w1(e,t,s){let n=e;return typeof t.text!="string"&&(n=Ef(t,s)),n}function Ef(e,t){const s=e.text?e.text.length:0;return t*s}function k1(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var A1={id:"legend",_element:zc,start(e,t,s){const n=e.legend=new zc({ctx:e.ctx,options:s,chart:e});ie.configure(e,n,s),ie.addBox(e,n)},stop(e){ie.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;ie.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=re(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ia extends ds{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Ht(n.text)?n.text.length:1;this._padding=re(n.padding);const o=i*Kt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=te(a,n,o),d=s+t,c=o-n):(r.position==="left"?(u=n+t,d=te(a,i,s),l=wt*-.5):(u=o-t,d=te(a,s,i),l=wt*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Kt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Xs(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:wa(s.align),textBaseline:"middle",translation:[r,a]})}}function S1(e,t){const s=new Ia({ctx:e.ctx,options:t,chart:e});ie.configure(e,s,t),ie.addBox(e,s),e.titleBlock=s}var C1={id:"title",_element:Ia,start(e,t,s){S1(e,s)},stop(e){const t=e.titleBlock;ie.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;ie.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Di=new WeakMap;var T1={id:"subtitle",start(e,t,s){const n=new Ia({ctx:e.ctx,options:s,chart:e});ie.configure(e,n,s),ie.addBox(e,n),Di.set(e,n)},stop(e){ie.removeBox(e,Di.get(e)),Di.delete(e)},beforeUpdate(e,t,s){const n=Di.get(e);ie.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nn={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Fr(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Be(e,t){return t&&(Ht(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Je(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function M1(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Uc(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=Kt(t.bodyFont),c=Kt(t.titleFont),u=Kt(t.footerFont),d=o.length,f=i.length,p=n.length,m=re(t.padding);let b=m.height,x=0,v=n.reduce((k,M)=>k+M.before.length+M.lines.length+M.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(b+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=p*k+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(b+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const S=function(k){x=Math.max(x,s.measureText(k).width+y)};return s.save(),s.font=c.string,Et(e.title,S),s.font=l.string,Et(e.beforeBody.concat(e.afterBody),S),y=t.displayColors?r+2+t.boxPadding:0,Et(n,k=>{Et(k.before,S),Et(k.lines,S),Et(k.after,S)}),y=0,s.font=u.string,Et(e.footer,S),s.restore(),x+=m.width,{width:x,height:b}}function E1(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function O1(e,t,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function I1(e,t,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),O1(c,e,t,s)&&(c="center"),c}function Wc(e,t,s){const n=s.yAlign||t.yAlign||E1(e,s);return{xAlign:s.xAlign||t.xAlign||I1(e,t,s,n),yAlign:n}}function P1(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function R1(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function qc(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Gs(r);let m=P1(t,a);const b=R1(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(d,p)+i),{x:Qt(m,0,n.width-t.width),y:Qt(b,0,n.height-t.height)}}function Li(e,t,s){const n=re(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Gc(e){return Be([],Je(e))}function D1(e,t,s){return Es(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Yc(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Of={beforeTitle:Ke,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Ke,beforeBody:Ke,beforeLabel:Ke,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return gt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Ke,afterBody:Ke,beforeFooter:Ke,footer:Ke,afterFooter:Ke};function he(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Of[t].call(s,n):i}class qr extends ds{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new cf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=D1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=he(n,"beforeTitle",this,t),o=he(n,"title",this,t),r=he(n,"afterTitle",this,t);let a=[];return a=Be(a,Je(i)),a=Be(a,Je(o)),a=Be(a,Je(r)),a}getBeforeBody(t,s){return Gc(he(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Et(t,o=>{const r={before:[],lines:[],after:[]},a=Yc(n,o);Be(r.before,Je(he(a,"beforeLabel",this,o))),Be(r.lines,he(a,"label",this,o)),Be(r.after,Je(he(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,s){return Gc(he(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=he(n,"beforeFooter",this,t),o=he(n,"footer",this,t),r=he(n,"afterFooter",this,t);let a=[];return a=Be(a,Je(i)),a=Be(a,Je(o)),a=Be(a,Je(r)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(M1(this.chart,s[l]));return t.filter&&(a=a.filter((u,d,f)=>t.filter(u,d,f,n))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,n))),Et(a,u=>{const d=Yc(t.callbacks,u);i.push(he(d,"labelColor",this,u)),o.push(he(d,"labelPointStyle",this,u)),r.push(he(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Nn[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Uc(this,n),c=Object.assign({},a,l),u=Wc(this.chart,n,c),d=qc(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Gs(a),{x:f,y:p}=t,{width:m,height:b}=s;let x,v,y,S,k,M;return o==="center"?(k=p+b/2,i==="left"?(x=f,v=x-r,S=k+r,M=k-r):(x=f+m,v=x+r,S=k-r,M=k+r),y=x):(i==="left"?v=f+Math.max(l,u)+r:i==="right"?v=f+m-Math.max(c,d)-r:v=this.caretX,o==="top"?(S=p,k=S-r,x=v-r,y=v+r):(S=p+b,k=S+r,x=v+r,y=v-r),M=S),{x1:x,x2:v,x3:y,y1:S,y2:k,y3:M}}drawTitle(t,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=fn(n.rtl,this.x,this.width);for(t.x=Li(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=Kt(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,u=Kt(o.bodyFont),d=Li(this,"left",o),f=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=s.y+p;if(o.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,c)+c/2,v=m+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,$r(t,b,x,v),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,$r(t,b,x,v)}else{t.lineWidth=vt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const b=i.leftForLtr(f,c),x=i.leftForLtr(i.xPlus(f,1),c-2),v=Gs(r.borderRadius);Object.values(v).some(y=>y!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ui(t,{x:b,y:m,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),ui(t,{x,y:m+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(b,m,c,l),t.strokeRect(b,m,c,l),t.fillStyle=r.backgroundColor,t.fillRect(x,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=Kt(n.bodyFont);let f=d.lineHeight,p=0;const m=fn(n.rtl,this.x,this.width),b=function(j){s.fillText(j,m.x(t.x+p),t.y+f/2),t.y+=f+o},x=m.textAlign(r);let v,y,S,k,M,N,F;for(s.textAlign=r,s.textBaseline="middle",s.font=d.string,t.x=Li(this,x,n),s.fillStyle=n.bodyColor,Et(this.beforeBody,b),p=a&&x!=="right"?r==="center"?c/2+u:c+2+u:0,k=0,N=i.length;k<N;++k){for(v=i[k],y=this.labelTextColors[k],s.fillStyle=y,Et(v.before,b),S=v.lines,a&&S.length&&(this._drawColorBox(s,t,k,m,n),f=Math.max(d.lineHeight,l)),M=0,F=S.length;M<F;++M)b(S[M]),f=d.lineHeight;Et(v.after,b)}p=0,f=d.lineHeight,Et(this.afterBody,b),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=fn(n.rtl,this.x,this.width);for(t.x=Li(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=Kt(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=Gs(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),r==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+u-m),s.quadraticCurveTo(a+c,l+u,a+c-m,l+u),r==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+u),s.quadraticCurveTo(a,l+u,a,l+u-p),r==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=Nn[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Uc(this,t),l=Object.assign({},r,this._size),c=Wc(s,t,l),u=qc(t,l,c,s);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=re(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),sf(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),nf(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!uo(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,n),a=this._positionChanged(r,t),l=s||!uo(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,r=Nn[o.position].call(this,t,s);return r!==!1&&(n!==r.x||i!==r.y)}}X(qr,"positioners",Nn);var L1={id:"tooltip",_element:qr,positioners:Nn,afterInit(e,t,s){s&&(e.tooltip=new qr({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Of},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},N1=Object.freeze({__proto__:null,Colors:Yv,Decimation:Qv,Filler:x1,Legend:A1,SubTitle:T1,Title:C1,Tooltip:L1});const F1=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function B1(e,t,s,n){const i=e.indexOf(t);if(i===-1)return F1(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const $1=(e,t)=>e===null?null:Qt(Math.round(e),0,t);function Kc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Gr extends Qs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(gt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:B1(n,t,ct(s,t),this._addedLabels),$1(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=s;r++)i.push({value:r});return i}getLabelForValue(t){return Kc.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}X(Gr,"id","category"),X(Gr,"defaults",{ticks:{callback:Kc}});function H1(e,t){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=e,p=o||1,m=u-1,{min:b,max:x}=t,v=!gt(r),y=!gt(a),S=!gt(c),k=(x-b)/(d+1);let M=Ul((x-b)/m/p)*p,N,F,j,B;if(M<1e-14&&!v&&!y)return[{value:b},{value:x}];B=Math.ceil(x/M)-Math.floor(b/M),B>m&&(M=Ul(B*M/m/p)*p),gt(l)||(N=Math.pow(10,l),M=Math.ceil(M*N)/N),i==="ticks"?(F=Math.floor(b/M)*M,j=Math.ceil(x/M)*M):(F=b,j=x),v&&y&&o&&Pm((a-r)/o,M/1e3)?(B=Math.round(Math.min((a-r)/M,u)),M=(a-r)/B,F=r,j=a):S?(F=v?r:F,j=y?a:j,B=c-1,M=(j-F)/B):(B=(j-F)/M,Gn(B,Math.round(B),M/1e3)?B=Math.round(B):B=Math.ceil(B));const Y=Math.max(Wl(M),Wl(F));N=Math.pow(10,gt(l)?Y:l),F=Math.round(F*N)/N,j=Math.round(j*N)/N;let D=0;for(v&&(f&&F!==r?(s.push({value:r}),F<r&&D++,Gn(Math.round((F+D*M)*N)/N,r,Xc(r,k,e))&&D++):F<r&&D++);D<B;++D){const A=Math.round((F+D*M)*N)/N;if(y&&A>a)break;s.push({value:A})}return y&&f&&j!==a?s.length&&Gn(s[s.length-1].value,a,Xc(a,k,e))?s[s.length-1].value=a:s.push({value:a}):(!y||j===a)&&s.push({value:j}),s}function Xc(e,t,{horizontal:s,minRotation:n}){const i=Te(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class xo extends Qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(t){const l=Ue(i),c=Ue(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(i-l)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=H1(i,o);return t.bounds==="ticks"&&$d(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return vi(t,this.chart.options.locale,this.options.ticks.format)}}class Yr extends xo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=zt(t)?t:0,this.max=zt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Te(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}X(Yr,"id","linear"),X(Yr,"defaults",{ticks:{callback:Fo.formatters.numeric}});const fi=e=>Math.floor(vs(e)),Fs=(e,t)=>Math.pow(10,fi(e)+t);function Jc(e){return e/Math.pow(10,fi(e))===1}function Qc(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function V1(e,t){const s=t-e;let n=fi(s);for(;Qc(e,t,n)>10;)n++;for(;Qc(e,t,n)<10;)n--;return Math.min(n,fi(e))}function j1(e,{min:t,max:s}){t=xe(e.min,t);const n=[],i=fi(t);let o=V1(t,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*r)/r,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),f=xe(e.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;f<s;)n.push({value:f,major:Jc(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),f=Math.round((l+u+d*Math.pow(10,o))*r)/r;const p=xe(e.max,f);return n.push({value:p,major:Jc(p),significand:d}),n}class Kr extends Qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=xo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return zt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=zt(t)?Math.max(0,t):null,this.max=zt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zt(this._userMin)&&(this.min=t===Fs(this.min,0)?Fs(this.min,-1):Fs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=t?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(Fs(n,-1)),r(Fs(i,1)))),n<=0&&o(Fs(i,-1)),i<=0&&r(Fs(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=j1(s,this);return t.bounds==="ticks"&&$d(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":vi(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=vs(t),this._valueRange=vs(this.max)-vs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(vs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}X(Kr,"id","logarithmic"),X(Kr,"defaults",{ticks:{callback:Fo.formatters.logarithmic,major:{enabled:!0}}});function Xr(e){const t=e.ticks;if(t.display&&e.display){const s=re(t.backdropPadding);return ct(t.font&&t.font.size,Vt.font.size)+s.height}return 0}function z1(e,t,s){return s=Ht(s)?s:[s],{w:Km(e,t.string,s),h:s.length*t.lineHeight}}function Zc(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function U1(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?wt/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),d=Kt(c.font),f=z1(e.ctx,d,e._pointLabels[l]);n[l]=f;const p=ee(e.getIndexAngle(l)+a),m=Math.round(_a(p)),b=Zc(m,u.x,f.w,0,180),x=Zc(m,u.y,f.h,90,270);W1(s,t,p,b,x)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=Y1(e,n,i)}function W1(e,t,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function q1(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=e.getPointPosition(t,n+i+r,o),c=Math.round(_a(ee(l.angle+qt))),u=J1(l.y,a.h,c),d=K1(c),f=X1(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function G1(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:o}=e;return!(os({x:s,y:n},t)||os({x:s,y:o},t)||os({x:i,y:n},t)||os({x:i,y:o},t))}function Y1(e,t,s){const n=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:Xr(o)/2,additionalAngle:r?wt/i:0};let c;for(let u=0;u<i;u++){l.padding=s[u],l.size=t[u];const d=q1(e,u,l);n.push(d),a==="auto"&&(d.visible=G1(d,c),d.visible&&(c=d))}return n}function K1(e){return e===0||e===180?"center":e<180?"left":"right"}function X1(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function J1(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function Q1(e,t,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=t;if(!gt(a)){const l=Gs(t.borderRadius),c=re(t.backdropPadding);e.fillStyle=a;const u=n-c.left,d=i-c.top,f=o-n+c.width,p=r-i+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),ui(e,{x:u,y:d,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,d,f,p)}}function Z1(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const o=e._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(i));Q1(s,r,o);const a=Kt(r.font),{x:l,y:c,textAlign:u}=o;Xs(s,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function If(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,Bt);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function t_(e,t,s,n,i){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),If(e,s,r,n),o.closePath(),o.stroke(),o.restore())}function e_(e,t,s){return Es(e,{label:s,index:t,type:"pointLabel"})}class Fn extends xo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=re(Xr(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=zt(t)&&!isNaN(t)?t:0,this.max=zt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Xr(this.options))}generateTickLabels(t){xo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=Ft(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?U1(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=Bt/(this._pointLabels.length||1),n=this.options.startAngle||0;return ee(t*s+Te(n))}getDistanceFromCenterForValue(t){if(gt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(gt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return e_(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-qt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),If(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&Z1(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),p=i.setContext(f),m=o.setContext(f);t_(this,p,l,r,m)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),u=Kt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=re(c.backdropPadding);t.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}Xs(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}X(Fn,"id","radialLinear"),X(Fn,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Fo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),X(Fn,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),X(Fn,"descriptors",{angleLines:{_fallback:"grid"}});const zo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ge=Object.keys(zo);function tu(e,t){return e-t}function eu(e,t){if(gt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),zt(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(bn(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function su(e,t,s,n){const i=ge.length;for(let o=ge.indexOf(e);o<i-1;++o){const r=zo[ge[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(a*r.size))<=n)return ge[o]}return ge[i-1]}function s_(e,t,s,n,i){for(let o=ge.length-1;o>=ge.indexOf(s);o--){const r=ge[o];if(zo[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return ge[s?ge.indexOf(s):0]}function n_(e){for(let t=ge.indexOf(e)+1,s=ge.length;t<s;++t)if(zo[ge[t]].common)return ge[t]}function nu(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=ya(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function i_(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function iu(e,t,s){const n=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:i_(e,n,i,s)}class hi extends Qs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new fx._date(t.adapters.date);i.init(s),qn(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:eu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=zt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=zt(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=Nm(i,o,r);return this._unit=s.unit||(n.autoSkip?su(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):s_(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:n_(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),iu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=Qt(s,0,r),n=Qt(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||su(o.minUnit,s,n,this._getLabelCapacity(s)),a=ct(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=bn(l)||l===!0,u={};let d=s,f,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":r),t.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<n;f=+t.add(f,a,r),p++)nu(u,f,m);return(f===n||i.bounds==="ticks"||p===1)&&nu(u,f,m),Object.keys(u).sort(tu).map(b=>+b)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return Ft(r,[t,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=n[s],p=c&&d&&f&&f.major;return this._adapter.format(t,i||(p?d:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Te(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,iu(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(eu(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return jd(t.sort(tu))}}X(hi,"id","time"),X(hi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ni(e,t,s){let n=0,i=e.length-1,o,r,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=is(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=is(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[i]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class Jr extends hi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Ni(s,this.min),this._tableRange=Ni(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=t.length;r<a;++r)c=t[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ni(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Ni(this._table,n*this._tableRange+this._minPos,!0)}}X(Jr,"id","timeseries"),X(Jr,"defaults",hi.defaults);var o_=Object.freeze({__proto__:null,CategoryScale:Gr,LinearScale:Yr,LogarithmicScale:Kr,RadialLinearScale:Fn,TimeScale:hi,TimeSeriesScale:Jr});const r_=[dx,Vv,N1,o_];Ce.register(...r_);const Pf=[{id:"pbs",title:"Records Personnels (PB)",icon:"",description:"Vos meilleures performances officielles.",fields:[{id:"pb_50m",label:"PB 50m",unit:"s",placeholder:"6.xx",step:.01},{id:"pb_60m",label:"PB 60m",unit:"s",placeholder:"7.xx",step:.01},{id:"pb_50mh",label:"PB 50m Haies",unit:"s",placeholder:"6.xx",step:.01},{id:"pb_60mh",label:"PB 60m Haies",unit:"s",placeholder:"7.xx",step:.01},{id:"pb_100m",label:"PB 100m",unit:"s",placeholder:"10.xx",step:.01},{id:"pb_200m",label:"PB 200m",unit:"s",placeholder:"21.xx",step:.01},{id:"pb_400m",label:"PB 400m",unit:"s",placeholder:"48.xx",step:.01},{id:"pb_100mh",label:"PB 100m Haies",unit:"s",placeholder:"13.xx",step:.01},{id:"pb_110mh",label:"PB 110m Haies",unit:"s",placeholder:"14.xx",step:.01},{id:"pb_400mh",label:"PB 400m Haies",unit:"s",placeholder:"52.xx",step:.01}]},{id:"tests_sprint",title:"Tests Vitesse & Acclration",icon:"",description:"Tests chronomtrs  l'entranement (Cellules/Timing Gates).",fields:[{id:"test_20m_block",label:"20m Block",unit:"s",placeholder:"3.xx",step:.01,tooltip:"Dpart arrt en block."},{id:"test_30m_block",label:"30m Block",unit:"s",placeholder:"4.xx",step:.01,tooltip:"Dpart arrt en block. Indicateur cl d'acclration."},{id:"test_20m_fly",label:"20m Lanc (Fly)",unit:"s",placeholder:"1.xx",step:.01,tooltip:"Distance lance. Vitesse maximale pure."},{id:"test_30m_fly",label:"30m Lanc (Fly)",unit:"s",placeholder:"2.xx",step:.01,tooltip:"Distance lance. Vitesse maximale pure."},{id:"test_60m",label:"60m (Entranement)",unit:"s",placeholder:"7.xx",step:.01},{id:"test_80m",label:"80m",unit:"s",placeholder:"9.xx",step:.01},{id:"test_120m",label:"120m",unit:"s",placeholder:"13.xx",step:.01,tooltip:"Indicateur d'endurance de vitesse."}]},{id:"tests_biomech",title:"Biomcanique (Optojump/Freelap)",icon:"",description:"Donnes techniques avances.",fields:[{id:"contact_time_r",label:"Temps Contact (D)",unit:"ms",placeholder:"1xx",step:1,tooltip:"Temps au sol  vitesse max."},{id:"contact_time_l",label:"Temps Contact (G)",unit:"ms",placeholder:"1xx",step:1},{id:"step_len_avg_r",label:"Long. Moy. Pas (D)",unit:"m",placeholder:"2.xx",step:.01},{id:"step_len_avg_l",label:"Long. Moy. Pas (G)",unit:"m",placeholder:"2.xx",step:.01},{id:"first_contact_dist",label:"Dist. 1er Appui",unit:"m",placeholder:"0.xx",step:.01,tooltip:"Distance entre la ligne et le 1er pied."},{id:"time_to_first_contact",label:"Temps 1er Appui",unit:"s",placeholder:"0.xx",step:.01}]},{id:"tests_power",title:"Puissance & Force",icon:"",description:"Tests physiques gnraux.",fields:[{id:"cmj_height",label:"CMJ (Saut)",unit:"cm",placeholder:"50.0",step:.5,tooltip:"Counter Movement Jump (Mains sur les hanches)."},{id:"sj_height",label:"Squat Jump (SJ)",unit:"cm",placeholder:"45.0",step:.5,tooltip:"Saut sans lan (Dpart flchi arrt)."},{id:"cmj_power",label:"Puissance CMJ",unit:"W/kg",placeholder:"50.0",step:.1},{id:"bound_test",label:"5 Foules (Bonds)",unit:"m",placeholder:"14.xx",step:.1,tooltip:"Distance totale sur 5 foules bondissantes."},{id:"shot_toss_fwd",label:"Lancer Avant",unit:"m",placeholder:"15.xx",step:.1},{id:"shot_toss_bwd",label:"Lancer Arrire",unit:"m",placeholder:"16.xx",step:.1}]}],On={Vmax:{term:"Vitesse Maximale (Vmax)",def:"La vitesse de pointe absolue atteinte par l'athlte, exprime en m/s. Scientifiquement, elle reprsente la limite suprieure de la capacit contractile des muscles  produire de la force  haute vlocit. C'est l'indicateur de performance brute le plus critique pour le 100m et le 200m."},Tau:{term:"Constante de Temps (Tau)",def:"Paramtre du modle de Morin/Samozino reprsentant l'acclration initiale. Un Tau faible (ex: 0.8s) signifie que l'athlte atteint sa Vmax trs rapidement (profil explosif). Il sert  quantifier l'efficacit de la mise en action et la production de force horizontale lors des premiers appuis."},Stiffness:{term:"Raideur Musculo-Tendineuse (Stiffness)",def:"Capacit du complexe muscle-tendon  agir comme un ressort rigide lors de l'impact au sol. Une raideur leve se traduit par des temps de contact trs courts (<100ms) et une meilleure restitution de l'nergie lastique, essentielle pour maintenir la vitesse en fin de course."},Fly:{term:"Sprint Lanc (Fly)",def:"Mthode d'valuation de la vitesse maximale o le chronomtrage dbute aprs une zone d'lan. Cela permet d'isoler la capacit de vlocit pure en liminant la variable de l'acclration initiale depuis les blocs."},CMJ:{term:"Counter Movement Jump (CMJ)",def:"Saut vertical avec contre-mouvement testant la puissance explosive des membres infrieurs. Il mesure l'utilisation du Cycle tirement-Dtente (SSC). Un score lev est fortement corrl  la capacit d'acclration initiale en sprint."},ASR:{term:"Anaerobic Speed Reserve (ASR)",def:"Diffrence entre la vitesse maximale de sprint et la vitesse  VO2max. Sur 400m, une ASR leve permet  l'athlte de courir  une fraction plus faible de sa vitesse maximale, retardant ainsi l'apparition de la fatigue neuromusculaire."},SSC:{term:"Cycle tirement-Dtente (SSC)",def:"Phnomne physiologique o une contraction excentrique (tirement) est immdiatement suivie d'une contraction concentrique. Ce cycle permet de produire une force bien suprieure  une contraction simple grce  l'nergie lastique stocke."},"Modle Physique":{term:"Modle de Dynamique Physique",def:"Calcul prdictif utilisant les lois de la physique (F=ma) adaptes au sprint. Il intgre la rsistance de l'air et les constantes physiologiques individuelles pour simuler une course idale base sur votre profil de force."},"Loi de Mero":{term:"Modle Statistique de Mero",def:"quation issue des recherches du Pr. Antti Mero. Elle utilise des corrlations historiques entre les temps de passage au 60m et le rsultat final au 100m pour prdire la capacit de maintien de la vitesse."},"Fly-to-100":{term:"Projection Fly-to-100",def:"Mthode de calcul estimant le temps sur 100m  partir d'un test de vitesse lanc (ex: Fly 30m). Elle permet de dissocier le potentiel de vitesse pure de la technique de dpart."},"Speed-Biased":{term:"Profil Vitesse (Speed-Biased)",def:"Dsigne un athlte dont la performance repose sur une Vmax trs leve mais qui possde une endurance de vitesse limite. Ce profil excelle souvent sur 60m et 100m mais ncessite un travail spcifique pour le 200m."},"Endurance-Biased":{term:"Profil Endurance (Endurance-Biased)",def:"Dsigne un athlte capable de maintenir un haut pourcentage de sa Vmax sur de longues dures. Moins explosif au dpart, ce profil est redoutable sur les fins de course de 100m et sur le 200m/400m."},"Profil Sprinter":{term:"Profil Sprinter (400m)",def:"Athlte de 400m venant des disciplines de vitesse pure. Sa stratgie de course repose sur un passage rapide au 200m pour capitaliser sur sa rserve de vitesse."},"Profil Rsistant":{term:"Profil Rsistant (400m)",def:"Athlte de 400m avec un profil physiologique orient vers le 800m. Sa force rside dans sa capacit  tolrer des niveaux d'acidose trs levs en fin de course."},"Technique Index":{term:"Indice de Technique de Haie",def:"Ratio calcul entre le temps sur les haies et le temps sur plat. Il quantifie la perte de temps spcifique au franchissement. Un indice optimal suggre que la technique de haie ne limite pas l'expression de la vitesse de l'athlte."},"IE Target":{term:"Index d'Efficacit (IE)",def:`La diffrence de temps cible entre un sprint plat et une course de haies. C'est l'objectif technique  atteindre pour que le passage d'obstacle soit considr comme "transparent" vis--vis de la vitesse de course.`},T400:{term:"Base de Temps 400m (T400)",def:"Le temps de rfrence sur 400m plat utilis pour calculer le potentiel sur 400m haies. Il sert de fondation pour valuer l'endurance spcifique  l'effort long du tour de piste."},Margin:{term:"Marge de Segment (Margin)",def:"cart temporel ajout entre deux segments de course (ex: entre le premier et le second 200m d'un 400m). Elle reprsente le cot nergtique et la fatigue accumule au cours de l'preuve."},"400mH Differential":{term:"Diffrentiel 400m Haies",def:"L'cart typique entre le record sur 400m plat et le 400m haies. Il mesure l'aptitude de l'athlte  maintenir son rythme malgr les 10 obstacles, combinant technique et gestion de l'effort."},"Moyenne (Potentiel vs Ralis)":{term:"Pondration Raliste",def:"Algorithme qui quilibre votre potentiel physique thorique (ce que vos muscles peuvent faire) avec vos records actuels (ce que vous avez dj prouv). Cela vite les prdictions trop optimistes ou dconnectes de la ralit du terrain."}},a_=["Swiss Athletics - Tableaux de Performance & Standards (2026).","Haugen, T. A., & Buchheit, M. (2016). Sprint Running Performance Monitoring: Methodological and Practical Considerations.","Weyand, P. G., et al. (2000). Faster top running speeds are achieved with greater ground forces not more rapid leg movements.","Morin, J. B., & Samozino, P. (2016). Interpreting Power-Force-Velocity profiles for individualized training. IJSPP.","Mero, A., Komi, P. V., & Gregor, R. J. (1992). Biomechanics of sprint running. A review.","Letzelter, M. & Letzelter, S. (1990). Entranement de force.","Di Prampero, P. E., et al. (2005). Sprint running: a new energetic approach."],hn={"50m":{M:{ELITE:{standards:{INTERNATIONAL:5.65,NATIONAL:5.85},performance_ranges:{min:5.7,max:5.9}},U20:{standards:{NATIONAL:6.1},performance_ranges:{min:6,max:6.3}}},F:{ELITE:{standards:{INTERNATIONAL:6.2,NATIONAL:6.45},performance_ranges:{min:6.25,max:6.55}},U20:{standards:{NATIONAL:6.75},performance_ranges:{min:6.65,max:6.95}}}},"60m":{M:{ELITE:{standards:{INTERNATIONAL:6.55,NATIONAL:6.75},performance_ranges:{min:6.6,max:6.8},tests:{fly30m:{min:2.85,max:2.95},block30m:{target:3.8}}},U20:{standards:{NATIONAL:6.95},performance_ranges:{min:6.9,max:7.15}}},F:{ELITE:{standards:{INTERNATIONAL:7.15,NATIONAL:7.4},performance_ranges:{min:7.2,max:7.5},tests:{fly30m:{min:3.2,max:3.35},block30m:{target:4.15}}},U20:{standards:{NATIONAL:7.7},performance_ranges:{min:7.6,max:7.95}}}},"50mH":{M:{ELITE:{standards:{INTERNATIONAL:6.45,NATIONAL:6.75},performance_ranges:{min:6.5,max:6.85},specs:{start:13.72,space:9.14,height:1.06}},U20:{specs:{start:13.72,space:9.14,height:.99}},U18:{specs:{start:13.72,space:9.14,height:.91}}},F:{ELITE:{standards:{INTERNATIONAL:6.85,NATIONAL:7.2},performance_ranges:{min:6.95,max:7.3},specs:{start:13,space:8.5,height:.84}},U20:{specs:{start:13,space:8.5,height:.84}},U18:{specs:{start:13,space:8.5,height:.76}}}},"60mH":{M:{ELITE:{standards:{INTERNATIONAL:7.55,NATIONAL:7.95},performance_ranges:{min:7.6,max:8.1},specs:{start:13.72,space:9.14,height:1.06}},U20:{standards:{NATIONAL:8.3},specs:{start:13.72,space:9.14,height:.99}},U18:{specs:{start:13.72,space:9.14,height:.91}}},F:{ELITE:{standards:{INTERNATIONAL:8.05,NATIONAL:8.5},performance_ranges:{min:8.1,max:8.65},specs:{start:13,space:8.5,height:.84}},U20:{standards:{NATIONAL:8.9},specs:{start:13,space:8.5,height:.84}},U18:{specs:{start:13,space:8.5,height:.76}}}},"100m":{M:{ELITE:{standards:{INTERNATIONAL:10.05,NATIONAL:10.4,REGIONAL:10.9},performance_ranges:{min:10.2,max:10.5},tests:{fly30m:{min:2.85,max:2.95},block30m:{target:3.8},cmj:{min:58,max:65,target:62}},mechanics:{contactTime:{min:80,max:90},vMax:{min:11.6,max:12.2}}},U23:{standards:{INTERNATIONAL:10.2,NATIONAL:10.6,REGIONAL:11},performance_ranges:{min:10.4,max:10.8},tests:{fly30m:{min:2.95,max:3.05},block30m:{target:3.95},cmj:{min:52,max:58}},mechanics:{contactTime:{min:90,max:100},vMax:{min:11.2,max:11.6}}},U20:{standards:{INTERNATIONAL:10.45,NATIONAL:10.85,REGIONAL:11.3},performance_ranges:{min:10.8,max:11.2},tests:{fly30m:{min:3.05,max:3.15},block30m:{target:4.15},cmj:{min:48,max:54}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.6,max:11.2}}},U18:{standards:{INTERNATIONAL:10.7,NATIONAL:11.1,REGIONAL:11.6},performance_ranges:{min:11.3,max:11.6},tests:{fly30m:{min:3.2,max:3.4},block30m:{target:4.25},cmj:{min:42,max:48}},mechanics:{contactTime:{min:115,max:130},vMax:{min:10,max:10.6}}},U16:{standards:{INTERNATIONAL:11.2,NATIONAL:11.6,REGIONAL:12.2},performance_ranges:{min:9.4,max:9.9,note:"Bas sur 80m"},tests:{fly30m:{min:3.5,max:3.7},block30m:{target:4.4},cmj:{min:36,max:42}},mechanics:{contactTime:{min:130,max:150},vMax:{min:8.8,max:10}}}},F:{ELITE:{standards:{INTERNATIONAL:11.15,NATIONAL:11.6,REGIONAL:12.3},performance_ranges:{min:11.2,max:11.6},tests:{fly30m:{min:3.2,max:3.35},block30m:{target:4.15},cmj:{min:45,max:52,target:48}},mechanics:{contactTime:{min:95,max:105},vMax:{min:10.5,max:11}}},U23:{standards:{INTERNATIONAL:11.3,NATIONAL:11.8,REGIONAL:12.5},performance_ranges:{min:11.5,max:12},tests:{fly30m:{min:3.3,max:3.45},block30m:{target:4.35},cmj:{min:40,max:46}},mechanics:{contactTime:{min:105,max:115},vMax:{min:10.1,max:10.6}}},U20:{standards:{INTERNATIONAL:11.6,NATIONAL:12.1,REGIONAL:12.8},performance_ranges:{min:11.8,max:12.3},tests:{fly30m:{min:3.4,max:3.55},block30m:{target:4.6},cmj:{min:36,max:42}},mechanics:{contactTime:{min:115,max:125},vMax:{min:9.6,max:10.2}}},U18:{standards:{INTERNATIONAL:11.9,NATIONAL:12.4,REGIONAL:13.1},performance_ranges:{min:12.4,max:13},tests:{fly30m:{min:3.6,max:3.8},block30m:{target:4.8},cmj:{min:32,max:38}},mechanics:{contactTime:{min:125,max:140},vMax:{min:9,max:9.6}}},U16:{standards:{INTERNATIONAL:12.3,NATIONAL:12.9,REGIONAL:13.6},performance_ranges:{min:10.2,max:10.8,note:"Bas sur 80m"},tests:{fly30m:{min:3.9,max:4.1},block30m:{target:5.1},cmj:{min:28,max:34}},mechanics:{contactTime:{min:135,max:155},vMax:{min:8.2,max:8.9}}}}},"200m":{M:{ELITE:{standards:{INTERNATIONAL:20.3,NATIONAL:21,REGIONAL:22},performance_ranges:{min:20.5,max:21.1},tests:{cmj:{min:55,max:62}}},U20:{standards:{INTERNATIONAL:21,NATIONAL:21.8,REGIONAL:22.8},performance_ranges:{min:21.8,max:22.5},tests:{cmj:{min:46,max:52}}},U18:{standards:{INTERNATIONAL:21.6,NATIONAL:22.4,REGIONAL:23.5},performance_ranges:{min:22.8,max:23.8},tests:{cmj:{min:40,max:46}}},U16:{performance_ranges:{min:24.5,max:26},tests:{cmj:{min:35,max:40}}}},F:{ELITE:{standards:{INTERNATIONAL:22.8,NATIONAL:23.8,REGIONAL:25},performance_ranges:{min:22.8,max:23.6},tests:{cmj:{min:42,max:48}}},U20:{standards:{INTERNATIONAL:23.6,NATIONAL:24.6,REGIONAL:25.8},performance_ranges:{min:24.2,max:25.2},tests:{cmj:{min:35,max:41}}},U18:{standards:{INTERNATIONAL:24.2,NATIONAL:25.2,REGIONAL:26.5},performance_ranges:{min:25.5,max:26.8},tests:{cmj:{min:30,max:36}}},U16:{performance_ranges:{min:27.5,max:29},tests:{cmj:{min:27,max:32}}}}},"400m":{M:{ELITE:{standards:{INTERNATIONAL:45.3,NATIONAL:47,REGIONAL:49.5},performance_ranges:{min:45.8,max:46.8},tests:{cmj:{min:50,max:58}},model:{target:46,splits:{100:11.1,200:22,300:33.5,400:46},diff:2}},U20:{standards:{INTERNATIONAL:46.8,NATIONAL:48.5,REGIONAL:51},performance_ranges:{min:48.5,max:49.8},tests:{cmj:{min:45,max:52}},model:{target:49,splits:{100:11.8,200:23.5,300:35.8,400:49},diff:2}},U18:{standards:{INTERNATIONAL:48,NATIONAL:50,REGIONAL:53},performance_ranges:{min:50.5,max:53},tests:{cmj:{min:40,max:46}},model:{target:51.5,splits:{100:12.2,200:24.5,300:37.5,400:51.5},diff:2.5}}},F:{ELITE:{standards:{INTERNATIONAL:51.5,NATIONAL:53.5,REGIONAL:56.5},performance_ranges:{min:51.5,max:53.5},tests:{cmj:{min:38,max:44}},model:{target:52,splits:{100:12.5,200:24.8,300:37.8,400:52},diff:2.4}},U20:{standards:{INTERNATIONAL:53.5,NATIONAL:56,REGIONAL:59},performance_ranges:{min:54.5,max:57},tests:{cmj:{min:34,max:39}},model:{target:56,splits:{100:13.2,200:26.5,300:40.5,400:56},diff:3}},U18:{standards:{INTERNATIONAL:55,NATIONAL:57.5,REGIONAL:61},performance_ranges:{min:57.5,max:61},tests:{cmj:{min:30,max:35}},model:{target:59.5,splits:{100:14,200:28.2,300:43.5,400:59.5},diff:3.1}}}},"100mH":{F:{ELITE:{standards:{INTERNATIONAL:12.8,NATIONAL:13.8},performance_ranges:{min:13,max:13.6},tests:{cmj:{min:44,max:50}},specs:{start:13,space:8.5,height:.84}},U23:{standards:{INTERNATIONAL:13,NATIONAL:14.2},performance_ranges:{min:13.5,max:14.1},tests:{cmj:{min:39,max:45}}},U20:{standards:{INTERNATIONAL:13.5,NATIONAL:14.8},performance_ranges:{min:14,max:14.6},tests:{cmj:{min:35,max:41}},specs:{height:.84}},U18:{standards:{INTERNATIONAL:13.8,NATIONAL:15},performance_ranges:{min:14.5,max:15.2},tests:{cmj:{min:31,max:37}},specs:{height:.76}}}},"110mH":{M:{ELITE:{standards:{INTERNATIONAL:13.2,NATIONAL:13.9},performance_ranges:{min:13.4,max:13.8},tests:{cmj:{min:56,max:64}},specs:{start:13.72,space:9.14,height:1.06}},U23:{standards:{INTERNATIONAL:13.5,NATIONAL:14.3},performance_ranges:{min:13.8,max:14.2},tests:{cmj:{min:51,max:57}}},U20:{standards:{INTERNATIONAL:13.8,NATIONAL:14.8},performance_ranges:{min:14.2,max:14.7},tests:{cmj:{min:47,max:53}},specs:{height:.99}},U18:{standards:{INTERNATIONAL:14.2,NATIONAL:15.5},performance_ranges:{min:14.8,max:15.4},tests:{cmj:{min:41,max:47}},specs:{height:.91}}}},"400mH":{M:{ELITE:{standards:{INTERNATIONAL:49,NATIONAL:52},tests:{cmj:{min:50,max:57}},specs:{height:.91}}},F:{ELITE:{standards:{INTERNATIONAL:55,NATIONAL:59},tests:{cmj:{min:38,max:45}},specs:{height:.76}}}}},l_={M:[{label:"lite Mondiale",min:80,max:90,vmax:"> 11.5"},{label:"National / lite",min:90,max:105,vmax:"10.5 - 11"},{label:"U20",min:105,max:115,vmax:"9.5 - 10.5"},{label:"U18",min:115,max:130,vmax:"8.5 - 9.5"},{label:"U16",min:130,max:150,vmax:"7.5 - 8.5"}],F:[{label:"lite Mondiale",min:95,max:105,vmax:"> 10.8"},{label:"National / lite",min:110,max:120,vmax:"9.8 - 10.5"},{label:"U20",min:115,max:125,vmax:"9.0 - 9.8"},{label:"U18",min:125,max:140,vmax:"8.2 - 9.0"}]},c_={"50m":[{label:"Dpart (0m)",type:"split",distance:0},{label:"20m",type:"split",distance:20},{label:"30m",type:"split",distance:30},{label:"Arrive (50m)",type:"split",distance:50}],"60m":[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"Arrive (60m)",type:"split",distance:60}],"50mH":[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:4},(e,t)=>[{label:`H${t+1} Take-off`,type:"takeoff",distance:13+t*8.5-2},{label:`H${t+1} Touchdown`,type:"touchdown",distance:13+t*8.5}]).flat(),{label:"Arrive (50m)",type:"split",distance:50}],"60mH":[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:5},(e,t)=>[{label:`H${t+1} Take-off`,type:"takeoff",distance:13+t*8.5-2},{label:`H${t+1} Touchdown`,type:"touchdown",distance:13+t*8.5}]).flat(),{label:"Arrive (60m)",type:"split",distance:60}],"100m":[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"50m",type:"split",distance:50},{label:"60m",type:"split",distance:60},{label:"Arrive (100m)",type:"split",distance:100}],"110mH":[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:10},(e,t)=>[{label:`H${t+1} Take-off`,type:"takeoff",distance:13.72+t*9.14-2},{label:`H${t+1} Touchdown`,type:"touchdown",distance:13.72+t*9.14}]).flat(),{label:"Arrive (110m)",type:"split",distance:110}],"100mH":[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:10},(e,t)=>[{label:`H${t+1} Take-off`,type:"takeoff",distance:13+t*8.5-2},{label:`H${t+1} Touchdown`,type:"touchdown",distance:13+t*8.5}]).flat(),{label:"Arrive (100m)",type:"split",distance:100}],"200m":[{label:"Dpart (0m)",type:"split",distance:0},{label:"30m",type:"split",distance:30},{label:"100m",type:"split",distance:100},{label:"Arrive (200m)",type:"split",distance:200}],"400m":[{label:"Dpart (0m)",type:"split",distance:0},{label:"100m",type:"split",distance:100},{label:"200m",type:"split",distance:200},{label:"300m",type:"split",distance:300},{label:"Arrive (400m)",type:"split",distance:400}],"400mH":[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:10},(e,t)=>[{label:`H${t+1} Touchdown`,type:"touchdown",distance:45+t*35}]).flat(),{label:"Arrive (400m)",type:"split",distance:400}]},u_={"50m":[{label:"Dpart (0-20)",start:0,end:20,type:"accel"},{label:"Vitesse (20-50)",start:20,end:50,type:"total"}],"60m":[{label:"Dpart (0-30)",start:0,end:30,type:"accel"},{label:"Transition (30-60)",start:30,end:60,type:"vmax"},{label:"60m",start:0,end:60,type:"total"}],"50mH":[{label:"Dpart (H1)",start:0,end:13,type:"accel"},{label:"Inter-haies (H1-H4)",start:13,end:38.5,type:"rhythm"},{label:"Final",start:38.5,end:50,type:"finish"}],"60mH":[{label:"Dpart (H1)",start:0,end:13,type:"accel"},{label:"Inter-haies (H1-H5)",start:13,end:47,type:"rhythm"},{label:"Final",start:47,end:60,type:"finish"}],"100m":[{label:"Dpart (0-30)",start:0,end:30,type:"accel"},{label:"Transition / Vmax (30-60)",start:30,end:60,type:"vmax"},{label:"Maintien vitesse (60-100)",start:60,end:100,type:"speed_maint"},{label:"60m",start:0,end:60,type:"total"},{label:"100m",start:0,end:100,type:"total"},{label:"Endurance (50-100)",start:50,end:100,type:"endurance"}],"200m":[{label:"Virage",start:0,end:100,type:"vmax"},{label:"Ligne droite",start:100,end:200,type:"speed_maint"},{label:"200m",start:0,end:200,type:"total"}],"400m":[{label:"1er 200m",start:0,end:200,type:"total"},{label:"2e 200m",start:200,end:400,type:"total"},{label:"Diffrentiel (2-1)",isDiff:!0,startRef:0,endRef:200,startComp:200,endComp:400},{label:"400m",start:0,end:400,type:"total"}],"110mH":[{label:"Dpart (H1)",start:0,end:13.72,type:"accel"},{label:"Inter-haies (H1-H10)",start:13.72,end:96,type:"rhythm"},{label:"Finale (H10-Arrive)",start:96,end:110,type:"finish"}],"100mH":[{label:"Dpart (H1)",start:0,end:13,type:"accel"},{label:"Inter-haies (H1-H10)",start:13,end:89.5,type:"rhythm"},{label:"Finale (H10-Arrive)",start:89.5,end:100,type:"finish"}],"400mH":[{label:"Dpart (H1)",start:0,end:45,type:"accel"},{label:"Inter-haies (H1-H10",start:45,end:360,type:"rhythm"},{label:"Finale",start:360,end:400,type:"finish"}]},Rf=(e,t="M",s="ELITE")=>{var r,a;const n=hn[e];if(!n)return null;const i=n[t]||n.M;if(!i)return null;const o=i[s]||i.ELITE;if(o!=null&&o.specs){const l={...o.specs};if(!l.start||!l.space){const c=((r=i.ELITE)==null?void 0:r.specs)||{};l.start=l.start||c.start,l.space=l.space||c.space}return l}return((a=i.ELITE)==null?void 0:a.specs)||null},d_=(e,t="M",s="ELITE")=>{if(e.toLowerCase().includes("h")){const n=Rf(e,t,s);if(n&&n.start&&n.space){const{start:i,space:o}=n,r=e==="50mH"?4:e==="60mH"?5:10,a=parseInt(e);return[{label:"Dpart (0m)",type:"split",distance:0},...Array.from({length:r},(l,c)=>[{label:`H${c+1} Take-off`,type:"takeoff",distance:i+c*o-2},{label:`H${c+1} Touchdown`,type:"touchdown",distance:i+c*o}]).flat(),{label:`Arrive (${a}m)`,type:"split",distance:a}]}}return c_[e]||[]},Df=(e,t="M",s="ELITE")=>{const n=u_[e];if(!n)return[];if(e.toLowerCase().includes("h")){const i=Rf(e,t,s);if(i&&i.start&&i.space){const{start:o,space:r}=i,a=e==="50mH"?4:e==="60mH"?5:10;return n.map(l=>{const c={...l};return l.label.includes("H1")?c.end=o:l.label.includes("Inter-haies")?(c.start=o,c.end=o+(a-1)*r):l.type==="finish"&&(c.start=o+(a-1)*r),c})}}return n};class Lf{constructor(){this.CONSTANTS={REACTION_TIME:.15,ACCEL_TAU_DEFAULT:.9,VMAX_DEFAULT:9}}getRefData(t,s,n){const i=hn[t];if(!i)return null;const o=i[s]||i.M;return o?o[n]||o.ELITE:null}predict(t,s){const n=t.metrics,i=this.calculateProfile(n);let o={time:0,range:0,splits:[],method:"Model",tags:[],warnings:i.warnings||[],sources:i.sources||[]};switch(s){case"50m":o=this.predictFlatSprint(i,50,t);break;case"60m":o=this.predictFlatSprint(i,60,t);break;case"50mH":o=this.predictHurdles(i,"50mH",t);break;case"60mH":o=this.predictHurdles(i,"60mH",t);break;case"100m":o=this.predictFlatSprint(i,100,t);break;case"200m":o=this.predict200m(i,t);break;case"400m":o=this.predict400m(i,t);break;case"100mH":o=this.predictHurdles(i,"100mH",t);break;case"110mH":o=this.predictHurdles(i,"110mH",t);break;case"400mH":o=this.predictHurdlesLong(i,"400mH",t);break}i.warnings&&i.warnings.length>0&&(o.warnings=[...o.warnings||[],...i.warnings]),i.sources&&i.sources.length>0&&(o.sources=[...o.sources||[],...i.sources]);const r=this.analyzeConsistency(o.time,s,n),a=this.assessLevel(o.time,s,t),l=this.generateAnalysisGrid(t,o.time,s,i);return{...o,profile:i,consistency:r,level:a,analysisGrid:l}}generateAnalysisGrid(t,s,n,i){var d,f,p,m,b;const o=[],r=t.gender||"M",a=t.category||"U20",l=this.getRefData(n,r,a),c=this.getRefData("100m",r,a),u=(x,v,y)=>{const S=hn[v];if(!S)return null;const k=S[r]||S.M;if(!k)return null;const M=["ELITE","U23","U20","U18","U16"];for(const N of M){const F=k[N];if(!F)continue;const j=y.split(".");let B=F;for(const Y of j)B=B?B[Y]:null;if(B&&B.min!==void 0&&B.max!==void 0){if(x<=B.max&&x>=B.min)return N}else if(B&&B.target!==void 0&&x<=B.target)return N}return"Loisir"};if(l&&l.performance_ranges){const{min:x,max:v}=l.performance_ranges,y=parseFloat(s);let S=y<x?"excellent":y>v?"bad":"good",k=y<x?y-x:y>v?y-v:0;const M=u(y,n,"performance_ranges");o.push({label:`Perf. Cible (${n})`,value:`${y.toFixed(2)}s`,target:`${x.toFixed(2)}-${v.toFixed(2)}s`,diff:k!==0?k>0?`+${k.toFixed(2)}s`:`${k.toFixed(2)}s`:"Dans la cible",status:S,level:M,obs:S==="excellent"?"Niveau suprieur":S==="bad"?"En retrait":"Conforme"})}if(t.metrics.test_30m_fly){const x=t.metrics.test_30m_fly,v=u(x,"100m","tests.fly30m");if((d=c==null?void 0:c.tests)!=null&&d.fly30m){const{min:y,max:S}=c.tests.fly30m;let k=x<y?"excellent":x>S?"bad":"good";o.push({label:"Vitesse Max (Fly 30m)",value:`${x.toFixed(2)}s`,target:`${y.toFixed(2)}-${S.toFixed(2)}s`,diff:(x-y).toFixed(2)+"s",status:k,level:v})}}if(t.metrics.test_30m_block){const x=t.metrics.test_30m_block,v=u(x,"100m","tests.block30m");if((f=c==null?void 0:c.tests)!=null&&f.block30m){const y=c.tests.block30m.target;let S=x<=y?"good":"bad";o.push({label:"Acclration (Block 30m)",value:`${x.toFixed(2)}s`,target:`< ${y.toFixed(2)}s`,diff:(x-y).toFixed(2)+"s",status:S,level:v,obs:x-y>.3?"Gros gain possible":"Point fort"})}}if(t.metrics.contact_time_r||t.metrics.contact_time_l){const x=t.metrics.contact_time_r||t.metrics.contact_time_l,v=x>10?x:x*1e3,y=u(v,"100m","mechanics.contactTime");if((p=c==null?void 0:c.mechanics)!=null&&p.contactTime){const{min:S,max:k}=c.mechanics.contactTime;let M=v<S?"excellent":v>k?"bad":"good";o.push({label:"Stiffness (Contact)",value:`${v.toFixed(0)}ms`,target:`${S}-${k}ms`,diff:v>k?`+${(v-k).toFixed(0)}ms`:"OK",status:M,level:y,obs:c.mechanics.obs||""})}}if(t.metrics.cmj_height){const x=t.metrics.cmj_height,v=u(x,n,"tests.cmj");if((m=c==null?void 0:c.tests)!=null&&m.cmj){const{min:y,max:S}=c.tests.cmj;let k=x>y?"excellent":x<S?"bad":"good",M=x<y?x-y:x>S?x-S:0;o.push({id:"cmj",label:"Dtente Verticale (CMJ)",value:`${x.toFixed(1)} cm`,target:`${y}-${S} cm`,diff:M!==0?M>0?`+${M.toFixed(2)}cm`:`${M.toFixed(2)}cm`:"Dans la cible",status:k,level:v,context:"Puissance",obs:k==="excellent"?"Excellent":k==="bad"?"Renforcement ncessaire":"Bonne base"})}}if(i.vmax){const x=i.vmax,v=u(x,"100m","mechanics.vMax");if((b=c==null?void 0:c.mechanics)!=null&&b.vMax){const{min:y,max:S}=c.mechanics.vMax;let k=x>S?"excellent":x<y?"bad":"good",M=x>S?x-S:x<y?x-y:0;o.push({label:"Vitesse Max (Vmax)",value:`${x.toFixed(2)} m/s`,target:`${y.toFixed(2)}-${S.toFixed(2)} m/s`,diff:M!==0?M>0?`+${M.toFixed(2)}m/s`:`${M.toFixed(2)}m/s`:"Dans la cible",status:k,level:v,obs:k==="excellent"?"Vitesse d'lite":k==="bad"?"Plafond  lever":"Conforme"})}}if(i.tau){const x=i.tau;let v=x<.9?"excellent":x>1.2?"bad":"good";o.push({label:"Acclration (Tau)",value:`${x.toFixed(2)}s`,target:"0.80 - 1.10s",diff:x<.9?"Explosif":x>1.2?"Progressif":"Standard",status:v,obs:x<.9?"Profil trs explosif":x>1.2?"Manque d'explosivit initiale":"Profil quilibr"})}return o}calculateProfile(t){let s=0,n=this.CONSTANTS.ACCEL_TAU_DEFAULT,i=[],o=[],r=[];if(t.test_30m_fly&&r.push({val:30/t.test_30m_fly,type:"30m Fly"}),t.test_20m_fly&&r.push({val:20/t.test_20m_fly,type:"20m Fly"}),t.pb_100m){const l=100/t.pb_100m;r.push({val:l*1.16,type:"Est. from 100m PB"})}if(r.length>0){const l=r.filter(c=>c.type.includes("Fly"));if(l.length>0){const c=l.reduce((d,f)=>d.val>f.val?d:f);s=c.val,i.push(c.type);const u=r.find(d=>d.type.includes("PB"));if(u){const d=(c.val-u.val)/u.val;d>.1?o.push(`Votre vitesse test (${c.type}) est beaucoup plus leve que celle estime par votre PB 100m. Potentiel inexploit ou problme d'endurance de vitesse.`):d<-.1&&o.push("Votre PB 100m suggre une vitesse max suprieure  vos tests actuels. Fatigue ou sous-performance lors du test ?")}}else s=r[0].val,i.push(r[0].type)}else s=this.CONSTANTS.VMAX_DEFAULT,i.push("Default");let a=[];if(t.test_30m_block){const l=this.solveTau(30,t.test_30m_block-this.CONSTANTS.REACTION_TIME,s);a.push({val:l,type:"30m Block"})}if(t.test_20m_block){const l=this.solveTau(20,t.test_20m_block-this.CONSTANTS.REACTION_TIME,s);a.push({val:l,type:"20m Block"})}if(a.length>0){const l=a.find(c=>c.type==="30m Block")||a[0];n=l.val,i.push(l.type),t.cmj_height>60&&n>1&&o.push("Votre CMJ est excellent (>60cm) mais votre dpart semble lent. Problme technique en block ?")}else t.pb_60m?(n=this.solveTau(60,t.pb_60m-this.CONSTANTS.REACTION_TIME,s),i.push("Est. from 60m PB")):i.push("Default Tau");return{vmax:s,tau:n,sources:i,warnings:o}}solveTau(t,s,n){let i=1;for(let o=0;o<15;o++){let r=Math.exp(-s/i),a=n*(s+i*r-i)-t,l=n*(r*(1+s/i)-1);if(Math.abs(l)<1e-4)break;let c=i-a/l;if(Math.abs(c-i)<1e-4)return c;i=c}return Math.max(.5,Math.min(i,2.5))}calculateTimeAtDistance(t,s,n){let i=t/(s*.7);for(let o=0;o<15;o++){let r=Math.exp(-i/n),a=s*(i+n*r-n)-t,l=s*(1-r);if(Math.abs(a)<.001)return i;i=i-a/l}return i}predictFlatSprint(t,s,n){const{vmax:i,tau:o}=t;let a=this.calculateTimeAtDistance(s,i,o)+this.CONSTANTS.REACTION_TIME,l=null,c="";const u=.92;let d=.2;n.category==="U16"?d=.7:(n.category==="U18"||n.category==="U20"||n.gender==="F")&&(d=.37);const f=n.metrics;s===100&&(f.test_30m_fly?(l=f.test_30m_fly*3.33+u+d,c=`Fly-to-100 (K=${d}s)`):f.test_20m_fly&&(l=f.test_20m_fly*5+u+d,c="Fly-to-100 (20m)"));let p=null;s===100&&(p=(f.pb_60m||this.calculateTimeAtDistance(60,i,o)+this.CONSTANTS.REACTION_TIME)*1.54);let m=f.test_30m_block&&f.test_30m_block<4.25?.15:0,b=a,x="Modle Physique";l?(b=l,x=c,p&&p-l>.15&&(b=l*.7+p*.3,x+=" + Mero-correction"),m>0&&(b-=m,x+=" + Accel-bonus")):p&&(b=p,x="Loi de Mero"),f.pb_100m&&s===100&&f.pb_100m-b>.5&&(b=(b+f.pb_100m)/2,x="Moyenne (Potentiel vs Ralis)");const v=[],y=b/a;let S=this.CONSTANTS.REACTION_TIME*y;const k=n.metrics.step_len_avg_r||2,M=s<=110?5:10;for(let N=M;N<=s;N+=M){const F=(this.calculateTimeAtDistance(N,i,o)+this.CONSTANTS.REACTION_TIME)*y,j=F-S,B=M/j,Y=k*(.85+.15*(B/i)),D=B/Y;v.push({distance:N,time:F,segmentTime:j,velocity:B,frequency:D,stepLength:Y}),S=F}return{time:b.toFixed(2),range:.1,splits:v,scaleFactor:y,tags:[x],sources:[]}}predict200m(t,s){let n=s.metrics.pb_100m||parseFloat(this.predictFlatSprint(t,100,s).time),i=-.1,o="Neutre";const r=this.calculateFatigueIndex(s.metrics,t.vmax);r>1.25?(i=.2,o="Speed-Biased"):r<1.15&&r>0&&(i=-.3,o="Endurance-Biased");const a=n*2+i,l=[],u=this.predictFlatSprint(t,100,s).splits.find(m=>m.distance===50)||{time:n*.6,velocity:0};l.push({distance:50,time:u.time,segmentTime:u.time,velocity:u.velocity}),l.push({distance:100,time:n,segmentTime:n-u.time,velocity:50/(n-u.time)});const f=(a-n)*.49,p=n+f;return l.push({distance:150,time:p,segmentTime:f,velocity:50/f}),l.push({distance:200,time:a,segmentTime:a-p,velocity:50/(a-p)}),{time:a.toFixed(2),range:.25,splits:l,scaleFactor:1,tags:[o,`Base 100m + Delta ${i}s`],sources:[]}}predict400m(t,s){var d;let n=s.metrics.pb_200m||parseFloat(this.predict200m(t,s).time);const i=this.calculateFatigueIndex(s.metrics,t.vmax),o=this.getRefData("400m",s.gender,s.category);let r=i>1.2?s.category==="U16"?5.5:5:i<1.1&&i>0?2.8:3.6;(d=o==null?void 0:o.model)!=null&&d.diff&&(r=o.model.diff);let a="Profil 400 pur";i>1.2?(a="Profil Sprinter (100-200)",s.category==="U16"&&(r=5.5)):i<1.1&&i>0?a="Profil Rsistant (400-800)":a="Profil 400 pur (200-400)";const l=n*2+r,c=[],u=n+1;return c.push({distance:200,time:u,segmentTime:u,velocity:200/u}),c.push({distance:400,time:l,segmentTime:l-u,velocity:200/(l-u)}),{time:l.toFixed(2),range:.8,splits:c,scaleFactor:1,tags:["ASR Model",a,`Margin +${r}s`],sources:[],model:o==null?void 0:o.model}}predictHurdles(t,s,n){const i=parseInt(s),o=this.predictFlatSprint(t,i,n),r=parseFloat(o.time),a=this.getRefData(s,n.gender,n.category);let l=n.category==="U18"||n.category==="U20"?1.4:n.category==="U16"?1.8:n.gender==="M"?1:.95;return{time:(r+l).toFixed(2),range:.3,splits:o.splits,tags:["Technique Index",`IE Target: +${l}s`],specs:a==null?void 0:a.specs}}predictHurdlesLong(t,s,n){const i=this.predict400m(t,n),o=parseFloat(i.time);let r=(n.gender==="F"?4.5:4)+(n.category==="U18"?1:0);return{time:(o+r).toFixed(2),range:1,splits:i.splits,tags:["400mH Differential",`T400 + ${r}s`],sources:[]}}calculateFatigueIndex(t,s){if(!t.test_30m_fly)return 0;let n=t.test_120m||t.test_80m||t.test_60m||0,i=t.test_120m?120:t.test_80m?80:t.test_60m?60:0;return n<=0?0:30/t.test_30m_fly/(i/n)}analyzeConsistency(t,s,n){const i=[],o=n[`pb_${s.toLowerCase()}`];if(o){const r=o-parseFloat(t);r>.3?i.push({type:"opportunity",text:`Potentiel thorique (${t}s) bien suprieur au record actuel (${o}s).`}):r<-.2&&i.push({type:"anomaly",text:"Record actuel plus rapide que la prdiction physique. Vrifiez la prcision des tests."})}return i}assessLevel(t,s,n){var r,a;const i=parseFloat(t),o=(r=hn[s])==null?void 0:r[n.gender||"M"];if(!o)return{label:"NC",color:"text-gray-400"};for(const l of["ELITE","U23","U20","U18","U16"]){const c=(a=o[l])==null?void 0:a.standards;if(c){if(i<=c.INTERNATIONAL)return{label:`Elite Int. (${l})`,color:"text-purple-600"};if(i<=c.NATIONAL)return{label:`National (${l})`,color:"text-emerald-600"};if(i<=c.REGIONAL)return{label:`Rgional (${l})`,color:"text-blue-600"}}}return{label:"Club / Rgional",color:"text-slate-500"}}generateAdvice(t,s,n){const i=[],o=[],r=[],a=t.vmax,l=t.tau,c=n.gender||"M",u=a/l;if(u>11.5?(o.push("Profil explosif : Excellente capacit de production de force horizontale initiale (f0 lev)."),a<9.5&&i.push("Orientation Vitesse Max : Votre profil est 'Force-Dominant'. Pour progresser, privilgiez le sprint lanc et le travail de survitesse afin d'lever votre plafond de vitesse.")):u<9&&(r.push("Dficit de puissance initiale : Votre capacit  projeter le centre de masse vers l'avant en sortie de blocks est limite."),i.push("Dveloppement de la Force Explosive : Travaillez la force maximale (Squat/Deadlift) combine  des dparts avec charges (Heavy Sled) pour amliorer votre f0.")),s.pb_100m){const f=100/s.pb_100m,p=a/f;p>1.22?(r.push("Sous-exploitation de la Vmax : cart trop important entre votre vitesse de pointe et votre performance chronomtrique."),i.push("Priorit Endurance de Vitesse : Votre 'moteur' est puissant mais s'puise vite. Intgrez des rptitions de 80m-120m  95% de l'intensit maximale.")):p<1.14&&p>0&&(o.push("Efficacit temporelle : Optimisation remarquable de la vitesse maximale sur l'ensemble de la distance."),i.push("lvation du Plafond : Votre index de rserve est excellent. La progression passera dsormais par une augmentation de votre vitesse de pointe absolue."))}if(s.cmj_height&&s.sj_height){const f=(s.cmj_height-s.sj_height)/s.sj_height*100;f<8?(r.push("Dficit de ractivit (SSC lent) : Utilisation inefficace de l'nergie lastique lors de la transition excentrique-concentrique."),i.push("Travail Pliomtrique : Accentuez la pliomtrie basse et les sauts avec contre-mouvement rapide pour amliorer la raideur musculo-tendineuse.")):f>15&&o.push("Ractivit lastique suprieure : Excellente exploitation du cycle tirement-dtente (SSC rapide).")}if(s.contact_time_r||s.contact_time_l){const f=s.contact_time_r||s.contact_time_l,p=f>10?f:f*1e3,m=l_[c];let b=m==null?void 0:m.find(x=>p>=x.min&&p<=x.max);b&&i.push(`Analyse de l'appui : Votre temps de contact est catgoris comme '${b.label}'. ${b.obs}`),p>105&&a>9?(r.push("Temps de sol excessifs : Manque de raideur verticale (stiffness)  haute vitesse."),i.push("Renforcement de la Stiffness : Intgrez des 'pogos' et des multibonds techniques pour rduire le temps de contact et augmenter la force de raction au sol.")):p<90&&o.push("Stiffness verticale d'lite : Temps de contact trs courts favorisant le maintien de la vlocit.")}if(s.step_len_avg_r&&a>0){const f=a/s.step_len_avg_r;f<3.8&&c==="M"?i.push("Optimisation Frquence : Votre profil privilgie l'amplitude. Un travail de vlocit gestuelle (skipping rapide, griff de sol) pourrait dbloquer votre chrono."):f>4.8?i.push("Optimisation Amplitude : Votre frquence est trs leve mais vos appuis manquent de projection. Travaillez la force de pousse horizontale."):f>=4&&f<=4.6&&o.push("quilibre cinmatique : Excellent ratio entre la frquence de foule et l'amplitude.")}if(s.step_len_avg_r&&s.step_len_avg_l){const p=Math.abs(s.step_len_avg_r-s.step_len_avg_l)/Math.max(s.step_len_avg_r,s.step_len_avg_l);p>.05&&(r.push(`Asymtrie fonctionnelle marque (${(p*100).toFixed(1)}%) : Dsquilibre significatif entre la jambe gauche et droite.`),i.push("Prvention Blessure : Cette asymtrie augmente les risques de lsions (ischios). Un travail unilatral et un bilan postural sont conseills."))}return s.time_to_first_contact&&s.first_contact_dist&&(s.first_contact_dist/s.time_to_first_contact<1.5||s.first_contact_dist<.5)&&(r.push("Sortie de blocks 'subie' : Manque de projection horizontale lors du premier appui."),i.push("Gomtrie du Dpart : Cherchez une extension complte de la jambe arrire et un angle de projection plus rasant pour gagner en efficacit.")),this.calculateFatigueIndex(s,a)>1.28&&(r.push("Dcroissance de vitesse prcoce : Difficult  maintenir l'intensit aprs la phase de transition (60m)."),i.push("Capacit Tampon : Intgrez des sances de rsistance lactique (150m-250m) pour mieux tolrer la fatigue en fin de course.")),s.cmj_power&&(s.cmj_power<45?r.push("Puissance relative insuffisante : Votre rapport force/poids limite votre explosivit."):s.cmj_power>75&&o.push("Puissance relative exceptionnelle : Moteur hautement performant par rapport  votre masse corporelle.")),s.bound_test&&s.bound_test<13&&i.push("Capacit de Bonds : Votre force horizontale est en retrait. Le travail de multibonds (penta-bond) est une priorit pour le sprint."),n.age<18&&a>10&&(o.push("Trs bonne vitesse max pour votre ge."),i.push("Focus sur la gainage postural et la technique pour stabiliser ce potentiel de vitesse lev pour votre ge.")),{advice:i,strengths:o,weaknesses:r}}}const f_={class:"max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 grid grid-cols-1 lg:grid-cols-12 gap-8"},h_={class:"lg:col-span-4 space-y-6 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar pr-1 pb-10"},p_={class:"bg-white rounded-xl p-5 border border-slate-200 shadow-sm"},g_={class:"flex items-center justify-between mb-4"},m_={class:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold border border-blue-100"},b_={class:"space-y-4"},x_={class:"grid grid-cols-2 gap-4"},v_={class:"space-y-4"},__=["onClick"],y_={class:"text-sm font-bold text-slate-800 flex items-center"},w_={class:"mr-3 text-lg opacity-80"},k_={class:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-400"},A_={class:"p-4 pt-0 grid grid-cols-1 gap-4 sm:grid-cols-2 border-t border-slate-100"},S_={class:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1"},C_={class:"relative group"},T_=["step","placeholder","onUpdate:modelValue"],M_={class:"absolute right-3 top-2 text-xs text-slate-400 font-medium"},E_={class:"pt-2"},O_=["disabled"],I_={key:0,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P_={key:1,class:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24"},R_={class:"lg:col-span-8 space-y-6",id:"analysis-content"},D_={class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden"},L_={class:"p-6 border-b border-slate-100 bg-slate-50/50 flex flex-wrap items-center justify-between gap-4"},N_={class:"relative"},F_={key:0,class:"p-8 text-center animate-fade-in"},B_={class:"inline-flex flex-col items-center"},$_={class:"flex items-baseline justify-center gap-3 mt-2"},H_={class:"text-7xl font-black text-slate-900 tracking-tighter"},V_={class:"mt-2 text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full"},j_={class:"mt-6 flex flex-wrap justify-center gap-2"},z_={class:"px-2.5 py-1 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100 shadow-sm cursor-help hover:bg-blue-100 transition-colors"},U_={key:0,class:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-slate-800 text-white text-[10px] rounded-lg shadow-xl w-56 z-50 pointer-events-none leading-relaxed font-normal"},W_={class:"font-bold block mb-1 text-center border-b border-slate-600 pb-1 text-blue-300 uppercase tracking-tighter"},q_={key:1,class:"py-20 text-center"},G_={key:0,class:"space-y-6 animate-fade-in"},Y_={key:0,class:"space-y-2"},K_={class:"mr-2 mt-0.5"},X_={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},J_={class:"flex justify-between items-start mb-1"},Q_={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center"},Z_={key:0,class:"group relative inline-block ml-1"},ty={class:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-slate-800 text-white text-[10px] rounded-lg shadow-xl w-48 z-50 pointer-events-none leading-relaxed font-normal"},ey={class:"font-bold block mb-1"},sy={class:"text-[10px] font-mono text-slate-400"},ny={class:"flex items-baseline gap-2 mb-3"},iy={class:"text-2xl font-bold text-slate-800 tracking-tight"},oy={class:"mt-auto pt-3 border-t border-slate-100 flex items-center justify-between"},ry={class:"text-[9px] text-slate-400 font-medium italic text-right leading-tight"},ay={key:1,class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},ly={class:"relative h-64 w-full"},cy={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},uy={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},dy={class:"overflow-hidden rounded-lg border border-slate-100"},fy={class:"w-full text-sm text-left"},hy={class:"font-mono text-slate-700 divide-y divide-slate-100"},py={class:"px-4 py-2.5 font-medium text-slate-600 text-xs"},gy={class:"px-4 py-2.5 text-slate-900 font-bold"},my={class:"px-4 py-2.5 text-blue-600 font-mono text-xs"},by={class:"px-4 py-2.5 text-slate-400 text-[10px]"},xy={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},vy={class:"relative h-48 w-full"},_y={class:"bg-white rounded-xl p-6 border border-slate-200 shadow-sm"},yy={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},wy={class:"space-y-2 text-sm text-slate-600 list-inside marker:text-green-500 pl-2"},ky={class:"space-y-2 text-sm text-slate-600 list-inside marker:text-orange-500 pl-2"},Ay={class:"mt-8 pt-6 border-t border-slate-100"},Sy={class:"space-y-2 text-sm text-slate-700 leading-relaxed bg-blue-50/50 p-4 rounded-lg border border-blue-100/50"},Cy={class:"mt-12 pt-8 text-slate-400 text-xs text-start border-t border-slate-200"},Ty={class:"space-y-1 opacity-70"},My={key:1,class:"mt-12 pt-8 text-slate-400 text-xs text-start border-t border-slate-200"},Ey={class:"space-y-1 opacity-70"},Oy={class:"font-bold text-slate-500"},Iy={__name:"Analysis",setup(e){const t=pt(new Ae),s=new Lf,n=pt(!1),i=pt("100m"),o=pt(null),r=pt(null),a=Pf,l=pt([!1,!1,!1,!1]),c=a_,u=pt(null),d=pt(null);let f=null,p=null;const m=()=>{const A=new URLSearchParams(window.location.hash.split("?")[1]).get("share");if(A)try{const Z=JSON.parse(atob(A));t.value=new Ae(Z),t.value.save(),Wt.setCurrentAthlete(t.value.id);return}catch(Z){console.error("Error decoding shared data",Z)}const J=Wt.getCurrentAthleteId();if(J){const Z=Ae.load(J);Z&&(t.value=Z)}},b=D=>{l.value[D]=!l.value[D]},x=yt(()=>{var J;const D=t.value.gender||"M",A=(J=hn[i.value])==null?void 0:J[D];return A?Object.values(A).some(Z=>Z&&Z.standards):!1});let v=null;const y=()=>{v&&clearTimeout(v),n.value=!0,v=setTimeout(()=>{try{o.value=s.predict(t.value,i.value),r.value=s.generateAdvice(o.value.profile,t.value.metrics,t.value),mi(()=>{setTimeout(()=>{N()},50)})}catch(D){console.error(D),alert("Erreur lors du calcul.")}finally{n.value=!1,v=null}},400)},S=()=>{t.value.save(),Wt.setCurrentAthlete(t.value.id),y()},k=D=>{const A=Object.keys(On).sort((J,Z)=>Z.length-J.length).find(J=>D.toLowerCase().includes(J.toLowerCase()));return A?On[A]:null},M=yt(()=>{var A,J,Z,st,V;if(!o.value)return[];const D=[...o.value.tags,...((A=o.value.consistency)==null?void 0:A.map(Q=>Q.text))||[],...((J=o.value.analysisGrid)==null?void 0:J.map(Q=>Q.label+" "+(Q.obs||"")))||[],...((Z=r.value)==null?void 0:Z.strengths)||[],...((st=r.value)==null?void 0:st.weaknesses)||[],...((V=r.value)==null?void 0:V.advice)||[]].join(" ").toLowerCase();return Object.values(On).filter(Q=>{const et=Q.term.toLowerCase();return D.includes(et)||Object.keys(On).some(ht=>On[ht]===Q&&D.includes(ht.toLowerCase()))}).sort((Q,et)=>Q.term.localeCompare(et.term))}),N=()=>{F(),j()},F=()=>{var mt,Dt;const D=(mt=u.value)==null?void 0:mt.getContext("2d");if(!D)return;f&&f.destroy();const A=["U16","U18","U20","U23","ELITE"],J=t.value.gender,Z=(Dt=hn[i.value])==null?void 0:Dt[J];if(!Z)return;const st=A.map(bt=>{var kt,I;return((I=(kt=Z[bt])==null?void 0:kt.standards)==null?void 0:I.INTERNATIONAL)||null}),V=A.map(bt=>{var kt,I;return((I=(kt=Z[bt])==null?void 0:kt.standards)==null?void 0:I.NATIONAL)||null}),Q=A.map(bt=>{var kt,I;return((I=(kt=Z[bt])==null?void 0:kt.standards)==null?void 0:I.REGIONAL)||null}),et=A.map(bt=>bt===t.value.category?parseFloat(o.value.time):null),ht=`pb_${i.value.toLowerCase()}`,Rt=t.value.metrics[ht]||null,dt=A.map(bt=>bt===t.value.category?Rt:null);f=new Ce(D,{type:"line",data:{labels:A,datasets:[{label:"International",data:st,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.05)",fill:!0,tension:.3,spanGaps:!0},{label:"National",data:V,borderColor:"#22c55e",borderDash:[5,5],tension:.3,spanGaps:!0},{label:"Rgional",data:Q,borderColor:"#94a3b8",borderDash:[2,2],tension:.3,spanGaps:!0},{label:"Record (PB)",data:dt,type:"scatter",backgroundColor:"#f59e0b",borderColor:"#fff",borderWidth:2,pointRadius:7,zIndex:10},{label:"Potentiel",data:et,type:"scatter",backgroundColor:"#3b82f6",borderColor:"#fff",borderWidth:2,pointRadius:7,zIndex:11}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{reverse:!0,grid:{color:"#f1f5f9"},title:{display:!0,text:"Performance (s)",font:{size:10}}},x:{grid:{display:!1},ticks:{font:{weight:"bold"}}}},plugins:{legend:{position:"bottom",labels:{boxWidth:8,font:{size:10},usePointStyle:!0}},tooltip:{backgroundColor:"#ffffff",titleColor:"#1e293b",bodyColor:"#475569",borderColor:"#e2e8f0",borderWidth:1,callbacks:{label:bt=>`${bt.dataset.label}: ${bt.raw}s`}}}}})},j=()=>{var J,Z;const D=(J=d.value)==null?void 0:J.getContext("2d");if(!D)return;p&&p.destroy();const A=((Z=o.value)==null?void 0:Z.splits)||[];A.length!==0&&(p=new Ce(D,{type:"line",data:{labels:A.map(st=>st.distance+"m"),datasets:[{label:"Vitesse (m/s)",data:A.map(st=>st.velocity),borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.05)",borderWidth:3,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{grid:{color:"#f1f5f9"},title:{display:!0,text:"Vitesse (m/s)",font:{size:9}}},x:{grid:{display:!1}}}}}))},B=D=>D==="excellent"?"border-purple-200 bg-purple-50/30":D==="good"?"border-emerald-200 bg-emerald-50/30":D==="bad"?"border-red-200 bg-red-50/30":"border-slate-200 bg-white",Y=D=>D==="excellent"?"bg-purple-600 text-white":D==="good"?"bg-emerald-600 text-white":D==="bad"?"bg-red-600 text-white":"bg-slate-100 text-slate-600";return Ms(()=>{m(),Object.keys(t.value.metrics).length>0&&y()}),(D,A)=>{var J,Z,st;return O(),P("div",f_,[h("aside",h_,[h("section",p_,[h("div",g_,[A[4]||(A[4]=h("h2",{class:"text-sm font-bold text-slate-900 uppercase tracking-wide flex items-center"},[h("span",{class:"w-1 h-4 bg-blue-500 rounded-full mr-2"}),lt(" Athlte ")],-1)),h("div",m_,U(t.value.category)+" ("+U(t.value.age)+" ans) ",1)]),h("div",b_,[h("div",null,[A[5]||(A[5]=h("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Identifiant",-1)),$t(h("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=V=>t.value.name=V),onChange:S,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder-slate-400",placeholder:"Ex: Michael"},null,544),[[Jt,t.value.name]])]),h("div",x_,[h("div",null,[A[6]||(A[6]=h("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Anne",-1)),$t(h("input",{type:"number","onUpdate:modelValue":A[1]||(A[1]=V=>t.value.birthYear=V),onChange:S,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all",placeholder:"2005"},null,544),[[Jt,t.value.birthYear,void 0,{number:!0}]])]),h("div",null,[A[8]||(A[8]=h("label",{class:"block text-xs font-semibold text-slate-500 mb-1.5 uppercase"},"Sexe",-1)),$t(h("select",{"onUpdate:modelValue":A[2]||(A[2]=V=>t.value.gender=V),onChange:S,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"},[...A[7]||(A[7]=[h("option",{value:"M"},"Homme",-1),h("option",{value:"F"},"Femme",-1)])],544),[[ii,t.value.gender]])])])])]),h("div",v_,[(O(!0),P(rt,null,xt(rs(a),(V,Q)=>(O(),P("section",{key:V.title,class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden transition-all duration-200 hover:shadow-md"},[h("div",{onClick:et=>b(Q),class:"p-4 flex items-center justify-between cursor-pointer bg-white hover:bg-slate-50 transition-colors select-none"},[h("h3",y_,[h("span",w_,U(V.icon),1),lt(" "+U(V.title),1)]),h("div",k_,[(O(),P("svg",{class:Yt(["w-3 h-3 transform transition-transform duration-300",{"rotate-180":l.value[Q]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[9]||(A[9]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],8,__),$t(h("div",A_,[(O(!0),P(rt,null,xt(V.fields,et=>(O(),P("div",{key:et.id},[h("label",S_,U(et.label),1),h("div",C_,[$t(h("input",{type:"number",step:et.step,placeholder:et.placeholder,"onUpdate:modelValue":ht=>t.value.metrics[et.id]=ht,onInput:S,class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-slate-900 text-sm font-medium focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all pl-3 pr-8 placeholder-slate-300"},null,40,T_),[[Jt,t.value.metrics[et.id],void 0,{number:!0}]]),h("span",M_,U(et.unit),1)])]))),128))],512),[[zp,l.value[Q]]])]))),128))]),h("div",E_,[h("button",{onClick:y,disabled:n.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 transition-all transform hover:-translate-y-0.5 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(O(),P("svg",P_,[...A[11]||(A[11]=[h("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),h("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(O(),P("svg",I_,[...A[10]||(A[10]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},null,-1),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),lt(" "+U(n.value?"Calcul en cours...":"Lancer l'Analyse"),1)],8,O_)])]),h("article",R_,[h("div",D_,[h("div",L_,[A[14]||(A[14]=h("div",null,[h("h2",{class:"text-lg font-bold text-slate-900"},"Prdiction"),h("p",{class:"text-xs text-slate-500"},"Slectionnez la discipline cible")],-1)),h("div",N_,[$t(h("select",{"onUpdate:modelValue":A[3]||(A[3]=V=>i.value=V),onChange:y,class:"appearance-none bg-white border border-slate-300 hover:border-blue-400 rounded-lg pl-4 pr-10 py-2 text-slate-900 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all cursor-pointer shadow-sm"},[...A[12]||(A[12]=[on('<option value="50m">50m</option><option value="60m">60m</option><option value="50mH">50m Haies</option><option value="60mH">60m Haies</option><option value="100m">100m</option><option value="200m">200m</option><option value="400m">400m</option><option value="100mH">100m Haies (F)</option><option value="110mH">110m Haies (H)</option><option value="400mH">400m Haies</option>',10)])],544),[[ii,i.value]]),A[13]||(A[13]=h("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500"},[h("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),o.value?(O(),P("div",F_,[h("div",B_,[A[16]||(A[16]=h("div",{class:"text-xs font-bold text-blue-600 uppercase tracking-widest mb-2 bg-blue-50 px-3 py-1 rounded-full border border-blue-100"},"Potentiel Estim",-1)),h("div",$_,[h("div",H_,U(o.value.time),1),A[15]||(A[15]=h("span",{class:"text-4xl font-bold text-slate-400"},"s",-1))]),h("div",V_,"Intervalle  "+U(o.value.range)+"s",1)]),h("div",j_,[(O(!0),P(rt,null,xt(o.value.tags,V=>(O(),P("div",{key:V,class:"group relative inline-block"},[h("span",z_,U(V),1),k(V)?(O(),P("div",U_,[h("span",W_,U(k(V).term),1),lt(" "+U(k(V).def)+" ",1),A[17]||(A[17]=h("svg",{class:"absolute text-slate-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255"},[h("polygon",{class:"fill-current",points:"0,0 127.5,127.5 255,0"})],-1))])):ft("",!0)]))),128))])])):(O(),P("div",q_,[...A[18]||(A[18]=[on('<div class="w-16 h-16 bg-slate-100 text-slate-400 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h3 class="text-slate-900 font-medium text-lg">Prt  calculer</h3><p class="text-slate-500 mt-1 max-w-sm mx-auto">Remplissez les formulaires  gauche et lancez l&#39;analyse pour obtenir vos prdictions.</p>',3)])]))]),o.value?(O(),P("div",G_,[o.value.consistency&&o.value.consistency.length>0?(O(),P("div",Y_,[(O(!0),P(rt,null,xt(o.value.consistency,V=>(O(),P("div",{key:V.text,class:Yt(["border px-3 py-2 rounded-lg text-sm flex items-start animate-fade-in",V.type==="anomaly"?"bg-red-50 text-red-800 border-red-200":"bg-emerald-50 text-emerald-800 border-emerald-200"])},[h("span",K_,U(V.type==="anomaly"?"":""),1),h("span",null,U(V.text),1)],2))),128))])):ft("",!0),h("div",X_,[(O(!0),P(rt,null,xt(o.value.analysisGrid,V=>(O(),P("div",{key:V.label,class:Yt(["p-4 rounded-xl border shadow-sm flex flex-col justify-between hover:shadow-md transition-all",B(V.status)])},[h("div",null,[h("div",J_,[h("div",Q_,[lt(U(V.label)+" ",1),k(V.label)?(O(),P("div",Z_,[A[20]||(A[20]=h("svg",{class:"w-3 h-3 text-slate-300 cursor-help hover:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h("div",ty,[h("span",ey,U(k(V.label).term),1),lt(" "+U(k(V.label).def)+" ",1),A[19]||(A[19]=h("svg",{class:"absolute text-slate-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255"},[h("polygon",{class:"fill-current",points:"0,0 127.5,127.5 255,0"})],-1))])])):ft("",!0)]),h("div",sy,U(V.diff),1)]),h("div",ny,[h("div",iy,U(V.value),1)])]),h("div",oy,[V.level?(O(),P("span",{key:0,class:Yt(["px-1.5 py-0.5 rounded text-[9px] font-black uppercase tracking-tighter",Y(V.status)])},U(V.level),3)):ft("",!0),h("div",ry,"Cible: "+U(V.target),1)])],2))),128))]),x.value?(O(),P("div",ay,[A[21]||(A[21]=h("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6 flex items-center"},[h("svg",{class:"w-4 h-4 mr-2 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),lt(" Positionnement & Courbe des Standards ")],-1)),h("div",ly,[h("canvas",{ref_key:"standardsChartCanvas",ref:u},null,512)])])):ft("",!0),h("div",cy,[h("div",uy,[A[23]||(A[23]=h("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"},"Dcoupage de Course",-1)),h("div",dy,[h("table",fy,[A[22]||(A[22]=h("thead",{class:"text-xs text-slate-500 uppercase bg-slate-50 border-b border-slate-100"},[h("tr",null,[h("th",{class:"px-4 py-3"},"Dist."),h("th",{class:"px-4 py-3"},"Temps"),h("th",{class:"px-4 py-3"},"Split"),h("th",{class:"px-4 py-3"},"V (m/s)")])],-1)),h("tbody",hy,[(O(!0),P(rt,null,xt(o.value.splits,V=>(O(),P("tr",{key:V.distance,class:"hover:bg-slate-50 transition-colors"},[h("td",py,U(V.distance)+"m",1),h("td",gy,U(V.time.toFixed(2)),1),h("td",my,U(V.segmentTime.toFixed(2)),1),h("td",by,U(V.velocity.toFixed(2)),1)]))),128))])])])]),h("div",xy,[A[24]||(A[24]=h("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"},"Courbe de Vitesse",-1)),h("div",vy,[h("canvas",{ref_key:"velocityChartCanvas",ref:d},null,512)])])]),h("div",_y,[A[29]||(A[29]=h("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-6"},"Diagnostique Technique",-1)),h("div",yy,[h("div",null,[A[25]||(A[25]=on('<div class="flex items-center mb-3"><div class="w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-2"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div><h4 class="font-bold text-slate-900">Points Forts</h4></div>',1)),h("ul",wy,[(O(!0),P(rt,null,xt(((J=r.value)==null?void 0:J.strengths)||[],V=>(O(),P("li",{key:V},U(V),1))),128))])]),h("div",null,[A[26]||(A[26]=on('<div class="flex items-center mb-3"><div class="w-6 h-6 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center mr-2"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><h4 class="font-bold text-slate-900">Axes de Travail</h4></div>',1)),h("ul",ky,[(O(!0),P(rt,null,xt(((Z=r.value)==null?void 0:Z.weaknesses)||[],V=>(O(),P("li",{key:V},U(V),1))),128))])])]),h("div",Ay,[A[28]||(A[28]=h("h4",{class:"text-blue-600 font-bold mb-3 flex items-center"},[h("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})]),lt(" Conseils de Coach ")],-1)),h("div",Sy,[(O(!0),P(rt,null,xt(((st=r.value)==null?void 0:st.advice)||[],V=>(O(),P("p",{key:V,class:"flex items-start"},[A[27]||(A[27]=h("span",{class:"text-blue-500 mr-2"},"",-1)),lt(" "+U(V),1)]))),128))])])])])):ft("",!0),h("section",Cy,[A[30]||(A[30]=h("h4",{class:"uppercase tracking-widest font-bold mb-4 opacity-50"},"Rfrences Scientifiques",-1)),h("ul",Ty,[(O(!0),P(rt,null,xt(rs(c),V=>(O(),P("li",{key:V},U(V),1))),128))])]),M.value.length>0?(O(),P("section",My,[A[31]||(A[31]=h("h4",{class:"uppercase tracking-widest font-bold mb-4 opacity-50"},"Glossaire",-1)),h("ul",Ey,[(O(!0),P(rt,null,xt(M.value,V=>(O(),P("li",{key:V.term},[h("span",Oy,U(V.term)+":",1),lt(" "+U(V.def),1)]))),128))])])):ft("",!0)])])}}},Py={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ry={class:"mb-8"},Dy={class:"flex mb-4","aria-label":"Breadcrumb"},Ly={class:"flex items-center space-x-2"},Ny={class:"flex items-center space-x-2"},Fy={class:"text-xs font-bold text-slate-900 uppercase tracking-widest"},By={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},$y={class:"flex bg-slate-100 p-1 rounded-xl w-fit"},Hy={class:"flex items-center gap-3"},Vy={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},jy={class:"lg:col-span-1 space-y-4"},zy={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Uy={class:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto"},Wy={key:0,class:"p-8 text-center text-slate-400 italic text-sm"},qy=["onClick"],Gy={class:"flex justify-between items-start mb-1"},Yy={class:"font-bold text-slate-900"},Ky={class:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 text-slate-600 rounded-full uppercase"},Xy={class:"text-xs text-slate-500 flex items-center gap-2"},Jy={class:"lg:col-span-2"},Qy={key:0,class:"space-y-6"},Zy={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},t2={class:"flex justify-between items-start mb-6"},e2={class:"flex items-center gap-4 text-sm text-slate-500"},s2={class:"bg-slate-900 rounded-2xl p-6 text-white mb-8 shadow-xl shadow-slate-200/50 overflow-hidden relative border border-slate-800"},n2={class:"flex items-center justify-between mb-6 border-b border-white/5 pb-4"},i2={class:"flex items-center gap-4"},o2={class:"flex items-center gap-2"},r2={key:0,class:"w-2 h-2 rounded-full bg-red-500 animate-pulse"},a2={class:"text-xs font-black uppercase tracking-[0.2em] text-slate-400"},l2={class:"flex items-center gap-2"},c2={class:"cursor-pointer bg-blue-600 hover:bg-blue-500 px-3 py-1.5 rounded-lg text-[10px] font-black transition-all active:scale-95 flex items-center gap-2"},u2={key:0,class:"mb-6 space-y-0 rounded-xl overflow-hidden border border-white/10 bg-black"},d2={class:"aspect-video relative group"},f2=["src"],h2={class:"absolute top-4 left-4 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/10 font-mono text-xs text-blue-400 tabular-nums"},p2={class:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 via-black/40 to-transparent pt-12"},g2=["max"],m2={class:"flex items-center justify-between p-4 bg-slate-800/80 backdrop-blur-sm border-t border-white/5"},b2={class:"flex items-center gap-4"},x2={key:0,class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},v2={key:1,class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24"},_2={class:"flex items-center bg-black/30 rounded-xl p-1 border border-white/5"},y2=["onClick"],w2={class:"flex items-center gap-3"},k2={class:"flex items-center gap-1 bg-black/30 px-2 py-1 rounded-lg border border-white/5"},A2={class:"flex flex-col items-center justify-center"},S2={class:"text-center"},C2={class:"text-2xl font-mono tabular-nums font-black text-blue-400 tracking-tighter drop-shadow-2xl mb-2"},T2={key:0,class:"text-[10px] font-mono text-slate-500 uppercase tracking-[0.1em]"},M2={class:"w-full grid grid-cols-1 md:grid-cols-2 gap-6 items-center"},E2={class:"bg-white/5 rounded-2xl p-4 border border-white/5"},O2={class:"flex items-center justify-between"},I2={class:"text-xl font-bold text-white"},P2={class:"flex gap-3"},R2=["disabled"],D2={class:"mt-6 pt-4 border-t border-white/5 text-[10px] text-slate-400 flex justify-between font-bold"},L2={key:0,class:"text-blue-500 flex items-center gap-1 animate-pulse"},N2={class:"overflow-hidden border border-slate-100 rounded-xl mb-8"},F2={class:"w-full text-left text-sm"},B2={class:"divide-y divide-slate-100"},$2={class:"px-4 py-3"},H2=["onUpdate:modelValue"],V2={class:"px-4 py-3"},j2=["onUpdate:modelValue"],z2={class:"px-4 py-3"},U2={class:"flex items-center gap-2"},W2=["onUpdate:modelValue"],q2=["onClick"],G2={class:"px-4 py-3 font-mono font-bold text-blue-600"},Y2={class:"px-4 py-3 text-right space-x-2"},K2=["onClick"],X2=["onClick"],J2={key:0},Q2={key:0,class:"mb-12"},Z2={class:"overflow-hidden border border-slate-100 rounded-2xl shadow-sm bg-white"},tw={class:"w-full text-left text-sm border-collapse"},ew={class:"divide-y divide-slate-100"},sw={class:"px-4 py-3"},nw={class:"font-black text-slate-400 group-hover:text-blue-600 text-[10px] uppercase tracking-widest"},iw={class:"px-4 py-3 text-xs font-bold text-slate-500"},ow={class:"px-4 py-3 font-mono font-bold text-slate-900"},rw={class:"px-4 py-3"},aw={class:"flex items-center gap-2"},lw={class:"font-black text-blue-600 tabular-nums"},cw={class:"hidden sm:block w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden"},uw={class:"px-4 py-3 text-slate-500 font-medium"},dw={class:"px-4 py-3 font-bold text-slate-700"},fw={class:"px-4 py-3 font-bold text-slate-700"},hw={key:1,class:"mb-12"},pw={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},gw={class:"bg-slate-900 rounded-2xl p-6 text-white shadow-xl"},mw={class:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar"},bw={class:"text-xs font-bold"},xw={class:"flex items-center gap-3"},vw=["onUpdate:modelValue"],_w={class:"overflow-hidden border border-slate-100 rounded-2xl bg-white shadow-sm"},yw={class:"w-full text-left text-sm"},ww={class:"divide-y divide-slate-100"},kw={class:"px-4 py-3 text-xs font-bold text-slate-700"},Aw={class:"px-4 py-3 text-right font-mono font-bold text-slate-900"},Sw={class:"px-4 py-3 text-right"},Cw={class:"text-blue-600 font-black"},Tw={key:2},Mw={class:"bg-slate-50 border border-slate-100 rounded-2xl p-5 mb-6"},Ew={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Ow={class:"block text-[9px] font-black text-slate-400 uppercase mb-1"},Iw=["onUpdate:modelValue"],Pw={class:"overflow-hidden border border-slate-100 rounded-2xl bg-white/50"},Rw={class:"w-full text-left text-xs border-collapse"},Dw={class:"divide-y divide-slate-100"},Lw={class:"px-4 py-2 font-bold text-slate-600"},Nw={class:"px-4 py-2 text-right font-mono text-slate-500"},Fw={class:"px-4 py-2 text-right font-black text-slate-900"},Bw={class:"px-4 py-2 text-right text-slate-600"},$w={class:"px-4 py-2 text-right text-slate-600"},Hw={class:"mt-8 pt-8 border-t border-slate-100"},Vw={key:1,class:"h-full flex flex-col items-center justify-center p-12 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200 text-slate-400"},jw={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm"},zw={class:"bg-white rounded-3xl shadow-xl w-full max-w-md overflow-hidden"},Uw={class:"p-6 space-y-4"},Ww=["value"],qw={class:"p-6 bg-slate-50 flex gap-3"},Gw={__name:"RaceAnalysis",setup(e){const t=Rd(),s=pt(null),n=pt([]),i=pt(null),o=pt(!1),r=["50m","60m","100m","200m","400m","50mH","60mH","100mH","110mH","400mH"],a=pt({discipline:"100m",name:"",date:new Date().toISOString().split("T")[0]}),l=pt(!1),c=pt(0),u=pt(0),d=pt(null),f=pt(null),p=pt(null),m=pt(!0),b=pt(0),x=pt(0),v=pt(0),y=pt(1),S=yt(()=>{var _,C;if(!i.value)return null;const R=d_(i.value.discipline,(_=s.value)==null?void 0:_.gender,(C=s.value)==null?void 0:C.category),g=i.value.milestones.length;return R[g]||null}),k=yt(()=>{if(!i.value||!i.value.milestones)return 0;const R=i.value.milestones.find(g=>g.distance===0);return R?R.time:0}),M=R=>{if(!i.value)return"---";const g=R-k.value;return g<-.001?"---":g.toFixed(3)+"s"},N=R=>{if(!i.value)return;const g=i.value.milestones.find(_=>_.distance===0);g?(g.time=R,A()):(i.value.milestones.push({label:"Dpart (0m)",distance:0,time:R,type:"split"}),i.value.milestones.sort((_,C)=>_.time-C.time),A())},F=yt(()=>i.value?(i.value instanceof Ot?i.value:new Ot(i.value)).segmentSpeeds:[]),j=yt(()=>i.value?(i.value instanceof Ot?i.value:new Ot(i.value)).hurdleAnalysis:[]),B=yt(()=>{var _,C;if(!i.value)return[];const R=i.value instanceof Ot?i.value:new Ot(i.value),g=Df(i.value.discipline,(_=s.value)==null?void 0:_.gender,(C=s.value)==null?void 0:C.category);return R.calculateIntervals(g)}),Y=()=>{const R=t.query.athleteId||localStorage.getItem("sprint_predictor_current_athlete");R&&(s.value=Ae.load(R),n.value=Ot.getByAthlete(R))},D=R=>{i.value=R,bt(),p.value=null},A=()=>{i.value&&(i.value.save(),n.value=Ot.getByAthlete(s.value.id))},J=()=>{const R=new Ot({athleteId:s.value.id,discipline:a.value.discipline,name:a.value.name,date:a.value.date});R.save(),Y(),i.value=R,o.value=!1,a.value={discipline:"100m",name:"",date:new Date().toISOString().split("T")[0]}},Z=R=>{confirm("Supprimer cette analyse ?")&&(R.delete(),i.value=null,Y())},st=R=>{i.value.milestones.splice(R,1),A()},V=()=>{i.value&&i.value.milestones.push({label:"Nouveau jalon",type:"split",time:0,distance:0})},Q=R=>{const g=R.target.files[0];g&&(p.value=URL.createObjectURL(g),m.value=!0)},et=()=>{f.value&&(f.value.playbackRate=y.value,x.value=f.value.duration)},ht=()=>{f.value&&(b.value=f.value.currentTime,v.value=f.value.currentTime/f.value.duration*100)},Rt=()=>{f.value&&(f.value.currentTime=b.value)},dt=()=>{f.value&&(f.value.paused?(f.value.play(),m.value=!1):(f.value.pause(),m.value=!0))},mt=R=>{f.value&&(f.value.pause(),m.value=!0,f.value.currentTime+=R)};cn(y,R=>{f.value&&(f.value.playbackRate=R)});const Dt=()=>{l.value=!0,c.value=performance.now(),u.value=0,d.value=setInterval(()=>{u.value=(performance.now()-c.value)/1e3},10)},bt=()=>{l.value=!1,d.value&&(clearInterval(d.value),d.value=null)},kt=()=>{const R=p.value?b.value:u.value;if(!i.value||!S.value||!p.value&&!l.value)return;const g=S.value;i.value.milestones.push({label:g.label,type:g.type,distance:g.distance,time:parseFloat(R.toFixed(3))}),A(),!S.value&&!p.value&&bt()},I=()=>{confirm("Rinitialiser tous les jalons capturs pour cette course ?")&&(i.value.milestones=[],A(),u.value=0,bt())},w=R=>{const g=p.value?b.value:u.value;i.value.milestones[R].time=parseFloat(g.toFixed(3)),A()},$=R=>isNaN(R)?"0.00s":R.toFixed(2)+"s",z=R=>new Date(R).toLocaleDateString("fr-CH",{day:"numeric",month:"long",year:"numeric"}),W=R=>{if(!(R.target.tagName==="INPUT"||R.target.tagName==="TEXTAREA")){if(R.key===" "||R.code==="Space"){if(R.preventDefault(),R.repeat)return;p.value||l.value?kt():i.value&&!o.value&&Dt()}if(p.value){const g=R.shiftKey?1:.01;R.key==="ArrowRight"&&(R.preventDefault(),mt(g)),R.key==="ArrowLeft"&&(R.preventDefault(),mt(-g)),R.key.toLowerCase()==="l"&&(R.preventDefault(),dt())}}};return Ms(()=>{Y(),window.addEventListener("keydown",W)}),Io(()=>{window.removeEventListener("keydown",W),bt()}),(R,g)=>{var C,L,H,E;const _=so("router-link");return O(),P("div",Py,[h("div",Ry,[h("nav",Dy,[h("ol",Ly,[h("li",null,[Tt(_,{to:"/",class:"text-xs font-bold text-slate-400 hover:text-blue-600 uppercase tracking-widest transition-colors"},{default:Xt(()=>[...g[16]||(g[16]=[lt("Tableau de bord",-1)])]),_:1})]),h("li",Ny,[g[17]||(g[17]=h("svg",{class:"w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),h("span",Fy,U(((C=s.value)==null?void 0:C.name)||"Athlte"),1)])])]),h("div",By,[h("div",null,[g[20]||(g[20]=h("h2",{class:"text-4xl font-black text-slate-900 tracking-tight mb-4"},[lt(" Analyse des "),h("span",{class:"text-blue-600"},"courses")],-1)),h("div",$y,[Tt(_,{to:{path:"/races-analysis",query:{athleteId:(L=s.value)==null?void 0:L.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all bg-white text-blue-600 shadow-sm"},{default:Xt(()=>[...g[18]||(g[18]=[lt(" Dcoupe et liste ",-1)])]),_:1},8,["to"]),Tt(_,{to:{path:"/races-evolution",query:{athleteId:(H=s.value)==null?void 0:H.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all text-slate-500 hover:text-slate-700"},{default:Xt(()=>[...g[19]||(g[19]=[lt(" volution & comparaison ",-1)])]),_:1},8,["to"])])]),h("div",Hy,[h("button",{onClick:g[0]||(g[0]=T=>o.value=!0),class:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-black rounded-xl transition-all shadow-lg shadow-blue-200 uppercase tracking-wider"},[...g[21]||(g[21]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),lt(" Nouvelle course ",-1)])])])])]),h("div",Vy,[h("div",jy,[h("div",zy,[g[23]||(g[23]=h("div",{class:"p-4 border-b border-slate-100 bg-slate-50/50"},[h("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest"},"Historique des courses")],-1)),h("div",Uy,[n.value.length===0?(O(),P("div",Wy," Aucune course analyse pour le moment. ")):ft("",!0),(O(!0),P(rt,null,xt(n.value,T=>{var q;return O(),P("div",{key:T.id,onClick:K=>D(T),class:Yt(["p-4 cursor-pointer transition-colors hover:bg-slate-50",((q=i.value)==null?void 0:q.id)===T.id?"bg-blue-50/50 border-l-4 border-blue-600":""])},[h("div",Gy,[h("span",Yy,U(T.name||T.discipline),1),h("span",Ky,U(T.discipline),1)]),h("div",Xy,[g[22]||(g[22]=h("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),lt(" "+U(z(T.date)),1)])],10,qy)}),128))])])]),h("div",Jy,[i.value?(O(),P("div",Qy,[h("div",Zy,[h("div",t2,[h("div",null,[$t(h("input",{"onUpdate:modelValue":g[1]||(g[1]=T=>i.value.name=T),onBlur:A,class:"text-2xl font-bold text-slate-900 bg-transparent border-none p-0 focus:ring-0 w-full mb-1",placeholder:"Nom de la course (ex: Finale Rgionale)"},null,544),[[Jt,i.value.name]]),h("div",e2,[h("span",null,U(i.value.discipline),1),g[24]||(g[24]=h("span",null,"",-1)),$t(h("input",{type:"date","onUpdate:modelValue":g[2]||(g[2]=T=>i.value.date=T),onChange:A,class:"bg-transparent border-none p-0 text-sm focus:ring-0 text-slate-500 cursor-pointer"},null,544),[[Jt,i.value.date]])])]),h("button",{onClick:g[3]||(g[3]=T=>Z(i.value)),class:"p-2 text-slate-400 hover:text-red-600 transition-colors"},[...g[25]||(g[25]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])]),h("div",s2,[h("div",n2,[h("div",i2,[h("div",o2,[l.value?(O(),P("div",r2)):ft("",!0),h("h4",a2,U(p.value?"Analyse Vido":l.value?"Enregistrement":"Outil de Capture"),1)])]),h("div",l2,[h("label",c2,[h("input",{type:"file",accept:"video/*",class:"hidden",onChange:Q},null,32),g[26]||(g[26]=h("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)),lt(" "+U(p.value?"Changer":"Charger Vido"),1)]),p.value?(O(),P("button",{key:0,onClick:g[4]||(g[4]=T=>p.value=null),class:"p-1.5 text-slate-500 hover:text-red-400 transition-colors"},[...g[27]||(g[27]=[h("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):ft("",!0)])]),p.value?(O(),P("div",u2,[h("div",d2,[h("video",{ref_key:"videoRef",ref:f,src:p.value,class:"w-full h-full",onTimeupdate:ht,onLoadedmetadata:et,onClick:dt},null,40,f2),h("div",h2," T: "+U($(b.value)),1),m.value?(O(),P("div",{key:0,onClick:dt,class:"absolute inset-0 flex items-center justify-center bg-black/20 cursor-pointer hover:bg-black/40 transition-all"},[...g[28]||(g[28]=[h("div",{class:"w-16 h-16 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/20 scale-90 hover:scale-100 transition-transform"},[h("svg",{class:"w-8 h-8 text-white translate-x-1",fill:"currentColor",viewBox:"0 0 24 24"},[h("path",{d:"M8 5v14l11-7z"})])],-1)])])):ft("",!0),h("div",p2,[$t(h("input",{type:"range",min:"0",max:x.value,step:"0.001","onUpdate:modelValue":g[5]||(g[5]=T=>b.value=T),onInput:Rt,class:"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-blue-500 hover:h-2 transition-all"},null,40,g2),[[Jt,b.value,void 0,{number:!0}]])])]),h("div",m2,[h("div",b2,[h("button",{onClick:dt,class:"w-10 h-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full transition-colors"},[m.value?(O(),P("svg",x2,[...g[29]||(g[29]=[h("path",{d:"M8 5v14l11-7z"},null,-1)])])):(O(),P("svg",v2,[...g[30]||(g[30]=[h("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)])]))]),h("div",_2,[(O(),P(rt,null,xt([.25,.5,1],T=>h("button",{key:T,onClick:q=>y.value=T,class:Yt(["px-2 py-1.5 rounded text-[9px] font-black transition-all",y.value===T?"bg-blue-600 text-white":"text-slate-500 hover:text-white"])},U(T)+"x ",11,y2)),64))])]),h("div",w2,[h("div",k2,[h("button",{onClick:g[6]||(g[6]=T=>mt(-1)),class:"px-2 py-1.5 hover:bg-white/5 rounded-lg text-[10px] font-black text-slate-500",title:"Shift+Gauche"},"-1s"),h("button",{onClick:g[7]||(g[7]=T=>mt(-.01)),class:"p-2 hover:bg-white/5 rounded-lg text-white",title:"Gauche"},[...g[31]||(g[31]=[h("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),h("button",{onClick:g[8]||(g[8]=T=>mt(.01)),class:"p-2 hover:bg-white/5 rounded-lg text-white",title:"Droite"},[...g[32]||(g[32]=[h("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),h("button",{onClick:g[9]||(g[9]=T=>mt(1)),class:"px-2 py-1.5 hover:bg-white/5 rounded-lg text-[10px] font-black text-slate-500",title:"Shift+Droite"},"+1s")]),h("button",{onClick:g[10]||(g[10]=T=>N(b.value)),class:"px-3 py-2 bg-blue-600/10 hover:bg-blue-600 text-blue-400 hover:text-white rounded-lg text-[10px] font-black transition-all border border-blue-600/20"}," DPART (0m) ")])])])):ft("",!0),h("div",A2,[h("div",S2,[h("div",C2,[lt(U($(p.value?b.value:u.value))+" ",1),p.value?(O(),P("span",T2," / "+U($(x.value)),1)):ft("",!0)])]),h("div",M2,[h("div",E2,[g[33]||(g[33]=h("p",{class:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1"},"Cible",-1)),h("div",O2,[h("div",I2,U(((E=S.value)==null?void 0:E.label)||"Squence termine"),1),i.value.milestones.length>0?(O(),P("button",{key:0,onClick:I,class:"text-[9px] px-2 py-1 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-lg transition-all uppercase font-black border border-red-500/20"}," Rinitialiser ")):ft("",!0)])]),h("div",P2,[p.value?(O(),P("button",{key:1,onClick:kt,disabled:!S.value,class:Yt(["flex-1 py-6 sm:text-xl font-black rounded-2xl transition-all active:scale-95 shadow-xl uppercase tracking-widest",S.value?"bg-blue-600 hover:bg-blue-500 text-white shadow-blue-600/40":"bg-slate-800 text-slate-600 cursor-not-allowed"])},U(S.value?"Capturer Frame":"Termin"),11,R2)):(O(),P(rt,{key:0},[l.value?(O(),P("button",{key:1,onClick:kt,class:"flex-[2] py-5 bg-white text-slate-900 sm:text-xl font-black rounded-2xl transition-all active:scale-95 shadow-xl shadow-white/10 uppercase tracking-widest"}," Capturer ")):(O(),P("button",{key:0,onClick:Dt,class:"flex-1 py-5 bg-blue-600 hover:bg-blue-500 text-white font-black rounded-2xl transition-all shadow-xl shadow-blue-900/40 text-lg uppercase tracking-wider"}," Dmarrer ")),l.value?(O(),P("button",{key:2,onClick:bt,class:"flex-1 py-5 bg-slate-800 hover:bg-red-600 text-slate-400 hover:text-white rounded-2xl transition-all font-black uppercase text-xs"}," Stop ")):ft("",!0)],64))])])]),h("div",D2,[g[35]||(g[35]=h("div",{class:"flex gap-4"},[h("span",null,"ESPACE : Capture"),h("span",null,"FLCHES : Pas--pas"),h("span",null,"SHIFT+FLCHES : +/- 1s"),h("span",null,"L : Play/Pause")],-1)),p.value?(O(),P("div",L2,[...g[34]||(g[34]=[h("div",{class:"w-1.5 h-1.5 rounded-full bg-blue-500"},null,-1),lt(" ANALYSE VIDO ACTIVE ",-1)])])):ft("",!0)])]),h("div",null,[h("div",{class:"flex items-center justify-between mb-4"},[g[36]||(g[36]=h("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest"},"Temps de passage & Jalons",-1)),h("button",{onClick:V,class:"text-xs font-bold text-blue-600 hover:underline"},"Ajouter manuellement")]),h("div",N2,[h("table",F2,[g[41]||(g[41]=h("thead",{class:"bg-slate-50 text-slate-500 font-bold text-[10px] uppercase"},[h("tr",null,[h("th",{class:"px-4 py-3"},"Jalon"),h("th",{class:"px-4 py-3"},"Type"),h("th",{class:"px-4 py-3"},"Capture (v)"),h("th",{class:"px-4 py-3 text-blue-600"},"Course (s)"),h("th",{class:"px-4 py-3 text-right"},"Action")])],-1)),h("tbody",B2,[(O(!0),P(rt,null,xt(i.value.milestones,(T,q)=>(O(),P("tr",{key:q,class:"group hover:bg-slate-50 transition-colors"},[h("td",$2,[$t(h("input",{"onUpdate:modelValue":K=>T.label=K,onBlur:A,class:"bg-transparent border-none p-0 text-sm focus:ring-0 font-bold text-slate-900 w-full"},null,40,H2),[[Jt,T.label]])]),h("td",V2,[$t(h("select",{"onUpdate:modelValue":K=>T.type=K,onChange:A,class:"bg-transparent border-none p-0 text-xs focus:ring-0 text-slate-500 cursor-pointer"},[...g[37]||(g[37]=[h("option",{value:"split"},"Split",-1),h("option",{value:"takeoff"},"Take-off",-1),h("option",{value:"touchdown"},"Touch-down",-1)])],40,j2),[[ii,T.type]])]),h("td",z2,[h("div",U2,[$t(h("input",{type:"number",step:"0.001","onUpdate:modelValue":K=>T.time=K,onBlur:A,class:"bg-transparent border-none p-0 text-xs font-mono text-slate-400 w-20"},null,40,W2),[[Jt,T.time,void 0,{number:!0}]]),h("button",{onClick:K=>w(q),class:"p-1 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded opacity-0 group-hover:opacity-100 transition-all",title:"Synchroniser avec le temps actuel"},[...g[38]||(g[38]=[h("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,q2)])]),h("td",G2,U(M(T.time)),1),h("td",Y2,[T.distance===0?(O(),P("button",{key:0,onClick:K=>N(T.time),class:"text-[9px] font-bold px-2 py-1 bg-blue-50 text-blue-600 rounded uppercase hover:bg-blue-100 transition-colors",title:"Synchroniser le dpart sur ce temps"}," Sync Start ",8,K2)):ft("",!0),h("button",{onClick:K=>st(q),class:"p-1 text-slate-300 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-all"},[...g[39]||(g[39]=[h("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X2)])]))),128)),i.value.milestones.length===0?(O(),P("tr",J2,[...g[40]||(g[40]=[h("td",{colspan:"5",class:"px-4 py-8 text-center text-slate-400 italic"},"Aucun jalon enregistr. Utilisez l'outil de capture ou l'ajout manuel.",-1)])])):ft("",!0)])])]),B.value.length>0?(O(),P("div",Q2,[g[43]||(g[43]=h("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4 flex items-center"},[h("span",{class:"mr-2"},""),lt(" Tableau de Bord de Performance ")],-1)),h("div",Z2,[h("table",tw,[g[42]||(g[42]=h("thead",{class:"bg-slate-50 text-slate-500 font-bold text-[10px] uppercase border-b border-slate-100"},[h("tr",null,[h("th",{class:"px-4 py-3"},"Segment"),h("th",{class:"px-4 py-3"},"Distance"),h("th",{class:"px-4 py-3"},"Temps"),h("th",{class:"px-4 py-3 text-blue-600"},"Vitesse (m/s)"),h("th",{class:"px-4 py-3"},"Pas"),h("th",{class:"px-4 py-3"},"Frq. (Hz)"),h("th",{class:"px-4 py-3"},"Ampl. (m)")])],-1)),h("tbody",ew,[(O(!0),P(rt,null,xt(B.value,(T,q)=>(O(),P("tr",{key:q,class:"hover:bg-blue-50/30 transition-colors group"},[h("td",sw,[h("span",nw,U(T.label),1)]),h("td",iw,U(T.start)+"-"+U(T.end)+"m ",1),h("td",ow,U(T.time.toFixed(3))+"s ",1),h("td",rw,[h("div",aw,[h("span",lw,U(T.speed.toFixed(2)),1),h("div",cw,[h("div",{class:"h-full bg-blue-500",style:Ve({width:Math.min(T.speed/12*100,100)+"%"})},null,4)])])]),h("td",uw,U(T.steps||"---"),1),h("td",dw,U(T.frequency>0?T.frequency.toFixed(2):"---"),1),h("td",fw,U(T.stepLength>0?T.stepLength.toFixed(2):"---"),1)]))),128))])])])])):ft("",!0),j.value.length>0?(O(),P("div",hw,[g[48]||(g[48]=h("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4 flex items-center"},[h("span",{class:"mr-2"},""),lt(" Analyse spcifique Haies (Inter-haies) ")],-1)),h("div",pw,[h("div",gw,[g[45]||(g[45]=h("h5",{class:"text-[10px] font-bold text-blue-400 uppercase mb-4 tracking-widest"},"Nombre de pas entre les haies",-1)),h("div",mw,[(O(!0),P(rt,null,xt(j.value,T=>(O(),P("div",{key:"hurdle-step-"+T.label,class:"flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors"},[h("span",bw,U(T.label),1),h("div",xw,[$t(h("input",{type:"number","onUpdate:modelValue":q=>i.value.stepCounts[T.label==="Start - H1"?`0-${T.distance}`:`${T.distance_start}-${T.distance_end}`||T.label]=q,onBlur:A,placeholder:"---",class:"w-16 bg-white/10 border-none rounded-lg p-1.5 text-center text-sm font-bold focus:ring-2 focus:ring-blue-500 text-white"},null,40,vw),[[Jt,i.value.stepCounts[T.label==="Start - H1"?`0-${T.distance}`:`${T.distance_start}-${T.distance_end}`||T.label],void 0,{number:!0}]]),g[44]||(g[44]=h("span",{class:"text-[10px] text-slate-500 uppercase font-bold"},"pas",-1))])]))),128))])]),h("div",_w,[h("table",yw,[g[47]||(g[47]=h("thead",{class:"bg-slate-50 text-slate-400 font-bold text-[9px] uppercase"},[h("tr",null,[h("th",{class:"px-4 py-3"},"Squence"),h("th",{class:"px-4 py-3 text-right"},"Temps"),h("th",{class:"px-4 py-3 text-right"},"Vitesse")])],-1)),h("tbody",ww,[(O(!0),P(rt,null,xt(j.value,T=>(O(),P("tr",{key:"hurdle-time-"+T.label,class:"hover:bg-slate-50 transition-colors"},[h("td",kw,U(T.label),1),h("td",Aw,U(T.time.toFixed(3))+"s",1),h("td",Sw,[h("span",Cw,U(T.speed.toFixed(2)),1),g[46]||(g[46]=h("span",{class:"text-[9px] text-slate-400 ml-1"},"m/s",-1))])]))),128))])])])])])):ft("",!0),F.value.length>0?(O(),P("div",Tw,[g[51]||(g[51]=h("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-widest mb-4"},"Dtail technique par segment",-1)),h("div",Mw,[g[49]||(g[49]=h("h5",{class:"text-[10px] font-bold text-slate-400 uppercase mb-4 tracking-widest"},"Saisie du nombre de pas",-1)),h("div",Ew,[(O(!0),P(rt,null,xt(F.value,T=>(O(),P("div",{key:"input-"+T.id,class:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 transition-all"},[h("label",Ow,U(T.segment),1),$t(h("input",{type:"number","onUpdate:modelValue":q=>i.value.stepCounts[T.id]=q,onBlur:A,placeholder:"Nb pas",class:"w-full bg-transparent border-none p-0 text-sm font-black text-slate-900 focus:ring-0"},null,40,Iw),[[Jt,i.value.stepCounts[T.id],void 0,{number:!0}]])]))),128))])]),h("div",Pw,[h("table",Rw,[g[50]||(g[50]=h("thead",{class:"bg-slate-50/50 text-slate-400 font-bold text-[9px] uppercase border-b border-slate-100"},[h("tr",null,[h("th",{class:"px-4 py-2"},"Intervalle"),h("th",{class:"px-4 py-2 text-right"},"Temps"),h("th",{class:"px-4 py-2 text-right text-blue-500"},"Vitesse"),h("th",{class:"px-4 py-2 text-right"},"Frq."),h("th",{class:"px-4 py-2 text-right"},"Ampl.")])],-1)),h("tbody",Dw,[(O(!0),P(rt,null,xt(F.value,T=>(O(),P("tr",{key:T.segment,class:"hover:bg-slate-50 transition-colors"},[h("td",Lw,U(T.segment),1),h("td",Nw,U(T.time.toFixed(3))+"s",1),h("td",Fw,U(T.speed.toFixed(2))+" m/s",1),h("td",Bw,U(T.frequency>0?T.frequency.toFixed(2)+" Hz":"---"),1),h("td",$w,U(T.stepLength>0?T.stepLength.toFixed(2)+" m":"---"),1)]))),128))])])])])):ft("",!0)]),h("div",Hw,[g[52]||(g[52]=h("label",{class:"block text-sm font-bold text-slate-900 uppercase tracking-widest mb-2"},"Notes & Analyse",-1)),$t(h("textarea",{"onUpdate:modelValue":g[11]||(g[11]=T=>i.value.note=T),onBlur:A,rows:"4",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-4",placeholder:"Ex: Bonnes sensations, vent de face en ligne droite, fatigue en fin de course..."},null,544),[[Jt,i.value.note]])])])])):(O(),P("div",Vw,[...g[53]||(g[53]=[h("svg",{class:"w-16 h-16 mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),h("p",{class:"font-bold"},"Slectionnez une course pour voir son analyse",-1),h("p",{class:"text-sm"},"Ou crez-en une nouvelle pour commencer le dcoupage.",-1)])]))])]),o.value?(O(),P("div",jw,[h("div",zw,[g[57]||(g[57]=h("div",{class:"p-6 border-b border-slate-100"},[h("h3",{class:"text-xl font-bold text-slate-900"},"Nouvelle course")],-1)),h("div",Uw,[h("div",null,[g[54]||(g[54]=h("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Discipline",-1)),$t(h("select",{"onUpdate:modelValue":g[12]||(g[12]=T=>a.value.discipline=T),class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},[(O(),P(rt,null,xt(r,T=>h("option",{key:T,value:T},U(T),9,Ww)),64))],512),[[ii,a.value.discipline]])]),h("div",null,[g[55]||(g[55]=h("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Nom de la course / Sance",-1)),$t(h("input",{"onUpdate:modelValue":g[13]||(g[13]=T=>a.value.name=T),type:"text",placeholder:"Ex: Meeting de Genve",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},null,512),[[Jt,a.value.name]])]),h("div",null,[g[56]||(g[56]=h("label",{class:"block text-xs font-bold text-slate-500 uppercase mb-1"},"Date",-1)),$t(h("input",{"onUpdate:modelValue":g[14]||(g[14]=T=>a.value.date=T),type:"date",class:"w-full bg-slate-50 border-slate-100 rounded-xl text-sm focus:ring-blue-500 focus:border-blue-500 p-3"},null,512),[[Jt,a.value.date]])])]),h("div",qw,[h("button",{onClick:g[15]||(g[15]=T=>o.value=!1),class:"flex-1 px-4 py-3 text-sm font-bold text-slate-500 hover:text-slate-700 transition-colors"},"Annuler"),h("button",{onClick:J,class:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded-xl transition-all"},"Crer l'analyse")])])])):ft("",!0)])}}},Yw={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Kw={class:"mb-8"},Xw={class:"flex mb-4","aria-label":"Breadcrumb"},Jw={class:"flex items-center space-x-2"},Qw={class:"flex items-center space-x-2"},Zw={class:"text-xs font-bold text-slate-900 uppercase tracking-widest"},tk={class:"flex flex-col md:flex-row md:items-end justify-between gap-6"},ek={class:"flex bg-slate-100 p-1 rounded-xl w-fit"},sk={class:"flex items-center gap-3"},nk={class:"flex bg-slate-100 p-1 rounded-xl"},ik=["onClick"],ok={key:0,class:"p-12 text-center bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200"},rk={key:1,class:"space-y-6"},ak={class:"bg-white rounded-3xl p-6 border border-slate-200 shadow-sm"},lk={class:"h-56 w-full relative"},ck={class:"flex flex-wrap items-center justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-100 gap-4"},uk={class:"flex items-center gap-6"},dk={class:"flex items-center gap-3"},fk={class:"flex bg-slate-100 p-1 rounded-lg"},hk={class:"flex items-center gap-3"},pk={class:"flex bg-slate-100 p-1 rounded-lg"},gk=["onClick"],mk={class:"flex flex-wrap items-center gap-6"},bk={class:"flex items-center gap-3"},xk={class:"flex bg-slate-100 p-1 rounded-lg"},vk=["onClick"],_k={class:"flex items-center gap-3"},yk={class:"flex items-center gap-2 bg-slate-100 px-3 py-1.5 rounded-lg"},wk={class:"text-[10px] font-black text-slate-600 w-6"},kk={key:0,class:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden"},Ak={class:"flex border-b border-slate-100 bg-slate-50/80 backdrop-blur-sm sticky top-0 z-20"},Sk={class:"flex-1 flex"},Ck={class:"text-[9px] font-black text-slate-400 uppercase"},Tk={class:"divide-y divide-slate-100 bg-slate-50/30"},Mk={key:0,class:"flex border-b border-blue-100 bg-blue-50/30 relative"},Ek={class:"w-40 flex-shrink-0 p-4 border-r border-blue-100 flex flex-col justify-center"},Ok={class:"text-xl font-black text-blue-600 tabular-nums"},Ik={class:"flex-1 flex"},Pk={class:"w-full h-full rounded flex items-center justify-center border border-blue-200/50 bg-white/50"},Rk={class:"text-xs font-black text-blue-500"},Dk={key:1,class:"flex border-b border-purple-100 bg-purple-50/30 relative"},Lk={class:"w-40 flex-shrink-0 p-4 border-r border-purple-100 flex flex-col justify-center"},Nk={class:"text-xl font-black text-purple-600 tabular-nums"},Fk={class:"flex-1 flex"},Bk={class:"w-full h-full rounded flex items-center justify-center border border-purple-200/50 bg-white/50"},$k={class:"text-xs font-black text-purple-500"},Hk={key:2,class:"flex relative z-10 bg-yellow-50/50 border-b-2 border-yellow-200"},Vk={class:"w-40 flex-shrink-0 p-4 border-r border-yellow-100 flex flex-col justify-center"},jk={class:"flex items-center gap-1 mb-1"},zk={class:"text-[10px] font-bold text-slate-500"},Uk={class:"flex items-baseline gap-2"},Wk={class:"text-xl font-black text-slate-900 tabular-nums"},qk={class:"flex-1 flex"},Gk={class:"text-xs font-black"},Yk={class:"divide-y divide-slate-100"},Kk={class:"w-40 flex-shrink-0 p-4 border-r border-slate-100 flex flex-col justify-center"},Xk={class:"text-[10px] font-bold text-slate-500 mb-1 truncate"},Jk={class:"flex items-baseline gap-2 flex-wrap"},Qk={class:"text-sm font-black text-slate-800 tabular-nums"},Zk={class:"flex-1 flex h-14"},tA={class:"text-xs font-black"},eA={key:1,class:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden divide-y divide-slate-100"},sA={key:0,class:"flex items-center p-4 bg-blue-50/30 relative group border-b border-blue-100"},nA={class:"w-48 flex-shrink-0 pr-6"},iA={class:"flex items-baseline gap-2"},oA={class:"text-2xl font-black text-blue-600 leading-none"},rA={key:0,class:"text-xs font-bold text-blue-500"},aA={class:"flex-1 relative py-4"},lA={class:"flex h-6 w-full bg-blue-100/30 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-blue-200/50"},cA={class:"text-[8px] font-black leading-none truncate"},uA={key:1,class:"flex items-center p-4 bg-purple-50/30 relative group border-b border-purple-100"},dA={class:"w-48 flex-shrink-0 pr-6"},fA={class:"flex items-baseline gap-2"},hA={class:"text-2xl font-black text-purple-600 leading-none"},pA={key:0,class:"text-xs font-bold text-purple-500"},gA={class:"flex-1 relative py-4"},mA={class:"flex h-6 w-full bg-purple-100/30 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-purple-200/50"},bA={class:"text-[8px] font-black leading-none truncate"},xA={class:"w-48 flex-shrink-0 pr-6"},vA={class:"flex items-center gap-2 mb-1"},_A={key:0,class:"text-[8px] font-black bg-yellow-400 text-white px-1.5 py-0.5 rounded uppercase"},yA={class:"text-[10px] font-black text-slate-400 tabular-nums uppercase"},wA={class:"flex items-baseline gap-2"},kA={class:"text-2xl font-black text-slate-900 leading-none"},AA=["onClick"],SA={class:"text-[10px] font-bold text-slate-400 truncate block mt-1"},CA={class:"flex-1 relative py-4"},TA={class:"absolute -bottom-1 -left-4 w-8 text-center text-[7px] font-black text-slate-500 uppercase leading-none"},MA={class:"flex h-6 w-full bg-slate-100 rounded-full overflow-hidden shadow-inner relative z-20 border-2 border-slate-200"},EA={class:"text-[8px] font-black leading-none truncate"},OA={__name:"RacesEvolution",setup(e){const t=pt(null),s=pt([]),n=pt("100m"),i=pt("speed"),o=pt("indigo"),r=pt(10),a=pt("timeline"),l={indigo:"Intensit",traffic:"Trafic",elite:"lite"},c={indigo:I=>{const w=96-I*50;return{backgroundColor:`hsl(230, 80%, ${w}%)`,color:w>65?"#1e1b4b":"#fff"}},traffic:I=>({backgroundColor:`hsl(${I<.5?I*2*45:45+(I-.5)*2*85}, 85%, 65%)`,color:"#1a1a1a"}),elite:I=>I<.7?{backgroundColor:`hsl(240, 10%, ${95-I/.7*20}%)`,color:"#1a1a1a"}:{backgroundColor:`hsl(${280-(I-.7)/.3*40}, 80%, 60%)`,color:"#fff"}},u=(I,w,$)=>{if(I==null||I===0||!w)return{backgroundColor:"#f8fafc",color:"#cbd5e1"};const W=$!=="time"?I/w:w/I,R=1-r.value/100,g=Math.max(0,Math.min(1,(W-R)/(1-R)));return c[o.value](g)},d=new Lf,f=pt(null),p=pt(null);let m=null;const b=[{id:"speed",label:"Vitesse",unit:"m/s"},{id:"frequency",label:"Frq.",unit:"Hz"},{id:"stepLength",label:"Ampl.",unit:"m"},{id:"time",label:"Temps",unit:"s"}],x=I=>{if(!t.value)return!1;const w=dt(I);if(w<=0)return!1;const $=`pb_${n.value.toLowerCase()}`,z=t.value.metrics[$]||999;return w<z-.005},v=I=>{if(!t.value)return;const w=dt(I),$=`pb_${n.value.toLowerCase()}`;t.value.metrics[$]=parseFloat(w.toFixed(2)),t.value.save(),F(),alert(`Record personnel (${n.value}) mis  jour dans le profil !`)},y=yt(()=>{if(!f.value||!f.value.profile)return null;const{vmax:I,tau:w}=f.value.profile,$=f.value.scaleFactor||1,z=Z.value.map(W=>{const R=d.calculateTimeAtDistance(W.start,I,w);let _=(d.calculateTimeAtDistance(W.end,I,w)-R)*$;W.start===0&&(_+=d.CONSTANTS.REACTION_TIME*$);const C=W.end-W.start;if(i.value==="speed")return C/_;if(i.value==="time")return _;const L=f.value.splits.filter(E=>E.distance>W.start&&E.distance<=W.end);return L.length>0?L.reduce((E,T)=>E+(T[i.value]||0),0)/L.length:f.value.splits.reduce((E,T)=>Math.abs(T.distance-W.end)<Math.abs(E.distance-W.end)?T:E)[i.value]||0});return{totalTime:parseFloat(f.value.time),segments:z}}),S=yt(()=>D.value?{segments:Z.value.map((w,$)=>{const z=Rt(D.value,$);return z?z[i.value]:0})}:null),k=yt(()=>{if(!Y.value.length)return null;const I=new Map;Y.value.forEach(W=>{(W instanceof Ot?W:new Ot(W)).segmentSpeeds.forEach(g=>{const _=I.get(g.id)||999;g.time>0&&g.time<_&&I.set(g.id,g.time)})});const w=Array.from(I.values()).reduce((W,R)=>W+R,0),$=i.value!=="time",z=Z.value.map((W,R)=>{const g=Y.value.map(_=>(_ instanceof Ot?_:new Ot(_)).calculateIntervals(Z.value)[R]).filter(_=>_&&_.time>0);return g.length?$?Math.max(...g.map(_=>_[i.value])):Math.min(...g.map(_=>_[i.value])):0});return{totalTime:w,segments:z}}),M=yt(()=>{var I;return((I=k.value)==null?void 0:I.segments)||[]}),N=()=>{if(!D.value)return[];let I=0;return(D.value instanceof Ot?D.value:new Ot(D.value)).segmentSpeeds.map($=>(I+=$.time,{label:$.label,percent:I/J.value*100}))},F=()=>{if(t.value)try{f.value=d.predict(t.value,n.value),mi(()=>j())}catch(I){console.error(I)}},j=()=>{var _,C,L,H;const I=(_=p.value)==null?void 0:_.getContext("2d");if(!I)return;m&&m.destroy();const w=Z.value.map(E=>E.label),$=((C=y.value)==null?void 0:C.segments)||[],z=((L=k.value)==null?void 0:L.segments)||[],W=((H=S.value)==null?void 0:H.segments)||[],R=b.find(E=>E.id===i.value);let g=-1;if(i.value==="speed"&&$.length>0){const E=Math.max(...$);g=$.indexOf(E)}m=new Ce(I,{type:"line",data:{labels:w,datasets:[{label:`Potentiel thorique (${R.label})`,data:$,borderColor:"rgba(59, 130, 246, 0.4)",borderDash:[5,5],backgroundColor:"transparent",tension:.4,pointRadius:E=>E.dataIndex===g?6:0,pointBackgroundColor:"#3b82f6",pointBorderWidth:2,pointBorderColor:"#fff",zIndex:1},{label:"Record (PB)",data:W,borderColor:"#facc15",backgroundColor:"transparent",borderWidth:2,pointRadius:3,pointBackgroundColor:"#facc15",tension:.4,zIndex:2},{label:"Record virtuel (VB)",data:z,borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.1)",fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"#2563eb",zIndex:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,callbacks:{label:E=>`${E.dataset.label}: ${E.raw.toFixed(2)}${R.unit}`}}},scales:{y:{grid:{color:"#f1f5f9"},title:{display:!0,text:R.unit,font:{size:10,weight:"bold"}},beginAtZero:i.value!=="speed"},x:{grid:{display:!1}}}}})},B=yt(()=>{const I=new Set(s.value.map(w=>w.discipline));return Array.from(I).sort()}),Y=yt(()=>s.value.filter(I=>I.discipline===n.value).sort((I,w)=>new Date(w.date)-new Date(I.date))),D=yt(()=>{const I=Y.value.filter(w=>dt(w)>0);return I.length===0?null:I.reduce((w,$)=>dt($)<dt(w)-.001?$:w)}),A=yt(()=>D.value?Y.value.filter(I=>I.id!==D.value.id):Y.value),J=yt(()=>{const I=Y.value.map(w=>dt(w)).filter(w=>w>0);return y.value&&I.push(y.value.totalTime),k.value&&I.push(k.value.totalTime),I.length>0?Math.max(...I)*1.05:15}),Z=yt(()=>{var I,w;return Df(n.value,(I=t.value)==null?void 0:I.gender,(w=t.value)==null?void 0:w.category)||[]}),st=yt(()=>{const I=Z.value;if(!I.length)return[];const w=new Set([0]);I.forEach(W=>{w.add(W.start),w.add(W.end)});const $=Array.from(w).sort((W,R)=>W-R),z=[];for(let W=1;W<$.length;W++){const R=$[W-1],g=$[W];g>parseInt(n.value)||z.push({start:R,end:g,label:`${g}m`})}return z}),V=yt(()=>f.value?st.value.map(I=>{const w=f.value.splits.find(R=>Math.abs(R.distance-I.start)<.1)||{time:0},$=f.value.splits.find(R=>Math.abs(R.distance-I.end)<.1);if(!$)return{time:0,[i.value]:0};const z=$.time-w.time;let W=0;if(i.value==="speed")W=(I.end-I.start)/z;else if(i.value==="time")W=z;else{const R=f.value.splits.filter(g=>g.distance>I.start&&g.distance<=I.end);R.length>0?W=R.reduce((g,_)=>g+(_[i.value]||0),0)/R.length:W=$[i.value]||0}return{time:z,[i.value]:W}}):[]),Q=yt(()=>Y.value.length?st.value.map(I=>{const w=Y.value.map(R=>(R instanceof Ot?R:new Ot(R)).calculateIntervals([I])[0]).filter(R=>R&&R.time>0);if(!w.length)return{time:0,[i.value]:0};const $=Math.min(...w.map(R=>R.time)),W=i.value!=="time"?Math.max(...w.map(R=>R[i.value])):Math.min(...w.map(R=>R[i.value]));return{time:$,[i.value]:W}}):[]),et=I=>(I instanceof Ot?I:new Ot(I)).calculateIntervals(st.value),ht=new Map,Rt=(I,w)=>{if(!I)return null;const $=I.id+n.value+i.value;if(ht.has($))return ht.get($)[w];const W=(I instanceof Ot?I:new Ot(I)).calculateIntervals(Z.value);return ht.set($,W),W[w]},dt=I=>{if(!I)return 0;const w=I instanceof Ot?I:new Ot(I),$=parseInt(I.discipline),z=w.calculateIntervals([{start:0,end:$}])[0];return z?z.time:0},mt=I=>typeof I=="number"?(I>0?"+":"")+I.toFixed(2):"-",Dt=I=>I==null||I===0?"-":I.toFixed(2),bt=(I,w)=>{const $=Rt(I,w),z=M.value[w];return u($==null?void 0:$[i.value],z,i.value)},kt=I=>new Date(I).toLocaleDateString("fr-CH",{day:"numeric",month:"short"});return cn([n,i,t],F),Ms(()=>{const I=localStorage.getItem("sprint_predictor_current_athlete");I&&(t.value=Ae.load(I),s.value=Ot.getByAthlete(I),F())}),(I,w)=>{var z,W,R;const $=so("router-link");return O(),P("div",Yw,[h("div",Kw,[h("nav",Xw,[h("ol",Jw,[h("li",null,[Tt($,{to:"/",class:"text-xs font-bold text-slate-400 hover:text-blue-600 uppercase tracking-widest transition-colors"},{default:Xt(()=>[...w[4]||(w[4]=[lt("Tableau de bord",-1)])]),_:1})]),h("li",Qw,[w[5]||(w[5]=h("svg",{class:"w-4 h-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),h("span",Zw,U(((z=t.value)==null?void 0:z.name)||"Athlte"),1)])])]),h("div",tk,[h("div",null,[w[8]||(w[8]=h("h2",{class:"text-4xl font-black text-slate-900 tracking-tight mb-4"},[lt(" Analyse des "),h("span",{class:"text-blue-600"},"courses")],-1)),h("div",ek,[Tt($,{to:{path:"/races-analysis",query:{athleteId:(W=t.value)==null?void 0:W.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all text-slate-500 hover:text-slate-700"},{default:Xt(()=>[...w[6]||(w[6]=[lt(" Dcoupe et liste ",-1)])]),_:1},8,["to"]),Tt($,{to:{path:"/races-evolution",query:{athleteId:(R=t.value)==null?void 0:R.id}},class:"px-6 py-2 rounded-lg text-xs font-black uppercase transition-all bg-white text-blue-600 shadow-sm"},{default:Xt(()=>[...w[7]||(w[7]=[lt(" volution & comparaison ",-1)])]),_:1},8,["to"])])]),h("div",sk,[w[9]||(w[9]=h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest hidden lg:block"},"Discipline",-1)),h("div",nk,[(O(!0),P(rt,null,xt(B.value,g=>(O(),P("button",{key:g,onClick:_=>n.value=g,class:Yt(["px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all",n.value===g?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"])},U(g),11,ik))),128))])])])]),Y.value.length===0?(O(),P("div",ok,[...w[10]||(w[10]=[h("p",{class:"text-slate-400 font-bold"},"Aucune course enregistre pour cette discipline.",-1)])])):(O(),P("div",rk,[h("div",ak,[w[11]||(w[11]=on('<div class="flex items-center justify-between mb-6"><h3 class="text-xs font-black text-slate-400 uppercase tracking-widest">Thorie vs Ralit</h3><div class="flex items-center gap-4"><div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-blue-400/50"></div><span class="text-[10px] font-bold text-slate-500 uppercase">Potentiel thorique</span></div><div class="flex items-center gap-1.5"><div class="w-2 h-2 rounded-full bg-blue-600"></div><span class="text-[10px] font-bold text-slate-500 uppercase">Record virtuel (VB)</span></div></div></div>',1)),h("div",lk,[h("canvas",{ref_key:"comparisonChartCanvas",ref:p},null,512)])]),h("div",ck,[h("div",uk,[h("div",dk,[w[12]||(w[12]=h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Vue :",-1)),h("div",fk,[h("button",{onClick:w[0]||(w[0]=g=>a.value="grid"),class:Yt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",a.value==="grid"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-900"])},"Grille",2),h("button",{onClick:w[1]||(w[1]=g=>a.value="timeline"),class:Yt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",a.value==="timeline"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-900"])},"Chronologie",2)])]),h("div",hk,[w[13]||(w[13]=h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Mtrique :",-1)),h("div",pk,[(O(),P(rt,null,xt(b,g=>h("button",{key:g.id,onClick:_=>i.value=g.id,class:Yt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",i.value===g.id?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:text-slate-900"])},U(g.label),11,gk)),64))])])]),h("div",mk,[h("div",bk,[w[14]||(w[14]=h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Thme :",-1)),h("div",xk,[(O(),P(rt,null,xt(l,(g,_)=>h("button",{key:_,onClick:C=>o.value=_,class:Yt(["px-3 py-1.5 rounded-md text-[10px] font-black uppercase transition-all",o.value===_?"bg-slate-800 text-white shadow-sm":"text-slate-500 hover:text-slate-900"])},U(g),11,vk)),64))])]),h("div",_k,[w[15]||(w[15]=h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-wider"},"Tolrance :",-1)),h("div",yk,[$t(h("input",{type:"range",min:"2",max:"30","onUpdate:modelValue":w[2]||(w[2]=g=>r.value=g),class:"w-20 h-1.5 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-blue-600"},null,512),[[Jt,r.value,void 0,{number:!0}]]),h("span",wk,U(r.value)+"%",1)])])])]),a.value==="grid"?(O(),P("div",kk,[h("div",Ak,[w[16]||(w[16]=h("div",{class:"w-40 flex-shrink-0 p-4 border-r border-slate-100"},[h("span",{class:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Type / Chrono")],-1)),h("div",Sk,[(O(!0),P(rt,null,xt(Z.value,(g,_)=>(O(),P("div",{key:_,class:"flex-1 p-2 border-r border-slate-100 last:border-0 flex items-center justify-center"},[h("span",Ck,U(g.label),1)]))),128))])]),h("div",Tk,[y.value?(O(),P("div",Mk,[w[18]||(w[18]=h("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-blue-400"},null,-1)),h("div",Ek,[w[17]||(w[17]=h("span",{class:"text-[9px] font-black text-blue-500 uppercase tracking-tighter mb-1"},"Potentiel thorique",-1)),h("span",Ok,U(y.value.totalTime.toFixed(2))+"s",1)]),h("div",Ik,[(O(!0),P(rt,null,xt(y.value.segments,(g,_)=>(O(),P("div",{key:"pot-"+_,class:"flex-1 border-r border-blue-100/30 last:border-0 p-1"},[h("div",Pk,[h("span",Rk,U(Dt(g)),1)])]))),128))])])):ft("",!0),k.value?(O(),P("div",Dk,[w[20]||(w[20]=h("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-purple-400"},null,-1)),h("div",Lk,[w[19]||(w[19]=h("span",{class:"text-[9px] font-black text-purple-500 uppercase tracking-tighter mb-1"},"Record Virtuel (VB)",-1)),h("span",Nk,U(k.value.totalTime.toFixed(2))+"s",1)]),h("div",Fk,[(O(!0),P(rt,null,xt(k.value.segments,(g,_)=>(O(),P("div",{key:"vb-"+_,class:"flex-1 border-r border-purple-100/30 last:border-0 p-1"},[h("div",Bk,[h("span",$k,U(Dt(g)),1)])]))),128))])])):ft("",!0),D.value?(O(),P("div",Hk,[w[22]||(w[22]=h("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-yellow-400"},null,-1)),h("div",Vk,[h("div",jk,[w[21]||(w[21]=h("span",{class:"text-[8px] font-black bg-yellow-400 text-white px-1.5 py-0.5 rounded shadow-sm"},"RECORD",-1)),h("span",zk,U(kt(D.value.date)),1)]),h("div",Uk,[h("span",Wk,U(dt(D.value).toFixed(2))+"s",1),x(D.value)?(O(),P("button",{key:0,onClick:w[3]||(w[3]=g=>v(D.value)),title:"Mettre  jour le record du profil",class:"px-1.5 py-0.5 bg-emerald-500 text-white text-[8px] font-black uppercase rounded animate-pulse hover:bg-emerald-600 transition-colors"}," Nouveau PB ? ")):ft("",!0)])]),h("div",qk,[(O(!0),P(rt,null,xt(Z.value,(g,_)=>(O(),P("div",{key:"pb-seg-"+_,class:"flex-1 border-r border-yellow-100/50 last:border-0 p-1"},[Rt(D.value,_)?(O(),P("div",{key:0,class:"w-full h-full rounded flex items-center justify-center border border-yellow-400/30 shadow-inner",style:Ve(bt(D.value,_))},[h("span",Gk,U(Dt(Rt(D.value,_)[i.value])),1)],4)):ft("",!0)]))),128))])])):ft("",!0)]),h("div",Yk,[(O(!0),P(rt,null,xt(A.value,g=>(O(),P("div",{key:g.id,class:"flex hover:bg-slate-50 transition-colors group relative"},[h("div",Kk,[h("span",Xk,U(kt(g.date)),1),h("div",Jk,[h("span",Qk,U(dt(g).toFixed(2))+"s",1),D.value?(O(),P("span",{key:0,class:Yt(["text-[9px] font-bold",dt(g)>dt(D.value)?"text-red-500":"text-green-500"])},U(mt(dt(g)-dt(D.value))),3)):ft("",!0)])]),h("div",Zk,[(O(!0),P(rt,null,xt(Z.value,(_,C)=>(O(),P("div",{key:C,class:"flex-1 border-r border-slate-100 last:border-0 relative group/cell"},[Rt(g,C)?(O(),P("div",{key:0,class:"w-full h-full transition-all duration-300 flex items-center justify-center relative",style:Ve(bt(g,C))},[h("span",tA,U(Dt(Rt(g,C)[i.value])),1)],4)):ft("",!0)]))),128))])]))),128))])])):(O(),P("div",eA,[y.value?(O(),P("div",sA,[w[26]||(w[26]=h("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-blue-400"},null,-1)),h("div",nA,[w[24]||(w[24]=h("div",{class:"flex items-center gap-2 mb-1"},[h("span",{class:"text-[8px] font-black bg-blue-500 text-white px-1.5 py-0.5 rounded uppercase shadow-sm"},"TB")],-1)),h("div",iA,[h("span",oA,[lt(U(y.value.totalTime.toFixed(2)),1),w[23]||(w[23]=h("span",{class:"text-xs ml-0.5 opacity-40"},"s",-1))]),D.value?(O(),P("span",rA,U(mt(y.value.totalTime-dt(D.value))),1)):ft("",!0)]),w[25]||(w[25]=h("span",{class:"text-[10px] font-black text-blue-400/80 uppercase tracking-widest block mt-1"},"Potentiel thorique",-1))]),h("div",aA,[h("div",lA,[(O(!0),P(rt,null,xt(V.value,(g,_)=>{var C;return O(),P("div",{key:"seg-pot-"+_,class:"h-full relative border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ve({width:g.time/J.value*100+"%",...u(g[i.value],(C=Q.value[_])==null?void 0:C[i.value],i.value)})},[h("span",cA,U(Dt(g[i.value])),1)],4)}),128))])])])):ft("",!0),k.value?(O(),P("div",uA,[w[30]||(w[30]=h("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-purple-400"},null,-1)),h("div",dA,[w[28]||(w[28]=h("div",{class:"flex items-center gap-2 mb-1"},[h("span",{class:"text-[8px] font-black bg-purple-500 text-white px-1.5 py-0.5 rounded uppercase shadow-sm"},"VB")],-1)),h("div",fA,[h("span",hA,[lt(U(k.value.totalTime.toFixed(2)),1),w[27]||(w[27]=h("span",{class:"text-xs ml-0.5 opacity-40"},"s",-1))]),D.value?(O(),P("span",pA,U(mt(k.value.totalTime-dt(D.value))),1)):ft("",!0)]),w[29]||(w[29]=h("span",{class:"text-[10px] font-black text-purple-400/80 uppercase tracking-widest block mt-1"},"Record virtuel",-1))]),h("div",gA,[h("div",mA,[(O(!0),P(rt,null,xt(Q.value,(g,_)=>(O(),P("div",{key:"seg-vb-"+_,class:"h-full relative border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ve({width:g.time/J.value*100+"%",...u(g[i.value],g[i.value],i.value)})},[h("span",bA,U(Dt(g[i.value])),1)],4))),128))])])])):ft("",!0),(O(!0),P(rt,null,xt([D.value,...A.value].filter(g=>g),g=>{var _,C,L,H;return O(),P("div",{key:g.id,class:Yt(["flex items-center p-4 hover:bg-slate-50 transition-all",g.id===((_=D.value)==null?void 0:_.id)?"bg-yellow-50/50":""])},[h("div",xA,[h("div",vA,[g.id===((C=D.value)==null?void 0:C.id)?(O(),P("span",_A,"PB")):ft("",!0),h("span",yA,U(kt(g.date)),1)]),h("div",wA,[h("span",kA,[lt(U(dt(g).toFixed(2)),1),w[31]||(w[31]=h("span",{class:"text-xs ml-0.5 opacity-40"},"s",-1))]),g.id===((L=D.value)==null?void 0:L.id)&&x(g)?(O(),P("button",{key:0,onClick:E=>v(g),class:"px-1.5 py-0.5 bg-emerald-500 text-white text-[8px] font-black uppercase rounded animate-pulse"}," Nouveau PB ? ",8,AA)):ft("",!0),g.id!==((H=D.value)==null?void 0:H.id)?(O(),P("span",{key:1,class:Yt(["text-xs font-bold",dt(g)>dt(D.value)?"text-red-500":"text-green-500"])},U(mt(dt(g)-dt(D.value))),3)):ft("",!0)]),h("span",SA,U(g.name||g.discipline),1)]),h("div",CA,[D.value?(O(!0),P(rt,{key:0},xt(N(),(E,T)=>{var q;return O(),P("div",{key:"marker-"+T,class:Yt(["absolute top-0 bottom-0 border-l-2 border-dotted z-10",g.id===((q=D.value)==null?void 0:q.id)?"border-slate-900/10":"border-slate-900/20"]),style:Ve({left:E.percent+"%"})},[h("span",TA,U(E.label),1)],6)}),128)):ft("",!0),h("div",MA,[(O(!0),P(rt,null,xt(et(g),(E,T)=>{var q;return O(),P("div",{key:"seg-"+T,class:"h-full relative transition-all group/timeline border-r border-white/60 last:border-0 flex items-center justify-center overflow-hidden",style:Ve({width:E.time/J.value*100+"%",...u(E[i.value],(q=Q.value[T])==null?void 0:q[i.value],i.value)})},[h("span",EA,U(Dt(E[i.value])),1)],4)}),128))])])],2)}),128))]))]))])}}},IA={key:0,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12"},PA={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 sm:mb-8 gap-4"},RA={class:"flex items-center space-x-2 sm:space-x-4"},DA={class:"text-2xl sm:text-3xl font-extrabold text-slate-900 truncate"},LA={class:"text-blue-600"},NA={class:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8"},FA={class:"md:col-span-1 space-y-6"},BA={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},$A={class:"space-y-4"},HA={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},VA={class:"md:col-span-2 space-y-6"},jA={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},zA={class:"p-6"},UA={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},WA=["for"],qA={class:"relative"},GA=["id","step","placeholder","onUpdate:modelValue"],YA={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-slate-400 text-sm font-bold"},KA={key:1,class:"flex items-center justify-center h-screen"},XA={__name:"AthleteProfile",setup(e){const t=Rd(),s=Pd(),n=pt(null),i=yt(()=>{const u=Pf.find(d=>d.id==="pbs");return u?u.fields:[]}),o=()=>{const u=t.params.id,d=Ae.load(u);d?n.value=d:s.push("/")},r=()=>{n.value&&(n.value.save(),alert("Profil enregistr avec succs !"))},a=()=>{n.value&&(n.value.save(),Wt.setCurrentAthlete(n.value.id),s.push("/analysis"))},l=()=>{n.value&&(n.value.save(),Wt.setCurrentAthlete(n.value.id),s.push({path:"/races-analysis",query:{athleteId:n.value.id}}))},c=()=>{if(!n.value)return;const u=Ot.getByAthlete(n.value.id),d={type:"sprint_predictor_export",version:1,scope:"athlete",athlete:n.value,races:u},f=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),p=URL.createObjectURL(f),m=document.createElement("a"),b=`athlete-${n.value.name.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.json`;m.href=p,m.download=b,m.click(),URL.revokeObjectURL(p)};return Ms(o),(u,d)=>n.value?(O(),P("div",IA,[h("div",PA,[h("div",RA,[h("button",{onClick:d[0]||(d[0]=f=>rs(s).push("/")),class:"p-2 -ml-2 text-slate-400 hover:text-slate-600 transition-colors"},[...d[5]||(d[5]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),h("h2",DA,[d[6]||(d[6]=lt(" Profil de ",-1)),h("span",LA,U(n.value.name||"Athlte"),1)])]),h("div",{class:"flex items-center space-x-2 sm:space-x-3 w-full sm:w-auto"},[h("button",{onClick:c,class:"flex-1 sm:flex-none inline-flex items-center justify-center px-3 sm:px-4 py-2 border border-slate-200 bg-white hover:bg-slate-50 text-slate-700 text-sm sm:text-base font-bold rounded-lg transition-colors shadow-sm"},[...d[7]||(d[7]=[h("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),lt(" Exporter ",-1)])]),h("button",{onClick:r,class:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 sm:px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm sm:text-base font-bold rounded-lg transition-colors shadow-sm"}," Enregistrer ")])]),h("div",NA,[h("div",FA,[h("div",BA,[d[12]||(d[12]=h("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Informations de base",-1)),h("div",$A,[h("div",null,[d[8]||(d[8]=h("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Nom complet",-1)),$t(h("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>n.value.name=f),type:"text",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},null,512),[[Jt,n.value.name]])]),h("div",null,[d[9]||(d[9]=h("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Anne de naissance",-1)),$t(h("input",{"onUpdate:modelValue":d[2]||(d[2]=f=>n.value.birthYear=f),type:"number",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},null,512),[[Jt,n.value.birthYear,void 0,{number:!0}]])]),h("div",null,[d[11]||(d[11]=h("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Sexe",-1)),$t(h("select",{"onUpdate:modelValue":d[3]||(d[3]=f=>n.value.gender=f),class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"},[...d[10]||(d[10]=[h("option",{value:"M"},"Homme",-1),h("option",{value:"F"},"Femme",-1)])],512),[[ii,n.value.gender]])])])]),h("div",HA,[d[13]||(d[13]=h("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Notes & observations",-1)),$t(h("textarea",{"onUpdate:modelValue":d[4]||(d[4]=f=>n.value.notes=f),rows:"8",placeholder:"Points forts, axes d'amlioration, blessures...",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all text-sm"},null,512),[[Jt,n.value.notes]])])]),h("div",VA,[h("div",jA,[d[14]||(d[14]=h("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50"},[h("h3",{class:"text-lg font-bold text-slate-900"},"Records personnels (PB)"),h("p",{class:"text-sm text-slate-500"},"Mettez  jour les meilleures performances de l'athlte.")],-1)),h("div",zA,[h("div",UA,[(O(!0),P(rt,null,xt(i.value,f=>(O(),P("div",{key:f.id,class:"relative"},[h("label",{for:f.id,class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1"},U(f.label),9,WA),h("div",qA,[$t(h("input",{id:f.id,type:"number",step:f.step,placeholder:f.placeholder,"onUpdate:modelValue":p=>n.value.metrics[f.id]=p,class:"w-full pl-3 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all font-mono font-bold text-slate-700"},null,8,GA),[[Jt,n.value.metrics[f.id],void 0,{number:!0}]]),h("div",YA,U(f.unit),1)])]))),128))])])]),h("div",{class:"flex flex-col space-y-4"},[h("button",{onClick:a,class:"flex-1 px-4 py-3 bg-slate-900 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center"},[...d[15]||(d[15]=[lt(" Analyser le potentiel ",-1),h("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),h("button",{onClick:l,class:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center shadow-lg shadow-blue-200"},[...d[16]||(d[16]=[lt(" Analyser les courses ",-1),h("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])])])])])])):(O(),P("div",KA,[...d[17]||(d[17]=[h("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])]))}},JA=[{path:"/",name:"Home",component:Qg},{path:"/analysis",name:"Analysis",component:Iy},{path:"/races-analysis",name:"RaceAnalysis",component:Gw},{path:"/races-evolution",name:"RacesEvolution",component:OA},{path:"/athlete/:id",name:"AthleteProfile",component:XA}],QA=Og({history:lg(),routes:JA}),Nf=r0(k0);Nf.use(QA);Nf.mount("#app");
